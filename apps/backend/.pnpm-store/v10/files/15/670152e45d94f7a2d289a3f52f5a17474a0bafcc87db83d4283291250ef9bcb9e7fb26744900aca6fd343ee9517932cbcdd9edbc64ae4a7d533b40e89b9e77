{"version":3,"file":"TabLink.js","names":["c","_c","Button","useParams","usePathname","useSearchParams","formatAdminURL","React","DocumentTabLink","t0","$","adminRoute","ariaLabel","baseClass","children","href","hrefFromProps","isActive","isActiveFromProps","newTab","pathname","params","searchParams","locale","get","entityType","entitySlug","segmentThree","segments","isCollection","t1","t2","path","docPath","hrefWithLocale","t3","startsWith","t4","t5","filter","Boolean","t6","join","t7","t8","undefined","t9","_jsx","buttonStyle","className","disabled","el","margin","size","to"],"sources":["../../../../../src/elements/DocumentHeader/Tabs/Tab/TabLink.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedConfig } from 'payload'\n\nimport { Button } from '@payloadcms/ui'\nimport { useParams, usePathname, useSearchParams } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nexport const DocumentTabLink: React.FC<{\n  adminRoute: SanitizedConfig['routes']['admin']\n  ariaLabel?: string\n  baseClass: string\n  children?: React.ReactNode\n  href: string\n  isActive?: boolean\n  newTab?: boolean\n}> = ({\n  adminRoute,\n  ariaLabel,\n  baseClass,\n  children,\n  href: hrefFromProps,\n  isActive: isActiveFromProps,\n  newTab,\n}) => {\n  const pathname = usePathname()\n  const params = useParams()\n\n  const searchParams = useSearchParams()\n\n  const locale = searchParams.get('locale')\n\n  const [entityType, entitySlug, segmentThree, segmentFour, ...rest] = params.segments || []\n  const isCollection = entityType === 'collections'\n\n  let docPath = formatAdminURL({\n    adminRoute,\n    path: `/${isCollection ? 'collections' : 'globals'}/${entitySlug}`,\n  })\n\n  if (isCollection && segmentThree) {\n    // doc ID\n    docPath += `/${segmentThree}`\n  }\n\n  const href = `${docPath}${hrefFromProps}`\n  // separated the two so it doesn't break checks against pathname\n  const hrefWithLocale = `${href}${locale ? `?locale=${locale}` : ''}`\n\n  const isActive =\n    (href === docPath && pathname === docPath) ||\n    (href !== docPath && pathname.startsWith(href)) ||\n    isActiveFromProps\n\n  return (\n    <Button\n      aria-label={ariaLabel}\n      buttonStyle=\"tab\"\n      className={[baseClass, isActive && `${baseClass}--active`].filter(Boolean).join(' ')}\n      disabled={isActive}\n      el={!isActive || href !== pathname ? 'link' : 'div'}\n      margin={false}\n      newTab={newTab}\n      size=\"medium\"\n      to={!isActive || href !== pathname ? hrefWithLocale : undefined}\n    >\n      {children}\n    </Button>\n  )\n}\n"],"mappings":"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","ignoreList":[]}