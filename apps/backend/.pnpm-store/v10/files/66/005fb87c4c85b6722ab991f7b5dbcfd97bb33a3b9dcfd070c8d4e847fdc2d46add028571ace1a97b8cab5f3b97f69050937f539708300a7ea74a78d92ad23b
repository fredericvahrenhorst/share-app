{"version":3,"file":"attachViewActions.js","names":["getViewActions","editConfig","viewKey","actions","undefined","attachViewActions","collectionOrGlobal","serverProps","viewKeyArg","admin","components","views","edit","viewActions","concat"],"sources":["../../../src/views/Root/attachViewActions.ts"],"sourcesContent":["import type {\n  CustomComponent,\n  EditConfig,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  ServerPropsFromView,\n} from 'payload'\n\nexport function getViewActions({\n  editConfig,\n  viewKey,\n}: {\n  editConfig: EditConfig\n  viewKey: keyof EditConfig\n}): CustomComponent[] | undefined {\n  if (editConfig && viewKey in editConfig && 'actions' in editConfig[viewKey]) {\n    return editConfig[viewKey].actions\n  }\n\n  return undefined\n}\n\nexport function attachViewActions({\n  collectionOrGlobal,\n  serverProps,\n  viewKeyArg,\n}: {\n  collectionOrGlobal: SanitizedCollectionConfig | SanitizedGlobalConfig\n  serverProps: ServerPropsFromView\n  viewKeyArg?: keyof EditConfig\n}) {\n  if (collectionOrGlobal?.admin?.components?.views?.edit) {\n    let viewKey = viewKeyArg || 'default'\n    if ('root' in collectionOrGlobal.admin.components.views.edit) {\n      viewKey = 'root'\n    }\n\n    const actions = getViewActions({\n      editConfig: collectionOrGlobal.admin?.components?.views?.edit,\n      viewKey,\n    })\n\n    if (actions) {\n      serverProps.viewActions = serverProps.viewActions.concat(actions)\n    }\n  }\n}\n"],"mappings":"AAQA,OAAO,SAASA,eAAe;EAC7BC,UAAU;EACVC;AAAO,CAIR;EACC,IAAID,UAAA,IAAcC,OAAA,IAAWD,UAAA,IAAc,aAAaA,UAAU,CAACC,OAAA,CAAQ,EAAE;IAC3E,OAAOD,UAAU,CAACC,OAAA,CAAQ,CAACC,OAAO;EACpC;EAEA,OAAOC,SAAA;AACT;AAEA,OAAO,SAASC,kBAAkB;EAChCC,kBAAkB;EAClBC,WAAW;EACXC;AAAU,CAKX;EACC,IAAIF,kBAAA,EAAoBG,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAM;IACtD,IAAIV,OAAA,GAAUM,UAAA,IAAc;IAC5B,IAAI,UAAUF,kBAAA,CAAmBG,KAAK,CAACC,UAAU,CAACC,KAAK,CAACC,IAAI,EAAE;MAC5DV,OAAA,GAAU;IACZ;IAEA,MAAMC,OAAA,GAAUH,cAAA,CAAe;MAC7BC,UAAA,EAAYK,kBAAA,CAAmBG,KAAK,EAAEC,UAAA,EAAYC,KAAA,EAAOC,IAAA;MACzDV;IACF;IAEA,IAAIC,OAAA,EAAS;MACXI,WAAA,CAAYM,WAAW,GAAGN,WAAA,CAAYM,WAAW,CAACC,MAAM,CAACX,OAAA;IAC3D;EACF;AACF","ignoreList":[]}