{"version":3,"file":"selection.js","names":["getShiftSelection","selectFromIndex","selectToIndex","undefined","Set","start","Math","min","end","max","rangeSelection","Array","from","length","_","i","filter","index","getMetaSelection","currentSelection","toggleIndex","newSelection","has","delete","add","groupItemIDsByRelation","items","reduce","acc","item","relationTo","push","value","id"],"sources":["../../../src/providers/Folders/selection.ts"],"sourcesContent":["import type { FolderOrDocument } from 'payload/shared'\n\nexport function getShiftSelection({\n  selectFromIndex,\n  selectToIndex,\n}: {\n  selectFromIndex: number\n  selectToIndex: number\n}): Set<number> {\n  if (selectFromIndex === null || selectFromIndex === undefined) {\n    return new Set([selectToIndex])\n  }\n\n  const start = Math.min(selectToIndex, selectFromIndex)\n  const end = Math.max(selectToIndex, selectFromIndex)\n  const rangeSelection = new Set(\n    Array.from({ length: Math.max(start, end) + 1 }, (_, i) => i).filter((index) => {\n      return index >= start && index <= end\n    }),\n  )\n  return rangeSelection\n}\n\nexport function getMetaSelection({\n  currentSelection,\n  toggleIndex,\n}: {\n  currentSelection: Set<number>\n  toggleIndex: number\n}): Set<number> {\n  const newSelection = new Set(currentSelection)\n  if (newSelection.has(toggleIndex)) {\n    newSelection.delete(toggleIndex)\n  } else {\n    newSelection.add(toggleIndex)\n  }\n  return newSelection\n}\n\nexport function groupItemIDsByRelation(items: FolderOrDocument[]) {\n  return items.reduce(\n    (acc, item) => {\n      if (!acc[item.relationTo]) {\n        acc[item.relationTo] = []\n      }\n      acc[item.relationTo].push(item.value.id)\n\n      return acc\n    },\n    {} as Record<string, (number | string)[]>,\n  )\n}\n"],"mappings":"AAEA,OAAO,SAASA,kBAAkB;EAChCC,eAAe;EACfC;AAAa,CAId;EACC,IAAID,eAAA,KAAoB,QAAQA,eAAA,KAAoBE,SAAA,EAAW;IAC7D,OAAO,IAAIC,GAAA,CAAI,CAACF,aAAA,CAAc;EAChC;EAEA,MAAMG,KAAA,GAAQC,IAAA,CAAKC,GAAG,CAACL,aAAA,EAAeD,eAAA;EACtC,MAAMO,GAAA,GAAMF,IAAA,CAAKG,GAAG,CAACP,aAAA,EAAeD,eAAA;EACpC,MAAMS,cAAA,GAAiB,IAAIN,GAAA,CACzBO,KAAA,CAAMC,IAAI,CAAC;IAAEC,MAAA,EAAQP,IAAA,CAAKG,GAAG,CAACJ,KAAA,EAAOG,GAAA,IAAO;EAAE,GAAG,CAACM,CAAA,EAAGC,CAAA,KAAMA,CAAA,EAAGC,MAAM,CAAEC,KAAA;IACpE,OAAOA,KAAA,IAASZ,KAAA,IAASY,KAAA,IAAST,GAAA;EACpC;EAEF,OAAOE,cAAA;AACT;AAEA,OAAO,SAASQ,iBAAiB;EAC/BC,gBAAgB;EAChBC;AAAW,CAIZ;EACC,MAAMC,YAAA,GAAe,IAAIjB,GAAA,CAAIe,gBAAA;EAC7B,IAAIE,YAAA,CAAaC,GAAG,CAACF,WAAA,GAAc;IACjCC,YAAA,CAAaE,MAAM,CAACH,WAAA;EACtB,OAAO;IACLC,YAAA,CAAaG,GAAG,CAACJ,WAAA;EACnB;EACA,OAAOC,YAAA;AACT;AAEA,OAAO,SAASI,uBAAuBC,KAAyB;EAC9D,OAAOA,KAAA,CAAMC,MAAM,CACjB,CAACC,GAAA,EAAKC,IAAA;IACJ,IAAI,CAACD,GAAG,CAACC,IAAA,CAAKC,UAAU,CAAC,EAAE;MACzBF,GAAG,CAACC,IAAA,CAAKC,UAAU,CAAC,GAAG,EAAE;IAC3B;IACAF,GAAG,CAACC,IAAA,CAAKC,UAAU,CAAC,CAACC,IAAI,CAACF,IAAA,CAAKG,KAAK,CAACC,EAAE;IAEvC,OAAOL,GAAA;EACT,GACA,CAAC;AAEL","ignoreList":[]}