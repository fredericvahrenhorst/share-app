{"version":3,"file":"Input.js","names":["c","_c","getTranslation","React","ReactSelect","RenderCustomComponent","FieldDescription","FieldError","FieldLabel","useTranslation","fieldBaseClass","SelectInput","props","$","AfterInput","BeforeInput","className","Description","description","Error","filterOption","hasMany","t0","isClearable","t1","isSortable","t2","label","Label","localized","onChange","onInputChange","options","path","placeholder","readOnly","required","showError","style","value","undefined","i18n","t3","valueToRender","Array","isArray","t4","val","matchingOption","find","option","map","matchingOption_0","t5","option_0","t6","filter","Boolean","t7","option_1","_jsxs","join","id","replace","children","_jsx","CustomComponent","Fallback","disabled","isMulti"],"sources":["../../../src/fields/Select/Input.tsx"],"sourcesContent":["'use client'\nimport type { LabelFunction, OptionObject, StaticDescription, StaticLabel } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport React from 'react'\n\nimport type { ReactSelectAdapterProps } from '../../elements/ReactSelect/types.js'\n\nimport { ReactSelect } from '../../elements/ReactSelect/index.js'\nimport { RenderCustomComponent } from '../../elements/RenderCustomComponent/index.js'\nimport { FieldDescription } from '../../fields/FieldDescription/index.js'\nimport { FieldError } from '../../fields/FieldError/index.js'\nimport { FieldLabel } from '../../fields/FieldLabel/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { fieldBaseClass } from '../shared/index.js'\nimport './index.scss'\n\nexport type SelectInputProps = {\n  readonly AfterInput?: React.ReactNode\n  readonly BeforeInput?: React.ReactNode\n  readonly className?: string\n  readonly Description?: React.ReactNode\n  readonly description?: StaticDescription\n  readonly Error?: React.ReactNode\n  readonly filterOption?: ReactSelectAdapterProps['filterOption']\n  readonly hasMany?: boolean\n  readonly isClearable?: boolean\n  readonly isSortable?: boolean\n  readonly Label?: React.ReactNode\n  readonly label?: StaticLabel\n  readonly localized?: boolean\n  readonly name: string\n  readonly onChange?: ReactSelectAdapterProps['onChange']\n  readonly onInputChange?: ReactSelectAdapterProps['onInputChange']\n  readonly options?: OptionObject[]\n  readonly path: string\n  readonly placeholder?: LabelFunction | string\n  readonly readOnly?: boolean\n  readonly required?: boolean\n  readonly showError?: boolean\n  readonly style?: React.CSSProperties\n  readonly value?: string | string[]\n}\n\nexport const SelectInput: React.FC<SelectInputProps> = (props) => {\n  const {\n    AfterInput,\n    BeforeInput,\n    className,\n    Description,\n    description,\n    Error,\n    filterOption,\n    hasMany = false,\n    isClearable = true,\n    isSortable = true,\n    label,\n    Label,\n    localized,\n    onChange,\n    onInputChange,\n    options,\n    path,\n    placeholder,\n    readOnly,\n    required,\n    showError,\n    style,\n    value,\n  } = props\n\n  const { i18n } = useTranslation()\n\n  let valueToRender\n\n  if (hasMany && Array.isArray(value)) {\n    valueToRender = value.map((val) => {\n      const matchingOption = options.find((option) => option.value === val)\n      return {\n        label: matchingOption ? getTranslation(matchingOption.label, i18n) : val,\n        value: matchingOption?.value ?? val,\n      }\n    })\n  } else if (value) {\n    const matchingOption = options.find((option) => option.value === value)\n    valueToRender = {\n      label: matchingOption ? getTranslation(matchingOption.label, i18n) : value,\n      value: matchingOption?.value ?? value,\n    }\n  } else {\n    // If value is not present then render nothing, allowing select fields to reset to their initial 'Select an option' state\n    valueToRender = null\n  }\n\n  return (\n    <div\n      className={[\n        fieldBaseClass,\n        'select',\n        className,\n        showError && 'error',\n        readOnly && 'read-only',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      id={`field-${path.replace(/\\./g, '__')}`}\n      style={style}\n    >\n      <RenderCustomComponent\n        CustomComponent={Label}\n        Fallback={\n          <FieldLabel label={label} localized={localized} path={path} required={required} />\n        }\n      />\n      <div className={`${fieldBaseClass}__wrap`}>\n        <RenderCustomComponent\n          CustomComponent={Error}\n          Fallback={<FieldError path={path} showError={showError} />}\n        />\n        {BeforeInput}\n        <ReactSelect\n          disabled={readOnly}\n          filterOption={filterOption}\n          isClearable={isClearable}\n          isMulti={hasMany}\n          isSortable={isSortable}\n          onChange={onChange}\n          onInputChange={onInputChange}\n          options={options.map((option) => ({\n            ...option,\n            label: getTranslation(option.label, i18n),\n          }))}\n          placeholder={placeholder}\n          showError={showError}\n          value={valueToRender as OptionObject}\n        />\n        {AfterInput}\n      </div>\n      <RenderCustomComponent\n        CustomComponent={Description}\n        Fallback={<FieldDescription description={description} path={path} />}\n      />\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]}