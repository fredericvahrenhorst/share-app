"use client";
// Workaround for react-datepicker and other cjs dependencies potentially inserting require("react") statements
import * as requireReact from 'react';
import * as requireReactDom from 'react-dom';

function require(m) {
 if (m === 'react') return requireReact;
 if (m === 'react-dom') return requireReactDom;
 throw new Error(`Unknown module ${m}`);
}
// Workaround end

import{a as Lh,b as H,c as $h,d as yt,e as N5,f as L5,g as kh,h as $5,i as k5}from"./chunk-5EP6VERX.js";import{a as ct,b as Xl,c as Nh,d as L,e as ga,f as Yx,g as Jx,h as li,i as $d,j as E5,k as qx,l as j5,m as M5,n as B5}from"./chunk-TIQCV7VX.js";import{c as zr,d as Zx,e as ai}from"./chunk-5LKBKI4T.js";var aC=zr(wt=>{"use strict";function Oh(t,e){var o=t.length;t.push(e);e:for(;0<o;){var n=o-1>>>1,r=t[n];if(0<kd(r,e))t[n]=e,t[o]=r,o=n;else break e}}function Wr(t){return t.length===0?null:t[0]}function Md(t){if(t.length===0)return null;var e=t[0],o=t.pop();if(o!==e){t[0]=o;e:for(var n=0,r=t.length,s=r>>>1;n<s;){var i=2*(n+1)-1,l=t[i],a=i+1,c=t[a];if(0>kd(l,o))a<r&&0>kd(c,l)?(t[n]=c,t[a]=o,n=a):(t[n]=l,t[i]=o,n=i);else if(a<r&&0>kd(c,o))t[n]=c,t[a]=o,n=a;else break e}}return e}function kd(t,e){var o=t.sortIndex-e.sortIndex;return o!==0?o:t.id-e.id}wt.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Qx=performance,wt.unstable_now=function(){return Qx.now()}):(jh=Date,Kx=jh.now(),wt.unstable_now=function(){return jh.now()-Kx});var Qx,jh,Kx,gn=[],xs=[],O5=1,Ir=null,Po=3,Bd=!1,ci=!1,Yl=!1,oC=typeof setTimeout=="function"?setTimeout:null,rC=typeof clearTimeout=="function"?clearTimeout:null,eC=typeof setImmediate<"u"?setImmediate:null;function jd(t){for(var e=Wr(xs);e!==null;){if(e.callback===null)Md(xs);else if(e.startTime<=t)Md(xs),e.sortIndex=e.expirationTime,Oh(gn,e);else break;e=Wr(xs)}}function Vh(t){if(Yl=!1,jd(t),!ci)if(Wr(gn)!==null)ci=!0,Gh();else{var e=Wr(xs);e!==null&&zh(Vh,e.startTime-t)}}var Od=!1,Jl=-1,nC=5,sC=-1;function iC(){return!(wt.unstable_now()-sC<nC)}function Mh(){if(Od){var t=wt.unstable_now();sC=t;var e=!0;try{e:{ci=!1,Yl&&(Yl=!1,rC(Jl),Jl=-1),Bd=!0;var o=Po;try{t:{for(jd(t),Ir=Wr(gn);Ir!==null&&!(Ir.expirationTime>t&&iC());){var n=Ir.callback;if(typeof n=="function"){Ir.callback=null,Po=Ir.priorityLevel;var r=n(Ir.expirationTime<=t);if(t=wt.unstable_now(),typeof r=="function"){Ir.callback=r,jd(t),e=!0;break t}Ir===Wr(gn)&&Md(gn),jd(t)}else Md(gn);Ir=Wr(gn)}if(Ir!==null)e=!0;else{var s=Wr(xs);s!==null&&zh(Vh,s.startTime-t),e=!1}}break e}finally{Ir=null,Po=o,Bd=!1}e=void 0}}finally{e?Zl():Od=!1}}}var Zl;typeof eC=="function"?Zl=function(){eC(Mh)}:typeof MessageChannel<"u"?(Bh=new MessageChannel,tC=Bh.port2,Bh.port1.onmessage=Mh,Zl=function(){tC.postMessage(null)}):Zl=function(){oC(Mh,0)};var Bh,tC;function Gh(){Od||(Od=!0,Zl())}function zh(t,e){Jl=oC(function(){t(wt.unstable_now())},e)}wt.unstable_IdlePriority=5;wt.unstable_ImmediatePriority=1;wt.unstable_LowPriority=4;wt.unstable_NormalPriority=3;wt.unstable_Profiling=null;wt.unstable_UserBlockingPriority=2;wt.unstable_cancelCallback=function(t){t.callback=null};wt.unstable_continueExecution=function(){ci||Bd||(ci=!0,Gh())};wt.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nC=0<t?Math.floor(1e3/t):5};wt.unstable_getCurrentPriorityLevel=function(){return Po};wt.unstable_getFirstCallbackNode=function(){return Wr(gn)};wt.unstable_next=function(t){switch(Po){case 1:case 2:case 3:var e=3;break;default:e=Po}var o=Po;Po=e;try{return t()}finally{Po=o}};wt.unstable_pauseExecution=function(){};wt.unstable_requestPaint=function(){};wt.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var o=Po;Po=t;try{return e()}finally{Po=o}};wt.unstable_scheduleCallback=function(t,e,o){var n=wt.unstable_now();switch(typeof o=="object"&&o!==null?(o=o.delay,o=typeof o=="number"&&0<o?n+o:n):o=n,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=o+r,t={id:O5++,callback:e,priorityLevel:t,startTime:o,expirationTime:r,sortIndex:-1},o>n?(t.sortIndex=o,Oh(xs,t),Wr(gn)===null&&t===Wr(xs)&&(Yl?(rC(Jl),Jl=-1):Yl=!0,zh(Vh,o-n))):(t.sortIndex=r,Oh(gn,t),ci||Bd||(ci=!0,Gh())),t};wt.unstable_shouldYield=iC;wt.unstable_wrapCallback=function(t){var e=Po;return function(){var o=Po;Po=e;try{return t.apply(this,arguments)}finally{Po=o}}}});var cC=zr((Pq,lC)=>{"use strict";lC.exports=aC()});var i3=zr(ft=>{"use strict";var vo=typeof Symbol=="function"&&Symbol.for,v1=vo?Symbol.for("react.element"):60103,x1=vo?Symbol.for("react.portal"):60106,qm=vo?Symbol.for("react.fragment"):60107,Qm=vo?Symbol.for("react.strict_mode"):60108,Km=vo?Symbol.for("react.profiler"):60114,ef=vo?Symbol.for("react.provider"):60109,tf=vo?Symbol.for("react.context"):60110,C1=vo?Symbol.for("react.async_mode"):60111,of=vo?Symbol.for("react.concurrent_mode"):60111,rf=vo?Symbol.for("react.forward_ref"):60112,nf=vo?Symbol.for("react.suspense"):60113,BL=vo?Symbol.for("react.suspense_list"):60120,sf=vo?Symbol.for("react.memo"):60115,af=vo?Symbol.for("react.lazy"):60116,OL=vo?Symbol.for("react.block"):60121,VL=vo?Symbol.for("react.fundamental"):60117,GL=vo?Symbol.for("react.responder"):60118,zL=vo?Symbol.for("react.scope"):60119;function mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case v1:switch(t=t.type,t){case C1:case of:case qm:case Km:case Qm:case nf:return t;default:switch(t=t&&t.$$typeof,t){case tf:case rf:case af:case sf:case ef:return t;default:return e}}case x1:return e}}}function s3(t){return mr(t)===of}ft.AsyncMode=C1;ft.ConcurrentMode=of;ft.ContextConsumer=tf;ft.ContextProvider=ef;ft.Element=v1;ft.ForwardRef=rf;ft.Fragment=qm;ft.Lazy=af;ft.Memo=sf;ft.Portal=x1;ft.Profiler=Km;ft.StrictMode=Qm;ft.Suspense=nf;ft.isAsyncMode=function(t){return s3(t)||mr(t)===C1};ft.isConcurrentMode=s3;ft.isContextConsumer=function(t){return mr(t)===tf};ft.isContextProvider=function(t){return mr(t)===ef};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===v1};ft.isForwardRef=function(t){return mr(t)===rf};ft.isFragment=function(t){return mr(t)===qm};ft.isLazy=function(t){return mr(t)===af};ft.isMemo=function(t){return mr(t)===sf};ft.isPortal=function(t){return mr(t)===x1};ft.isProfiler=function(t){return mr(t)===Km};ft.isStrictMode=function(t){return mr(t)===Qm};ft.isSuspense=function(t){return mr(t)===nf};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qm||t===of||t===Km||t===Qm||t===nf||t===BL||typeof t=="object"&&t!==null&&(t.$$typeof===af||t.$$typeof===sf||t.$$typeof===ef||t.$$typeof===tf||t.$$typeof===rf||t.$$typeof===VL||t.$$typeof===GL||t.$$typeof===zL||t.$$typeof===OL)};ft.typeOf=mr});var l3=zr((Bfe,a3)=>{"use strict";a3.exports=i3()});var h3=zr((Ofe,p3)=>{"use strict";var y1=l3(),WL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},HL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},UL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},w1={};w1[y1.ForwardRef]=UL;w1[y1.Memo]=m3;function c3(t){return y1.isMemo(t)?m3:w1[t.$$typeof]||WL}var XL=Object.defineProperty,ZL=Object.getOwnPropertyNames,u3=Object.getOwnPropertySymbols,YL=Object.getOwnPropertyDescriptor,JL=Object.getPrototypeOf,d3=Object.prototype;function f3(t,e,o){if(typeof e!="string"){if(d3){var n=JL(e);n&&n!==d3&&f3(t,n,o)}var r=ZL(e);u3&&(r=r.concat(u3(e)));for(var s=c3(t),i=c3(e),l=0;l<r.length;++l){var a=r[l];if(!HL[a]&&!(o&&o[a])&&!(i&&i[a])&&!(s&&s[a])){var c=YL(e,a);try{XL(t,a,c)}catch{}}}}return t}p3.exports=f3});var ob=zr((Sbe,AI)=>{var tb=Math.floor(Math.random()*16777215),DI=bt.index=parseInt(Math.random()*16777215,10),FI=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,TI=(()=>{try{return _Buffer}catch{try{return Buffer}catch{return null}}})(),Sf=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},PI=[];for(qo=0;qo<256;qo++)PI[qo]=(qo<=15?"0":"")+qo.toString(16);var qo,RI=new RegExp("^[0-9a-fA-F]{24}$"),Jc=[];qo=0;for(;qo<10;)Jc[48+qo]=qo++;for(;qo<16;)Jc[55+qo]=Jc[87+qo]=qo++;function bt(t){if(!(this instanceof bt))return new bt(t);if(t&&(t instanceof bt||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=bt.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return bt.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}AI.exports=bt;bt.default=bt;bt.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new bt(Wj(8,t)+"0000000000000000")};bt.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",o=0;o<24;)e+=String.fromCharCode(Jc[t.charCodeAt(o++)]<<4|Jc[t.charCodeAt(o++)]);return new bt(e)};bt.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&RI.test(t):t instanceof bt?!0:Sf(t)?bt.isValid(t.toString("hex")):typeof t.toHexString=="function"&&TI&&(t.id instanceof TI||typeof t.id=="string")?t.id.length===12||t.id.length===24&&RI.test(t.id):!1};bt.prototype={constructor:bt,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(Sf(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=PI[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof bt?this.toString()===t.toString():typeof t=="string"&&bt.isValid(t)&&t.length===12&&Sf(this.id)?t===this.id.toString("binary"):typeof t=="string"&&bt.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&bt.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof bt||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return Sf(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=zj();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,tb>>16&255,tb>>8&255,tb&255,FI>>8&255,FI&255,e>>16&255,e>>8&255,e&255)}};function zj(){return DI=(DI+1)%16777215}function Wj(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var Hj=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";bt.prototype[Hj]=function(){return"ObjectID("+this+")"};bt.prototype.toJSON=bt.prototype.toHexString;bt.prototype.toString=bt.prototype.toHexString});var Yb=zr((XSe,l_)=>{function Zb(t){return t===void 0}function UO(t){return t===null}function XO(t){return typeof t=="boolean"}function Zf(t){return t===Object(t)}function i_(t){return Array.isArray(t)}function ZO(t){return t instanceof Date}function a_(t,e){return e?Zf(t)&&!Zb(t.uri):Zf(t)&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.slice=="function"}function YO(t,e){return a_(t,e)&&typeof t.name=="string"&&(Zf(t.lastModifiedDate)||typeof t.lastModified=="number")}function Wi(t){return Zb(t)?!1:t}function Xb(t,e,o,n){e=e||{},o=o||new FormData,e.indices=Wi(e.indices),e.nullsAsUndefineds=Wi(e.nullsAsUndefineds),e.booleansAsIntegers=Wi(e.booleansAsIntegers),e.allowEmptyArrays=Wi(e.allowEmptyArrays),e.noAttributesWithArrayNotation=Wi(e.noAttributesWithArrayNotation),e.noFilesWithArrayNotation=Wi(e.noFilesWithArrayNotation),e.dotsForObjectNotation=Wi(e.dotsForObjectNotation);let r=typeof o.getParts=="function";return Zb(t)||(UO(t)?e.nullsAsUndefineds||o.append(n,""):XO(t)?e.booleansAsIntegers?o.append(n,t?1:0):o.append(n,t):i_(t)?t.length?t.forEach((s,i)=>{let l=n+"["+(e.indices?i:"")+"]";(e.noAttributesWithArrayNotation||e.noFilesWithArrayNotation&&YO(s,r))&&(l=n),Xb(s,e,o,l)}):e.allowEmptyArrays&&o.append(e.noAttributesWithArrayNotation?n:n+"[]",""):ZO(t)?o.append(n,t.toISOString()):Zf(t)&&!a_(t,r)?Object.keys(t).forEach(s=>{let i=t[s];if(i_(i))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);let l=n?e.dotsForObjectNotation?n+"."+s:n+"["+s+"]":s;Xb(i,e,o,l)}):o.append(n,t)),o}l_.exports={serialize:Xb}});var I6=zr((K$e,S6)=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(o,n){return o<<n|o>>>32-n},rotr:function(o,n){return o<<32-n|o>>>n},endian:function(o){if(o.constructor==Number)return e.rotl(o,8)&16711935|e.rotl(o,24)&4278255360;for(var n=0;n<o.length;n++)o[n]=e.endian(o[n]);return o},randomBytes:function(o){for(var n=[];o>0;o--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(o){for(var n=[],r=0,s=0;r<o.length;r++,s+=8)n[s>>>5]|=o[r]<<24-s%32;return n},wordsToBytes:function(o){for(var n=[],r=0;r<o.length*32;r+=8)n.push(o[r>>>5]>>>24-r%32&255);return n},bytesToHex:function(o){for(var n=[],r=0;r<o.length;r++)n.push((o[r]>>>4).toString(16)),n.push((o[r]&15).toString(16));return n.join("")},hexToBytes:function(o){for(var n=[],r=0;r<o.length;r+=2)n.push(parseInt(o.substr(r,2),16));return n},bytesToBase64:function(o){for(var n=[],r=0;r<o.length;r+=3)for(var s=o[r]<<16|o[r+1]<<8|o[r+2],i=0;i<4;i++)r*8+i*6<=o.length*8?n.push(t.charAt(s>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,s=0;r<o.length;s=++r%4)s!=0&&n.push((t.indexOf(o.charAt(r-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(o.charAt(r))>>>6-s*2);return n}};S6.exports=e})()});var Uv=zr((eke,_6)=>{var Hv={utf8:{stringToBytes:function(t){return Hv.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(Hv.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t.charCodeAt(o)&255);return e},bytesToString:function(t){for(var e=[],o=0;o<t.length;o++)e.push(String.fromCharCode(t[o]));return e.join("")}}};_6.exports=Hv});var T6=zr((tke,F6)=>{F6.exports=function(t){return t!=null&&(D6(t)||Zz(t)||!!t._isBuffer)};function D6(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Zz(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&D6(t.slice(0,0))}});var P6=zr((oke,R6)=>{(function(){var t=I6(),e=Uv().utf8,o=T6(),n=Uv().bin,r=function(s,i){s.constructor==String?i&&i.encoding==="binary"?s=n.stringToBytes(s):s=e.stringToBytes(s):o(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var l=t.bytesToWords(s),a=s.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,m=0;m<l.length;m++)l[m]=(l[m]<<8|l[m]>>>24)&16711935|(l[m]<<24|l[m]>>>8)&4278255360;l[a>>>5]|=128<<a%32,l[(a+64>>>9<<4)+14]=a;for(var h=r._ff,p=r._gg,g=r._hh,b=r._ii,m=0;m<l.length;m+=16){var x=c,v=u,C=d,y=f;c=h(c,u,d,f,l[m+0],7,-680876936),f=h(f,c,u,d,l[m+1],12,-389564586),d=h(d,f,c,u,l[m+2],17,606105819),u=h(u,d,f,c,l[m+3],22,-1044525330),c=h(c,u,d,f,l[m+4],7,-176418897),f=h(f,c,u,d,l[m+5],12,1200080426),d=h(d,f,c,u,l[m+6],17,-1473231341),u=h(u,d,f,c,l[m+7],22,-45705983),c=h(c,u,d,f,l[m+8],7,1770035416),f=h(f,c,u,d,l[m+9],12,-1958414417),d=h(d,f,c,u,l[m+10],17,-42063),u=h(u,d,f,c,l[m+11],22,-1990404162),c=h(c,u,d,f,l[m+12],7,1804603682),f=h(f,c,u,d,l[m+13],12,-40341101),d=h(d,f,c,u,l[m+14],17,-1502002290),u=h(u,d,f,c,l[m+15],22,1236535329),c=p(c,u,d,f,l[m+1],5,-165796510),f=p(f,c,u,d,l[m+6],9,-1069501632),d=p(d,f,c,u,l[m+11],14,643717713),u=p(u,d,f,c,l[m+0],20,-373897302),c=p(c,u,d,f,l[m+5],5,-701558691),f=p(f,c,u,d,l[m+10],9,38016083),d=p(d,f,c,u,l[m+15],14,-660478335),u=p(u,d,f,c,l[m+4],20,-405537848),c=p(c,u,d,f,l[m+9],5,568446438),f=p(f,c,u,d,l[m+14],9,-1019803690),d=p(d,f,c,u,l[m+3],14,-187363961),u=p(u,d,f,c,l[m+8],20,1163531501),c=p(c,u,d,f,l[m+13],5,-1444681467),f=p(f,c,u,d,l[m+2],9,-51403784),d=p(d,f,c,u,l[m+7],14,1735328473),u=p(u,d,f,c,l[m+12],20,-1926607734),c=g(c,u,d,f,l[m+5],4,-378558),f=g(f,c,u,d,l[m+8],11,-2022574463),d=g(d,f,c,u,l[m+11],16,1839030562),u=g(u,d,f,c,l[m+14],23,-35309556),c=g(c,u,d,f,l[m+1],4,-1530992060),f=g(f,c,u,d,l[m+4],11,1272893353),d=g(d,f,c,u,l[m+7],16,-155497632),u=g(u,d,f,c,l[m+10],23,-1094730640),c=g(c,u,d,f,l[m+13],4,681279174),f=g(f,c,u,d,l[m+0],11,-358537222),d=g(d,f,c,u,l[m+3],16,-722521979),u=g(u,d,f,c,l[m+6],23,76029189),c=g(c,u,d,f,l[m+9],4,-640364487),f=g(f,c,u,d,l[m+12],11,-421815835),d=g(d,f,c,u,l[m+15],16,530742520),u=g(u,d,f,c,l[m+2],23,-995338651),c=b(c,u,d,f,l[m+0],6,-198630844),f=b(f,c,u,d,l[m+7],10,1126891415),d=b(d,f,c,u,l[m+14],15,-1416354905),u=b(u,d,f,c,l[m+5],21,-57434055),c=b(c,u,d,f,l[m+12],6,1700485571),f=b(f,c,u,d,l[m+3],10,-1894986606),d=b(d,f,c,u,l[m+10],15,-1051523),u=b(u,d,f,c,l[m+1],21,-2054922799),c=b(c,u,d,f,l[m+8],6,1873313359),f=b(f,c,u,d,l[m+15],10,-30611744),d=b(d,f,c,u,l[m+6],15,-1560198380),u=b(u,d,f,c,l[m+13],21,1309151649),c=b(c,u,d,f,l[m+4],6,-145523070),f=b(f,c,u,d,l[m+11],10,-1120210379),d=b(d,f,c,u,l[m+2],15,718787259),u=b(u,d,f,c,l[m+9],21,-343485551),c=c+x>>>0,u=u+v>>>0,d=d+C>>>0,f=f+y>>>0}return t.endian([c,u,d,f])};r._ff=function(s,i,l,a,c,u,d){var f=s+(i&l|~i&a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._gg=function(s,i,l,a,c,u,d){var f=s+(i&a|l&~a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._hh=function(s,i,l,a,c,u,d){var f=s+(i^l^a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._ii=function(s,i,l,a,c,u,d){var f=s+(l^(i|~a))+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._blocksize=16,r._digestsize=16,R6.exports=function(s,i){if(s==null)throw new Error("Illegal argument "+s);var l=t.wordsToBytes(r(s,i));return i&&i.asBytes?l:i&&i.asString?n.bytesToString(l):t.bytesToHex(l)}})()});import{jsx as Jh}from"react/jsx-runtime";import"react";function me({CustomComponent:t,Fallback:e}){return t!==void 0?t:e}import{c as K5}from"react/compiler-runtime";import{jsx as eP}from"react/jsx-runtime";import fC from"react";import{createContext as Cs,use as ys}from"react";var ql=ai(cC(),1);import{createElement as V5,createContext as G5,useContext as z5,useEffect as W5,useLayoutEffect as H5,useReducer as U5,useRef as Wh,useState as X5}from"react";var Vd=Symbol(),Z5=Symbol(),Y5=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),uC=Y5?W5:H5,J5=ql.unstable_runWithPriority?t=>{try{(0,ql.unstable_runWithPriority)(ql.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),q5=t=>({value:o,children:n})=>{let r=Wh(o),s=Wh(0),[i,l]=X5(null);i&&(i(o),l(null));let a=Wh();if(!a.current){let c=new Set,u=(d,f)=>{s.current+=1;let m={n:s.current};f?.suspense&&(m.n*=-1,m.p=new Promise(h=>{l(()=>p=>{m.v=p,delete m.p,h(p)})})),c.forEach(h=>h(m)),d()};a.current={[Vd]:{v:r,n:s,l:c,u}}}return uC(()=>{r.current=o,s.current+=1,J5(()=>{a.current[Vd].l.forEach(c=>{c({n:s.current,v:o})})})},[o]),V5(t,{value:a.current},n)},Q5=t=>t;function dC(t){let e=G5({[Vd]:{v:{current:t},n:{current:-1},l:new Set,u:o=>o()}});return e[Z5]=e.Provider,e.Provider=q5(e.Provider),delete e.Consumer,e}function Hh(t,e){let o=z5(t)[Vd],{v:{current:n},n:{current:r},l:s}=o,i=e(n),[l,a]=U5((c,u)=>{if(!u)return[n,i];if("p"in u)throw u.p;if(u.n===r)return Object.is(c[1],i)?c:[n,i];try{if("v"in u){if(Object.is(c[0],u.v))return c;let d=e(u.v);return Object.is(c[1],d)?c:[u.v,d]}}catch{}return[...c]},[n,i]);return Object.is(l[1],i)||a(),uC(()=>(s.add(a),()=>{s.delete(a)}),[s]),l[1]}function mC(t){return Hh(t,Q5)}var Gd=Cs({}),zd=Cs({}),Wd=Cs({}),Hd=Cs(!1),Ud=Cs(!1),Uh=Cs(!1),Xd=Cs(!1),Xh=Cs(!1),Ql=dC([{},()=>null]),ke=()=>ys(Gd),ba=()=>ys(zd),Zd=()=>ys(Wd),oo=()=>ys(Hd),_r=()=>ys(Ud),Zh=()=>ys(Uh),ro=()=>ys(Xd),ui=()=>ys(Xh),Tt=t=>Hh(Ql,t),ws=()=>mC(Ql);var pC=fC.createContext({data:{},path:"",rowNumber:void 0}),Yh=t=>{let e=K5(6),{children:o,path:n,rowNumber:r}=t,{getDataByPath:s,getSiblingData:i}=Zd(),l;if(e[0]!==o||e[1]!==s||e[2]!==i||e[3]!==n||e[4]!==r){let a=i(n),u=s(n)||a;l=eP(pC,{value:{data:u,path:n,rowNumber:r},children:o}),e[0]=o,e[1]=s,e[2]=i,e[3]=n,e[4]=r,e[5]=l}else l=e[5];return l},tP=()=>fC.use(pC);var oP="row-label",Ln=t=>{let{className:e,CustomComponent:o,label:n,path:r,rowNumber:s}=t;return Jh(Yh,{path:r,rowNumber:s,children:Jh(me,{CustomComponent:o,Fallback:typeof n=="string"?Jh("span",{className:[oP,e].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:n}):n})})};import{c as DG}from"react/compiler-runtime";import{jsx as Co,jsxs as ea}from"react/jsx-runtime";import{getTranslation as Av}from"@payloadcms/translations";import FG from"react";import{jsx as Kh,jsxs as pP}from"react/jsx-runtime";import CC from"react";import{jsx as uP}from"react/jsx-runtime";import xC from"next/link.js";import{useRouter as dP}from"next/navigation.js";import"react";import{c as rP}from"react/compiler-runtime";import{jsx as nP}from"react/jsx-runtime";import qh,{startTransition as sP,useEffect as iP,useOptimistic as aP,useRef as hC}from"react";var Qh=t=>{let e=rP(11),{children:o}=t,[n,r]=aP(!1),[s,i]=qh.useState(0),l=hC(s),a=hC(null),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{a.current=setInterval(()=>{let g=l.current+(.93-l.current)*Math.random()*.2*Math.pow(Math.log(1+(1-l.current)*.75),.75);i(g),l.current=g},250)},e[0]=c):c=e[0];let u=c,d,f;e[1]!==n?(d=()=>{i(0),l.current=0,n?u():a.current&&clearInterval(a.current)},f=[n,u],e[1]=n,e[2]=d,e[3]=f):(d=e[2],f=e[3]),iP(d,f);let m;e[4]!==r?(m=g=>{sP(()=>{r(!0),typeof g=="function"&&g()})},e[4]=r,e[5]=m):m=e[5];let h=m,p;return e[6]!==o||e[7]!==n||e[8]!==h||e[9]!==s?(p=nP(gC,{value:{isTransitioning:n,startRouteTransition:h,transitionProgress:s},children:o}),e[6]=o,e[7]=n,e[8]=h,e[9]=s,e[10]=p):p=e[10],p},gC=qh.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),Ue=()=>qh.use(gC);var lP=/https?|ftp|gopher|file/;function bC(t){return typeof t=="string"||typeof t=="number"&&!isNaN(t)||typeof t=="boolean"?String(t):""}function cP(t){let e=new URLSearchParams;return Object.entries(t).forEach(([o,n])=>{Array.isArray(n)?n.forEach(r=>e.append(o,bC(r))):e.set(o,bC(n))}),e}function vC(t){let{auth:e}=t,{hostname:o}=t,n=t.protocol||"",r=t.pathname||"",s=t.hash||"",i=t.query||"",l=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?l=e+t.host:o&&(l=e+(~o.indexOf(":")?`[${o}]`:o),t.port&&(l+=":"+t.port)),i&&typeof i=="object"&&(i=String(cP(i)));let a=t.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),t.slashes||(!n||lP.test(n))&&l!==!1?(l="//"+(l||""),r&&r[0]!=="/"&&(r="/"+r)):l||(l=""),s&&s[0]!=="#"&&(s="#"+s),a&&a[0]!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,encodeURIComponent),a=a.replace("#","%23"),`${n}${l}${r}${a}${s}`}var mP=xC.default||xC;function fP(t){let o=t.currentTarget.getAttribute("target");return o&&o!=="_self"||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&t.nativeEvent.which===2}var Vt=({children:t,href:e,onClick:o,preventDefault:n=!0,ref:r,replace:s,scroll:i,...l})=>{let a=dP(),{startRouteTransition:c}=Ue();return uP(mP,{href:e,onClick:u=>{fP(u)||(o&&o(u),n&&u.preventDefault(),c(()=>{let d=typeof e=="string"?e:vC(e);s?a.replace(d,{scroll:i}):a.push(d,{scroll:i})}))},ref:r,...l,children:t})};var di="banner",Hr=({type:t="default",alignIcon:e="right",children:o,className:n,icon:r,onClick:s,to:i})=>{let l=[di,`${di}--type-${t}`,n&&n,i&&`${di}--has-link`,(i||s)&&`${di}--has-action`,r&&`${di}--has-icon`,r&&`${di}--align-icon-${e}`].filter(Boolean).join(" "),a="div";return s&&!i&&(a="button"),i&&(a=Vt),pP(a,{className:l,href:i||null,onClick:s,children:[r&&e==="left"&&Kh(CC.Fragment,{children:r}),Kh("span",{className:`${di}__content`,children:o}),r&&e==="right"&&Kh(CC.Fragment,{children:r})]})};import{jsx as sr,jsxs as em}from"react/jsx-runtime";import LP,{Fragment as $P,isValidElement as kP}from"react";import{jsx as yC}from"react/jsx-runtime";import"react";var Ve=({ariaLabel:t,className:e,direction:o,size:n})=>yC("svg",{"aria-label":t,className:["icon icon--chevron",e,n&&`icon--size-${n}`].filter(Boolean).join(" "),height:"100%",style:{transform:o==="left"?"rotate(90deg)":o==="right"?"rotate(-90deg)":o==="up"?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:yC("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})});import{jsx as wC}from"react/jsx-runtime";import"react";var Ur=({className:t})=>wC("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:wC("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})});import{jsx as SC}from"react/jsx-runtime";import"react";var eg=()=>SC("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:SC("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})});import{jsx as IC}from"react/jsx-runtime";import"react";var Dr=()=>IC("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:IC("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})});import{jsx as _C}from"react/jsx-runtime";import"react";var tg=()=>_C("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:_C("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})});import{jsx as mi,jsxs as sg}from"react/jsx-runtime";var Ce={};Zx(Ce,{Button:()=>rg,ButtonGroup:()=>og,Divider:()=>DC,GroupLabel:()=>Yd});import{jsx as Jd}from"react/jsx-runtime";import"react";import{jsx as hP}from"react/jsx-runtime";import"react";var gP="popup-divider",DC=()=>hP("hr",{className:gP});import{jsx as bP}from"react/jsx-runtime";import"react";var vP="popup-list-group-label",Yd=({label:t})=>bP("p",{className:vP,children:t});var va="popup-button-list",og=({buttonSize:t="default",children:e,className:o,textAlign:n="left"})=>{let r=[va,o,`${va}__text-align--${n}`,`${va}__button-size--${t}`].filter(Boolean).join(" ");return Jd("div",{className:r,children:e})},rg=({id:t,active:e,children:o,className:n,disabled:r,href:s,onClick:i})=>{let l=[`${va}__button`,r&&`${va}__disabled`,e&&`${va}__button--selected`,n].filter(Boolean).join(" ");if(!r){if(s)return Jd(Vt,{className:l,href:s,id:t,onClick:a=>{i&&i(a)},prefetch:!1,children:o});if(i)return Jd("button",{className:l,id:t,onClick:a=>{i&&i(a)},type:"button",children:o})}return Jd("div",{className:l,id:t,children:o})};var Ss={};Zx(Ss,{WindowInfo:()=>RC,WindowInfoContext:()=>xa,WindowInfoProvider:()=>EC,useWindowInfo:()=>Ao,withWindowInfo:()=>NC});import{useContext as CP}from"react";import{createContext as xP}from"react";var xa=xP({});var Ao=()=>CP(xa);import FC,{Fragment as TC}from"react";var RC=t=>{let{children:e}=t,o=Ao();return e?typeof e=="function"?FC.createElement(TC,null,e(o)):FC.createElement(TC,null,e):null};import yP,{useCallback as PC,useEffect as AC,useReducer as wP,useRef as SP}from"react";var IP=(t,e)=>{let{payload:{breakpoints:o,animationRef:n}}=e;n.current=null;let{eventsFired:r}=t,{documentElement:{style:s,clientWidth:i,clientHeight:l}}=document,{innerWidth:a,innerHeight:c}=window,u=`${i/100}px`,d=`${l/100}px`,f=o?Object.keys(o).reduce((h,p)=>Object.assign(Object.assign({},h),{[p]:window.matchMedia(o[p]).matches}),{}):{},m={width:a,height:c,"--vw":u,"--vh":d,breakpoints:f,eventsFired:r+1};return s.setProperty("--vw",u),s.setProperty("--vh",d),m},EC=t=>{let{breakpoints:e,children:o}=t,n=SP(null),[r,s]=wP(IP,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=PC(()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}}))},[e]),l=PC(()=>{setTimeout(()=>{i()},500)},[i]);return AC(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",l),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",l)}),[i,l]),AC(()=>{r.eventsFired===0&&s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}})},[e,r]),yP.createElement(xa.Provider,{value:Object.assign({},r)},o&&o)};import _P from"react";var NC=t=>o=>{let n=Ao();return _P.createElement(t,Object.assign({},o,{windowInfo:n}))};import PP,{useCallback as kC,useEffect as qd,useRef as jC,useState as ig}from"react";import{c as DP}from"react/compiler-runtime";import{useEffect as FP,useRef as TP,useState as LC}from"react";var $n=(t,e)=>{let o=DP(14),n;o[0]!==t?(n=t===void 0?{}:t,o[0]=t,o[1]=n):n=o[1];let{root:r,rootMargin:s,threshold:i}=n,l=r===void 0?null:r,a=s===void 0?"0px":s,c=i===void 0?0:i,[u,d]=LC(),[f,m]=LC(null),h;o[2]!==e||o[3]!==l||o[4]!==a||o[5]!==c?(h=typeof window<"u"&&"IntersectionObserver"in window&&!e?new window.IntersectionObserver(v=>{let[C]=v;return d(C)},{root:l,rootMargin:a,threshold:c}):null,o[2]=e,o[3]=l,o[4]=a,o[5]=c,o[6]=h):h=o[6];let p=TP(h),g,b;o[7]!==e||o[8]!==f?(g=()=>{if(e)return;let{current:v}=p;return v.disconnect(),f&&v.observe(f),()=>v.disconnect()},b=[f,e],o[7]=e,o[8]=f,o[9]=g,o[10]=b):(g=o[9],b=o[10]),FP(g,b);let x;return o[11]!==u||o[12]!==f?(x=[m,u,f],o[11]=u,o[12]=f,o[13]=x):x=o[13],x};import{c as RP}from"react/compiler-runtime";import{jsx as $C}from"react/jsx-runtime";import"react";var Kl="popup-button",ng=t=>{let e=RP(24),{active:o,button:n,buttonType:r,className:s,disabled:i,noBackground:l,setActive:a,size:c}=t,u=`${Kl}--${r}`,d=!l&&`${Kl}--background`,f=c&&`${Kl}--size-${c}`,m=i&&`${Kl}--disabled`,h;e[0]!==s||e[1]!==u||e[2]!==d||e[3]!==f||e[4]!==m?(h=[Kl,s,u,d,f,m].filter(Boolean),e[0]=s,e[1]=u,e[2]=d,e[3]=f,e[4]=m,e[5]=h):h=e[5];let p=h.join(" "),g;e[6]!==o||e[7]!==a?(g=()=>{a(!o)},e[6]=o,e[7]=a,e[8]=g):g=e[8];let b=g;if(r==="none")return null;if(r==="custom"){let C;e[9]!==b?(C=S=>{S.key==="Enter"&&b()},e[9]=b,e[10]=C):C=e[10];let y;return e[11]!==n||e[12]!==p||e[13]!==b||e[14]!==C?(y=$C("div",{className:p,onClick:b,onKeyDown:C,role:"button",tabIndex:0,children:n}),e[11]=n,e[12]=p,e[13]=b,e[14]=C,e[15]=y):y=e[15],y}let x;e[16]!==b?(x=C=>{C.key==="Enter"&&b()},e[16]=b,e[17]=x):x=e[17];let v;return e[18]!==n||e[19]!==p||e[20]!==i||e[21]!==b||e[22]!==x?(v=$C("button",{className:p,disabled:i,onClick:b,onKeyDown:x,tabIndex:0,type:"button",children:n}),e[18]=n,e[19]=p,e[20]=i,e[21]=b,e[22]=x,e[23]=v):v=e[23],v};var Zo="popup",ut=t=>{let{id:e,boundingRef:o,button:n,buttonClassName:r,buttonSize:s,buttonType:i="default",caret:l=!0,children:a,className:c,disabled:u,forceOpen:d,horizontalAlign:f="left",initActive:m=!1,noBackground:h,onToggleClose:p,onToggleOpen:g,render:b,showOnHover:x=!1,showScrollbar:v=!1,size:C="medium",verticalAlign:y="top"}=t,{height:S,width:w}=Ao(),[_,D]=$n({root:o?.current||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),R=jC(null),T=jC(null),[I,F]=ig(m),[P,A]=ig(y),[k,$]=ig(f),j=PP.useCallback(M=>{M&&typeof g=="function"&&g(!0),!M&&typeof p=="function"&&p(),F(M)},[p,g]),N=kC(({horizontal:M=!1,vertical:B=!1})=>{if(R.current){let V=R.current.getBoundingClientRect(),{bottom:G,left:z,right:U,top:oe}=V,X=100,Y=document.documentElement.clientWidth,re=document.documentElement.clientHeight,W=0;o?.current&&({bottom:re,left:W,right:Y,top:X}=o.current.getBoundingClientRect()),M&&(U>Y&&z>W?$("right"):z<W&&U<Y&&$("left")),B&&(oe<X&&G<re?A("bottom"):G>re&&oe>X&&A("top"))}},[o]),E=kC(M=>{R.current.contains(M.target)||T.current.contains(M.target)||j(!1)},[R,j]);qd(()=>{N({horizontal:!0})},[D,N,w]),qd(()=>{N({vertical:!0})},[D,N,S]),qd(()=>(I?document.addEventListener("mousedown",E):document.removeEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}),[I,E,g]),qd(()=>{j(d)},[d,j]);let O=[Zo,c,`${Zo}--size-${C}`,s&&`${Zo}--button-size-${s}`,`${Zo}--v-align-${P}`,`${Zo}--h-align-${k}`,I&&`${Zo}--active`,v&&`${Zo}--show-scrollbar`].filter(Boolean).join(" ");return sg("div",{className:O,id:e,children:[mi("div",{className:`${Zo}__trigger-wrap`,ref:T,children:x?mi("div",{className:`${Zo}__on-hover-watch`,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),role:"button",tabIndex:0,children:mi(ng,{active:I,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:j,size:s})}):mi(ng,{active:I,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:j,size:s})}),sg("div",{className:`${Zo}__content`,ref:R,children:[mi("div",{className:`${Zo}__hide-scrollbar`,ref:_,children:mi("div",{className:`${Zo}__scroll-container`,children:sg("div",{className:`${Zo}__scroll-content`,children:[b&&b({close:()=>j(!1)}),a]})})}),l&&mi("div",{className:`${Zo}__caret`})]})]})};import{c as AP}from"react/compiler-runtime";import{jsx as Qd,jsxs as EP}from"react/jsx-runtime";import ag,{useEffect as MC}from"react";var So=t=>{let e=AP(26),{alignCaret:o,boundingRef:n,children:r,className:s,delay:i,position:l,show:a,staticPositioning:c}=t,u=o===void 0?"center":o,d=i===void 0?350:i,f=a===void 0?!0:a,m=c===void 0?!1:c,[h,p]=ag.useState(f),[g,b]=ag.useState("top"),x=NP,v=n?.current||null,C;e[0]!==v?(C={root:v,rootMargin:"-145px 0px 0px 100px",threshold:0},e[0]=v,e[1]=C):C=e[1];let[y,S]=$n(C,m),w,_;e[2]!==d||e[3]!==f?(w=()=>{let I;return d&&f?I=setTimeout(()=>{p(f)},d):p(f),()=>{I&&clearTimeout(I)}},_=[f,d],e[2]=d,e[3]=f,e[4]=w,e[5]=_):(w=e[4],_=e[5]),MC(w,_);let D;e[6]!==S?.isIntersecting||e[7]!==m?(D=()=>{m||b(S?.isIntersecting?"top":"bottom")},e[6]=S?.isIntersecting,e[7]=m,e[8]=D):D=e[8];let R;e[9]!==S||e[10]!==m?(R=[S,m],e[9]=S,e[10]=m,e[11]=R):R=e[11],MC(D,R);let T;if(e[12]!==u||e[13]!==r||e[14]!==s||e[15]!==g||e[16]!==l||e[17]!==y||e[18]!==h||e[19]!==m){let I=h&&"tooltip--show",F=`tooltip--caret-${u}`,P=`tooltip--position-${l||g}`,A;e[21]!==s||e[22]!==I||e[23]!==F||e[24]!==P?(A=["tooltip",s,I,F,P].filter(Boolean),e[21]=s,e[22]=I,e[23]=F,e[24]=P,e[25]=A):A=e[25],T=EP(ag.Fragment,{children:[!m&&Qd("aside",{"aria-hidden":"true",className:["tooltip",s,`tooltip--caret-${u}`,"tooltip--position-top"].filter(Boolean).join(" "),ref:y,style:{opacity:"0"},children:Qd("div",{className:"tooltip-content",children:r})}),Qd("aside",{className:A.join(" "),title:x(r),children:Qd("div",{className:"tooltip-content",children:r})})]}),e[12]=u,e[13]=r,e[14]=s,e[15]=g,e[16]=l,e[17]=y,e[18]=h,e[19]=m,e[20]=T}else T=e[20];return T};function NP(t){return typeof t=="string"?t:""}var jP={chevron:Ve,edit:Ur,link:eg,plus:Dr,swap:tg,x:ct},mo="btn",Kd=({children:t,icon:e,showTooltip:o,tooltip:n})=>{let r=jP[e];return em($P,{children:[n&&sr(So,{className:`${mo}__tooltip`,show:o,children:n}),em("span",{className:`${mo}__content`,children:[t&&sr("span",{className:`${mo}__label`,children:t}),e&&em("span",{className:`${mo}__icon`,children:[kP(e)&&e,r&&sr(r,{})]})]})]})},se=t=>{let{id:e,type:o="button","aria-label":n,buttonStyle:r="primary",children:s,className:i,disabled:l,el:a="button",enableSubMenu:c,icon:u,iconPosition:d="right",iconStyle:f="without-border",margin:m=!0,newTab:h,onClick:p,onMouseDown:g,ref:b,round:x,size:v="medium",SubMenuPopupContent:C,to:y,tooltip:S,url:w}=t,[_,D]=LP.useState(!1),R=[mo,i&&i,u&&`${mo}--icon`,f&&`${mo}--icon-style-${f}`,u&&!s&&`${mo}--icon-only`,v&&`${mo}--size-${v}`,u&&d&&`${mo}--icon-position-${d}`,S&&`${mo}--has-tooltip`,!C&&`${mo}--withoutPopup`,!m&&`${mo}--no-margin`].filter(Boolean).join(" ");function T(k){D(!1),o!=="submit"&&p&&k.preventDefault(),p&&p(k)}let I=[r&&`${mo}--style-${r}`,l&&`${mo}--disabled`,x&&`${mo}--round`,C?`${mo}--withPopup`:`${mo}--withoutPopup`].filter(Boolean).join(" "),F={id:e,type:o,"aria-disabled":l,"aria-label":n,className:C?R:[R,I].join(" "),disabled:l,onClick:l?void 0:T,onMouseDown:l?void 0:g,onPointerEnter:S?()=>D(!0):void 0,onPointerLeave:S?()=>D(!1):void 0,rel:h?"noopener noreferrer":void 0,target:h?"_blank":void 0,title:n},P,A;switch(a){case"anchor":P=sr("a",{...F,href:l?void 0:w,ref:b,children:sr(Kd,{icon:u,showTooltip:_,tooltip:S,children:s})});break;case"link":l&&(P=sr("div",{...F,children:sr(Kd,{icon:u,showTooltip:_,tooltip:S,children:s})})),P=sr(Vt,{...F,href:y||w,prefetch:A,children:sr(Kd,{icon:u,showTooltip:_,tooltip:S,children:s})});break;default:P=sr(a,{ref:b,...F,children:sr(Kd,{icon:u,showTooltip:_,tooltip:S,children:s})});break}return C?em("div",{className:I,children:[P,sr(ut,{button:sr(Ve,{}),buttonSize:v,className:l&&!c?`${mo}--popup-disabled`:"",disabled:l&&!c,horizontalAlign:"right",id:`${e}-popup`,noBackground:!0,render:({close:k})=>C({close:()=>k()}),size:"large",verticalAlign:"bottom"})]}):P};import{c as pA}from"react/compiler-runtime";import{jsx as hA}from"react/jsx-runtime";import{Fragment as gA}from"react";import{c as fA}from"react/compiler-runtime";import UC,{useMemo as om,useRef as ug,useEffect as rm,useState as UP,useContext as XP}from"react";import{useDndContext as ZP,getClientRect as YP,useDroppable as JP,useDraggable as qP,closestCorners as QP,getFirstCollision as KP,getScrollableAncestors as eA,KeyboardCode as Is}from"@dnd-kit/core";import{useMemo as BC,useLayoutEffect as MP,useEffect as BP,useRef as VK,useCallback as GK}from"react";function OC(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return BC(()=>n=>{e.forEach(r=>r(n))},e)}var OP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VP(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function GP(t){return"nodeType"in t}function VC(t){var e,o;return t?VP(t)?t:GP(t)&&(e=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?e:window:window}var cg=OP?MP:BP;var lg={};function GC(t,e){return BC(()=>{if(e)return e;let o=lg[t]==null?0:lg[t]+1;return lg[t]=o,t+"-"+o},[t,e])}function zP(t){return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return n.reduce((s,i)=>{let l=Object.entries(i);for(let[a,c]of l){let u=s[a];u!=null&&(s[a]=u+t*c)}return s},{...e})}}var zC=zP(-1);function WP(t){return"clientX"in t&&"clientY"in t}function WC(t){if(!t)return!1;let{KeyboardEvent:e}=VC(t.target);return e&&t instanceof e}function HP(t){if(!t)return!1;let{TouchEvent:e}=VC(t.target);return e&&t instanceof e}function HC(t){if(HP(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:o}=t.touches[0];return{x:e,y:o}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:o}=t.changedTouches[0];return{x:e,y:o}}}return WP(t)?{x:t.clientX,y:t.clientY}:null}var ec=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:o}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:o}=t;return"scaleX("+e+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[ec.Translate.toString(t),ec.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:o,easing:n}=t;return e+" "+o+"ms "+n}}});function sm(t,e,o){let n=t.slice();return n.splice(o<0?n.length+o:o,0,n.splice(e,1)[0]),n}function tA(t,e){return t.reduce((o,n,r)=>{let s=e.get(n);return s&&(o[r]=s),o},Array(t.length))}function tm(t){return t!==null&&t>=0}function oA(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}function rA(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var XC=t=>{let{rects:e,activeIndex:o,overIndex:n,index:r}=t,s=sm(e,n,o),i=e[r],l=s[r];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}};var ZC="Sortable",YC=UC.createContext({activeIndex:-1,containerId:ZC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:XC,disabled:{draggable:!1,droppable:!1}});function JC(t){let{children:e,id:o,items:n,strategy:r=XC,disabled:s=!1}=t,{active:i,dragOverlay:l,droppableRects:a,over:c,measureDroppableContainers:u}=ZP(),d=GC(ZC,o),f=l.rect!==null,m=om(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),h=i!=null,p=i?m.indexOf(i.id):-1,g=c?m.indexOf(c.id):-1,b=ug(m),x=!oA(m,b.current),v=g!==-1&&p===-1||x,C=rA(s);cg(()=>{x&&h&&u(m)},[x,m,h,u]),rm(()=>{b.current=m},[m]);let y=om(()=>({activeIndex:p,containerId:d,disabled:C,disableTransforms:v,items:m,overIndex:g,useDragOverlay:f,sortedRects:tA(m,a),strategy:r}),[p,d,C.draggable,C.droppable,v,m,g,a,f,r]);return UC.createElement(YC.Provider,{value:y},e)}var nA=t=>{let{id:e,items:o,activeIndex:n,overIndex:r}=t;return sm(o,n,r).indexOf(e)},sA=t=>{let{containerId:e,isSorting:o,wasDragging:n,index:r,items:s,newIndex:i,previousItems:l,previousContainerId:a,transition:c}=t;return!c||!n||l!==s&&r===i?!1:o?!0:i!==r&&e===a},iA={duration:200,easing:"ease"},qC="transform",aA=ec.Transition.toString({property:qC,duration:0,easing:"linear"}),lA={roleDescription:"sortable"};function cA(t){let{disabled:e,index:o,node:n,rect:r}=t,[s,i]=UP(null),l=ug(o);return cg(()=>{if(!e&&o!==l.current&&n.current){let a=r.current;if(a){let c=YP(n.current,{ignoreTransform:!0}),u={x:a.left-c.left,y:a.top-c.top,scaleX:a.width/c.width,scaleY:a.height/c.height};(u.x||u.y)&&i(u)}}o!==l.current&&(l.current=o)},[e,o,n,r]),rm(()=>{s&&i(null)},[s]),s}function QC(t){let{animateLayoutChanges:e=sA,attributes:o,disabled:n,data:r,getNewIndex:s=nA,id:i,strategy:l,resizeObserverConfig:a,transition:c=iA}=t,{items:u,containerId:d,activeIndex:f,disabled:m,disableTransforms:h,sortedRects:p,overIndex:g,useDragOverlay:b,strategy:x}=XP(YC),v=uA(n,m),C=u.indexOf(i),y=om(()=>({sortable:{containerId:d,index:C,items:u},...r}),[d,r,C,u]),S=om(()=>u.slice(u.indexOf(i)),[u,i]),{rect:w,node:_,isOver:D,setNodeRef:R}=JP({id:i,data:y,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...a}}),{active:T,activatorEvent:I,activeNodeRect:F,attributes:P,setNodeRef:A,listeners:k,isDragging:$,over:j,setActivatorNodeRef:N,transform:E}=qP({id:i,data:y,attributes:{...lA,...o},disabled:v.draggable}),O=OC(R,A),M=!!T,B=M&&!h&&tm(f)&&tm(g),V=!b&&$,G=V&&B?E:null,U=B?G??(l??x)({rects:p,activeNodeRect:F,activeIndex:f,overIndex:g,index:C}):null,oe=tm(f)&&tm(g)?s({id:i,items:u,activeIndex:f,overIndex:g}):C,X=T?.id,Y=ug({activeId:X,items:u,newIndex:oe,containerId:d}),re=u!==Y.current.items,W=e({active:T,containerId:d,isDragging:$,isSorting:M,id:i,index:C,items:u,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:c,wasDragging:Y.current.activeId!=null}),ee=cA({disabled:!W,index:C,node:_,rect:w});return rm(()=>{M&&Y.current.newIndex!==oe&&(Y.current.newIndex=oe),d!==Y.current.containerId&&(Y.current.containerId=d),u!==Y.current.items&&(Y.current.items=u)},[M,oe,d,u]),rm(()=>{if(X===Y.current.activeId)return;if(X&&!Y.current.activeId){Y.current.activeId=X;return}let de=setTimeout(()=>{Y.current.activeId=X},50);return()=>clearTimeout(de)},[X]),{active:T,activeIndex:f,attributes:P,data:y,rect:w,index:C,newIndex:oe,items:u,isOver:D,isSorting:M,isDragging:$,listeners:k,node:_,overIndex:g,over:j,setNodeRef:O,setActivatorNodeRef:N,setDroppableNodeRef:R,setDraggableNodeRef:A,transform:ee??U,transition:ie()};function ie(){if(ee||re&&Y.current.newIndex===C)return aA;if(!(V&&!WC(I)||!c)&&(M||W))return ec.Transition.toString({...c,property:qC})}}function uA(t,e){var o,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function nm(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var dA=[Is.Down,Is.Right,Is.Up,Is.Left],KC=(t,e)=>{let{context:{active:o,collisionRect:n,droppableRects:r,droppableContainers:s,over:i,scrollableAncestors:l}}=e;if(dA.includes(t.code)){if(t.preventDefault(),!o||!n)return;let a=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=r.get(d.id);if(f)switch(t.code){case Is.Down:n.top<f.top&&a.push(d);break;case Is.Up:n.top>f.top&&a.push(d);break;case Is.Left:n.left>f.left&&a.push(d);break;case Is.Right:n.left<f.left&&a.push(d);break}});let c=QP({active:o,collisionRect:n,droppableRects:r,droppableContainers:a,pointerCoordinates:null}),u=KP(c,"id");if(u===i?.id&&c.length>1&&(u=c[1].id),u!=null){let d=s.get(o.id),f=s.get(u),m=f?r.get(f.id):null,h=f?.node.current;if(h&&m&&d&&f){let g=eA(h).some((S,w)=>l[w]!==S),b=ey(d,f),x=mA(d,f),v=g||!b?{x:0,y:0}:{x:x?n.width-m.width:0,y:x?n.height-m.height:0},C={x:m.left,y:m.top};return v.x&&v.y?C:zC(C,v)}}}};function ey(t,e){return!nm(t)||!nm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function mA(t,e){return!nm(t)||!nm(e)||!ey(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var Ca=t=>{let e=fA(17),{id:o,disabled:n}=t,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},e[0]=r):r=e[0];let s;e[1]!==n||e[2]!==o?(s={id:o,disabled:n,transition:r},e[1]=n,e[2]=o,e[3]=s):s=e[3];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=QC(s),f=l?"grabbing":"grab",m;e[4]!==f||e[5]!==d?(m={cursor:f,transition:d},e[4]=f,e[5]=d,e[6]=m):m=e[6];let h;e[7]!==i||e[8]!==m?(h={...i,style:m},e[7]=i,e[8]=m,e[9]=h):h=e[9];let p=u&&`translate3d(${u.x}px, ${u.y}px, 0)`,g;return e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==h||e[14]!==p||e[15]!==d?(g={attributes:h,isDragging:l,listeners:a,setNodeRef:c,transform:p,transition:d},e[10]=l,e[11]=a,e[12]=c,e[13]=h,e[14]=p,e[15]=d,e[16]=g):g=e[16],g};var bn=t=>{let e=pA(12),{id:o,children:n,disabled:r}=t,s;e[0]!==r||e[1]!==o?(s={id:o,disabled:r},e[0]=r,e[1]=o,e[2]=s):s=e[2];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=Ca(s),f=l?"grabbing":"grab",m;return e[3]!==i||e[4]!==n||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==f||e[9]!==u||e[10]!==d?(m=hA(gA,{children:n({attributes:{...i,style:{cursor:f}},isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d})}),e[3]=i,e[4]=n,e[5]=l,e[6]=a,e[7]=c,e[8]=f,e[9]=u,e[10]=d,e[11]=m):m=e[11],m};import{c as bA}from"react/compiler-runtime";import{jsx as dg}from"react/jsx-runtime";import{closestCenter as vA,DndContext as xA,KeyboardSensor as CA,PointerSensor as yA,useDroppable as wA,useSensor as ty,useSensors as SA}from"@dnd-kit/core";import{useId as IA}from"react";var Fr=t=>{let e=bA(18),{children:o,className:n,ids:r,onDragEnd:s,onDragStart:i}=t,l=IA(),a;e[0]!==l?(a={id:l},e[0]=l,e[1]=a):a=e[1];let{setNodeRef:c}=wA(a),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={activationConstraint:{distance:5}},e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={coordinateGetter:KC},e[3]=d):d=e[3];let f=SA(ty(yA,u),ty(CA,d)),m;e[4]!==r||e[5]!==s?(m=x=>{let{active:v,over:C}=x;x.activatorEvent.stopPropagation(),!(!v||!C)&&typeof s=="function"&&s({event:x,moveFromIndex:r.findIndex(y=>y===v.id),moveToIndex:r.findIndex(y=>y===C.id)})},e[4]=r,e[5]=s,e[6]=m):m=e[6];let h=m,p;e[7]!==i?(p=x=>{let{active:v}=x;v&&typeof i=="function"&&i({id:v.id,event:x})},e[7]=i,e[8]=p):p=e[8];let g=p,b;return e[9]!==o||e[10]!==n||e[11]!==h||e[12]!==g||e[13]!==l||e[14]!==r||e[15]!==f||e[16]!==c?(b=dg(xA,{collisionDetection:vA,id:l,onDragEnd:h,onDragStart:g,sensors:f,children:dg(JC,{items:r,children:dg("div",{className:n,ref:c,children:o})})}),e[9]=o,e[10]=n,e[11]=h,e[12]=g,e[13]=l,e[14]=r,e[15]=f,e[16]=c,e[17]=b):b=e[17],b};import{jsx as oy,jsxs as _A}from"react/jsx-runtime";import"react";var im="error-pill",ho=t=>{let{className:e,count:o,i18n:n,withMessage:r}=t,s=!r&&o<99,i=[im,s&&`${im}--fixed-width`,e&&e].filter(Boolean).join(" ");return o===0?null:oy("div",{className:i,children:_A("div",{className:`${im}__content`,children:[oy("span",{className:`${im}__count`,children:o}),r&&` ${o>1?n.t("general:errors"):n.t("general:error")}`]})})};import{c as DA}from"react/compiler-runtime";import{jsx as FA}from"react/jsx-runtime";import{getTranslation as TA}from"@payloadcms/translations";import"react";var ry="field-description",Ge=t=>{let e=DA(8),{className:o,description:n,marginPlacement:r,path:s}=t,{i18n:i}=L();if(n){let l=`field-description-${s?.replace(/\./g,"__")}`,a=r&&`${ry}--margin-${r}`,c;e[0]!==o||e[1]!==l||e[2]!==a?(c=[ry,o,l,a].filter(Boolean),e[0]=o,e[1]=l,e[2]=a,e[3]=c):c=e[3];let u=c.join(" "),d;return e[4]!==n||e[5]!==i||e[6]!==u?(d=FA("div",{className:u,children:TA(n,i)}),e[4]=n,e[5]=i,e[6]=u,e[7]=d):d=e[7],d}return null};import{c as RA}from"react/compiler-runtime";import{jsx as PA}from"react/jsx-runtime";import"react";var AA="field-error",ze=t=>{let e=RA(7),{alignCaret:o,message:n,path:r,showError:s}=t,i=o===void 0?"right":o,l=oo(),a;e[0]!==r?(a=p=>{let[g]=p;return g&&g?.[r]||null},e[0]=r,e[1]=a):a=e[1];let c=Tt(a),u;e[2]!==c?(u=c||{},e[2]=c,e[3]=u):u=e[3];let{errorMessage:d,valid:f}=u,m=n||d;if((s||l&&f===!1)&&m?.length){let p;return e[4]!==i||e[5]!==m?(p=PA(So,{alignCaret:i,className:AA,delay:0,staticPositioning:!0,children:m}),e[4]=i,e[5]=m,e[6]=p):p=e[6],p}return null};import{c as yN}from"react/compiler-runtime";import{jsx as wN,jsxs as Yy}from"react/jsx-runtime";import{getTranslation as SN}from"@payloadcms/translations";import"react";import{c as EA}from"react/compiler-runtime";import{jsx as NA}from"react/jsx-runtime";import{createContext as LA,use as $A}from"react";var ny=LA(0),kn=t=>{let e=EA(3),{children:o}=t,r=ot()+1,s;return e[0]!==o||e[1]!==r?(s=NA(ny,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},ot=()=>$A(ny);import{c as pN}from"react/compiler-runtime";import{jsx as zy}from"react/jsx-runtime";import{useSearchParams as hN}from"next/navigation.js";import gN,{createContext as Hy,use as Uy,useEffect as Wy,useRef as bN,useState as vN}from"react";var _s=(t,e)=>!t?.locales||t.locales.length===0?null:t.locales.find(o=>o?.code===e);import{jsx as nN}from"react/jsx-runtime";import{jsx as Cg}from"react/jsx-runtime";import{useRef as hy,useEffect as hi,useState as yg}from"react";import YA from"react-dom";function Te(){return Te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)({}).hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Te.apply(null,arguments)}function ya(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;o[n]=t[n]}return o}function wa(t,e){return wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},wa(t,e)}function am(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wa(t,e)}function mg(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function fg(t,e){t.classList?t.classList.add(e):mg(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function sy(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pg(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=sy(t.className,e):t.setAttribute("class",sy(t.className&&t.className.baseVal||"",e))}import ay from"react";import cm from"react";import um from"react-dom";var hg={disabled:!1};import kA from"react";var gg=kA.createContext(null);var lm=function(e){return e.scrollTop};var tc="unmounted",fi="exited",pi="entering",Ia="entered",bg="exiting",jn=function(t){am(e,t);function e(n,r){var s;s=t.call(this,n,r)||this;var i=r,l=i&&!i.isMounting?n.enter:n.appear,a;return s.appearStatus=null,n.in?l?(a=fi,s.appearStatus=pi):a=Ia:n.unmountOnExit||n.mountOnEnter?a=tc:a=fi,s.state={status:a},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===tc?{status:fi}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==pi&&i!==Ia&&(s=pi):(i===pi||i===Ia)&&(s=bg)}this.updateStatus(!1,s)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var r=this.props.timeout,s,i,l;return s=i=l=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,l=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:l}},o.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===pi){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:um.findDOMNode(this);i&&lm(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===fi&&this.setState({status:tc})},o.performEnter=function(r){var s=this,i=this.props.enter,l=this.context?this.context.isMounting:r,a=this.props.nodeRef?[l]:[um.findDOMNode(this),l],c=a[0],u=a[1],d=this.getTimeouts(),f=l?d.appear:d.enter;if(!r&&!i||hg.disabled){this.safeSetState({status:Ia},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:pi},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Ia},function(){s.props.onEntered(c,u)})})})},o.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),l=this.props.nodeRef?void 0:um.findDOMNode(this);if(!s||hg.disabled){this.safeSetState({status:fi},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:bg},function(){r.props.onExiting(l),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:fi},function(){r.props.onExited(l)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},o.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(l){i&&(i=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},o.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:um.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!i||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=a[0],u=a[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},o.render=function(){var r=this.state.status;if(r===tc)return null;var s=this.props,i=s.children,l=s.in,a=s.mountOnEnter,c=s.unmountOnExit,u=s.appear,d=s.enter,f=s.exit,m=s.timeout,h=s.addEndListener,p=s.onEnter,g=s.onEntering,b=s.onEntered,x=s.onExit,v=s.onExiting,C=s.onExited,y=s.nodeRef,S=ya(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return cm.createElement(gg.Provider,{value:null},typeof i=="function"?i(r,S):cm.cloneElement(cm.Children.only(i),S))},e}(cm.Component);jn.contextType=gg;jn.propTypes={};function Sa(){}jn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sa,onEntering:Sa,onEntered:Sa,onExit:Sa,onExiting:Sa,onExited:Sa};jn.UNMOUNTED=tc;jn.EXITED=fi;jn.ENTERING=pi;jn.ENTERED=Ia;jn.EXITING=bg;var iy=jn;var jA=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return fg(e,n)})},vg=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return pg(e,n)})},xg=function(t){am(e,t);function e(){for(var n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,a)},n.onEntering=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.addClass(u,f,"active"),n.props.onEntering&&n.props.onEntering(l,a)},n.onEntered=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.removeClasses(u,f),n.addClass(u,f,"done"),n.props.onEntered&&n.props.onEntered(l,a)},n.onExit=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var a=n.resolveArguments(l),c=a[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,a){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,a]},n.getClassNames=function(l){var a=n.props.classNames,c=typeof a=="string",u=c&&a?a+"-":"",d=c?""+u+l:a[l],f=c?d+"-active":a[l+"Active"],m=c?d+"-done":a[l+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:m}},n}var o=e.prototype;return o.addClass=function(r,s,i){var l=this.getClassNames(s)[i+"ClassName"],a=this.getClassNames("enter"),c=a.doneClassName;s==="appear"&&i==="done"&&c&&(l+=" "+c),i==="active"&&r&&lm(r),l&&(this.appliedClasses[s][i]=l,jA(r,l))},o.removeClasses=function(r,s){var i=this.appliedClasses[s],l=i.base,a=i.active,c=i.done;this.appliedClasses[s]={},l&&vg(r,l),a&&vg(r,a),c&&vg(r,c)},o.render=function(){var r=this.props,s=r.classNames,i=ya(r,["classNames"]);return ay.createElement(iy,Te({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(ay.Component);xg.defaultProps={classNames:""};xg.propTypes={};var oc=xg;function ly(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}import{useContext as BA}from"react";import{createContext as MA}from"react";var dm=MA({});var ce=()=>BA(dm);var mm=t=>t?{appear:`${t}--appear`,appearActive:`${t}--appearActive`,appearDone:`${t}--appearDone`,enter:`${t}--enter`,enterActive:`${t}--enterActive`,enterDone:`${t}--enterDone`,exit:`${t}--exit`,exitActive:`${t}--exitActive`,exitDone:`${t}--exitDone`}:{};E5();function cy(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function uy(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?cy(Object(o),!0).forEach(function(n){OA(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):cy(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function OA(t,e,o){return e=GA(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function VA(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GA(t){var e=VA(t,"string");return typeof e=="symbol"?e:String(e)}var dy={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var r=e.indexOf(o);r===-1||e.splice(r,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},zA=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},WA=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},nc=function(e){return e?.key==="Tab"||e?.keyCode===9},HA=function(e){return nc(e)&&!e.shiftKey},UA=function(e){return nc(e)&&e.shiftKey},my=function(e){return setTimeout(e,0)},fy=function(e,o){var n=-1;return e.every(function(r,s){return o(r)?(n=s,!1):!0}),n},rc=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},fm=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},XA=[],py=function(e,o){var n=o?.document||document,r=o?.trapStack||XA,s=uy({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:HA,isKeyBackward:UA},o),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,a=function(I,F,P){return I&&I[F]!==void 0?I[F]:s[P||F]},c=function(I,F){var P=typeof F?.composedPath=="function"?F.composedPath():void 0;return i.containerGroups.findIndex(function(A){var k=A.container,$=A.tabbableNodes;return k.contains(I)||P?.includes(k)||$.find(function(j){return j===I})})},u=function(I){var F=s[I];if(typeof F=="function"){for(var P=arguments.length,A=new Array(P>1?P-1:0),k=1;k<P;k++)A[k-1]=arguments[k];F=F.apply(void 0,A)}if(F===!0&&(F=void 0),!F){if(F===void 0||F===!1)return F;throw new Error("`".concat(I,"` was specified but was not a node, or did not return a node"))}var $=F;if(typeof F=="string"&&($=n.querySelector(F),!$))throw new Error("`".concat(I,"` as selector refers to no known node"));return $},d=function(){var I=u("initialFocus");if(I===!1)return!1;if(I===void 0||!$d(I,s.tabbableOptions))if(c(n.activeElement)>=0)I=n.activeElement;else{var F=i.tabbableGroups[0],P=F&&F.firstTabbableNode;I=P||u("fallbackFocus")}if(!I)throw new Error("Your focus-trap needs to have at least one focusable element");return I},f=function(){if(i.containerGroups=i.containers.map(function(I){var F=Yx(I,s.tabbableOptions),P=Jx(I,s.tabbableOptions),A=F.length>0?F[0]:void 0,k=F.length>0?F[F.length-1]:void 0,$=P.find(function(E){return li(E)}),j=P.slice().reverse().find(function(E){return li(E)}),N=!!F.find(function(E){return ga(E)>0});return{container:I,tabbableNodes:F,focusableNodes:P,posTabIndexesFound:N,firstTabbableNode:A,lastTabbableNode:k,firstDomTabbableNode:$,lastDomTabbableNode:j,nextTabbableNode:function(O){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,B=F.indexOf(O);return B<0?M?P.slice(P.indexOf(O)+1).find(function(V){return li(V)}):P.slice(0,P.indexOf(O)).reverse().find(function(V){return li(V)}):F[B+(M?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(I){return I.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(I){return I.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function T(I){var F=I.activeElement;if(F)return F.shadowRoot&&F.shadowRoot.activeElement!==null?T(F.shadowRoot):F},h=function T(I){if(I!==!1&&I!==m(document)){if(!I||!I.focus){T(d());return}I.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=I,zA(I)&&I.select()}},p=function(I){var F=u("setReturnFocus",I);return F||(F===!1?!1:I)},g=function(I){var F=I.target,P=I.event,A=I.isBackward,k=A===void 0?!1:A;F=F||fm(P),f();var $=null;if(i.tabbableGroups.length>0){var j=c(F,P),N=j>=0?i.containerGroups[j]:void 0;if(j<0)k?$=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:$=i.tabbableGroups[0].firstTabbableNode;else if(k){var E=fy(i.tabbableGroups,function(z){var U=z.firstTabbableNode;return F===U});if(E<0&&(N.container===F||$d(F,s.tabbableOptions)&&!li(F,s.tabbableOptions)&&!N.nextTabbableNode(F,!1))&&(E=j),E>=0){var O=E===0?i.tabbableGroups.length-1:E-1,M=i.tabbableGroups[O];$=ga(F)>=0?M.lastTabbableNode:M.lastDomTabbableNode}else nc(P)||($=N.nextTabbableNode(F,!1))}else{var B=fy(i.tabbableGroups,function(z){var U=z.lastTabbableNode;return F===U});if(B<0&&(N.container===F||$d(F,s.tabbableOptions)&&!li(F,s.tabbableOptions)&&!N.nextTabbableNode(F))&&(B=j),B>=0){var V=B===i.tabbableGroups.length-1?0:B+1,G=i.tabbableGroups[V];$=ga(F)>=0?G.firstTabbableNode:G.firstDomTabbableNode}else nc(P)||($=N.nextTabbableNode(F))}}else $=u("fallbackFocus");return $},b=function(I){var F=fm(I);if(!(c(F,I)>=0)){if(rc(s.clickOutsideDeactivates,I)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}rc(s.allowOutsideClick,I)||I.preventDefault()}},x=function(I){var F=fm(I),P=c(F,I)>=0;if(P||F instanceof Document)P&&(i.mostRecentlyFocusedNode=F);else{I.stopImmediatePropagation();var A,k=!0;if(i.mostRecentlyFocusedNode)if(ga(i.mostRecentlyFocusedNode)>0){var $=c(i.mostRecentlyFocusedNode),j=i.containerGroups[$].tabbableNodes;if(j.length>0){var N=j.findIndex(function(E){return E===i.mostRecentlyFocusedNode});N>=0&&(s.isKeyForward(i.recentNavEvent)?N+1<j.length&&(A=j[N+1],k=!1):N-1>=0&&(A=j[N-1],k=!1))}}else i.containerGroups.some(function(E){return E.tabbableNodes.some(function(O){return ga(O)>0})})||(k=!1);else k=!1;k&&(A=g({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),h(A||i.mostRecentlyFocusedNode||d())}i.recentNavEvent=void 0},v=function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=I;var P=g({event:I,isBackward:F});P&&(nc(I)&&I.preventDefault(),h(P))},C=function(I){if(WA(I)&&rc(s.escapeDeactivates,I)!==!1){I.preventDefault(),l.deactivate();return}(s.isKeyForward(I)||s.isKeyBackward(I))&&v(I,s.isKeyBackward(I))},y=function(I){var F=fm(I);c(F,I)>=0||rc(s.clickOutsideDeactivates,I)||rc(s.allowOutsideClick,I)||(I.preventDefault(),I.stopImmediatePropagation())},S=function(){if(i.active)return dy.activateTrap(r,l),i.delayInitialFocusTimer=s.delayInitialFocus?my(function(){h(d())}):h(d()),n.addEventListener("focusin",x,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",y,{capture:!0,passive:!1}),n.addEventListener("keydown",C,{capture:!0,passive:!1}),l},w=function(){if(i.active)return n.removeEventListener("focusin",x,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",y,!0),n.removeEventListener("keydown",C,!0),l},_=function(I){var F=I.some(function(P){var A=Array.from(P.removedNodes);return A.some(function(k){return k===i.mostRecentlyFocusedNode})});F&&h(d())},D=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(_):void 0,R=function(){D&&(D.disconnect(),i.active&&!i.paused&&i.containers.map(function(I){D.observe(I,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(I){if(i.active)return this;var F=a(I,"onActivate"),P=a(I,"onPostActivate"),A=a(I,"checkCanFocusTrap");A||f(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,F?.();var k=function(){A&&f(),S(),R(),P?.()};return A?(A(i.containers.concat()).then(k,k),this):(k(),this)},deactivate:function(I){if(!i.active)return this;var F=uy({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},I);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,w(),i.active=!1,i.paused=!1,R(),dy.deactivateTrap(r,l);var P=a(F,"onDeactivate"),A=a(F,"onPostDeactivate"),k=a(F,"checkCanReturnFocus"),$=a(F,"returnFocus","returnFocusOnDeactivate");P?.();var j=function(){my(function(){$&&h(p(i.nodeFocusedBeforeActivation)),A?.()})};return $&&k?(k(p(i.nodeFocusedBeforeActivation)).then(j,j),this):(j(),this)},pause:function(I){if(i.paused||!i.active)return this;var F=a(I,"onPause"),P=a(I,"onPostPause");return i.paused=!0,F?.(),w(),R(),P?.(),this},unpause:function(I){if(!i.paused||!i.active)return this;var F=a(I,"onUnpause"),P=a(I,"onPostUnpause");return i.paused=!1,F?.(),f(),S(),R(),P?.(),this},updateContainerElements:function(I){var F=[].concat(I).filter(Boolean);return i.containers=F.map(function(P){return typeof P=="string"?n.querySelector(P):P}),i.active&&f(),R(),this}},l.updateContainerElements(e),l};var ZA=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},Mn="modal-item",gy=(t,e)=>n=>{let r=ce(),s=hy(null),[i,l]=yg(!1),a=hy(!1),[c,u]=yg(null),{modalState:d,classPrefix:f,containerRef:m,transTime:h,setCloseOnBlur:p,setBodyScrollLock:g,openModal:b}=r,{className:x,htmlElement:v="dialog",slug:C="",closeOnBlur:y=!0,lockBodyScroll:S=!0,classPrefix:w,onEnter:_,onEntering:D,onEntered:R,onExit:T,onExiting:I,onExited:F,openOnInit:P,trapFocus:A=!0,focusTrapOptions:k={}}=n,$=ZA(n,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),j=w||f,N=e||C,E=d[N]&&d[N].isOpen;hi(()=>{if(A){let B=s.current;if(a.current===!1&&B){let V=py(B,Object.assign(Object.assign({},k),{fallbackFocus:k?.fallbackFocus||B,allowOutsideClick:typeof k.allowOutsideClick<"u"?k.allowOutsideClick:!0}));u(V),a.current=!0}}},[A,i,k]),hi(()=>{l(!0)},[]),hi(()=>(c&&(E?c.activate():c.deactivate()),()=>{c&&c.deactivate()}),[E,c]),hi(()=>{E&&p(y)},[E,y,p]),hi(()=>{let B=s.current;return B&&g(!!(E&&S),B),()=>{B&&g(!1,B)}},[E,S,g]);let[O,M]=yg(E);if(hi(()=>{E?M(E):setTimeout(()=>M(!1),h)},[E,h]),hi(()=>{P&&b(N)},[N,P,b]),m.current){let B=j?`${j}__${Mn}`:Mn,V=[B,`${B}--slug-${N}`,x].filter(Boolean).join(" "),G=Object.assign({role:v!=="dialog"?"dialog":void 0,open:v==="dialog"?O||E:void 0,"aria-modal":!0,"aria-label":$["aria-labelledby"]?void 0:N},$);return YA.createPortal(Cg(oc,{nodeRef:s,timeout:h,in:E,classNames:mm(B),appear:!0,onEnter:_,onEntering:D,onEntered:R,onExit:T,onExiting:I,onExited:F,children:Cg(v,Object.assign({ref:s,id:$?.id||N,className:V},G,{children:Cg(t,Object.assign({},n,{isOpen:E,modal:r}))}))}),m.current)}return null};import{jsx as by}from"react/jsx-runtime";import{Fragment as vy}from"react";var JA=t=>{let{children:e}=t;return e?typeof e=="function"?by(vy,{children:e(t)}):by(vy,{children:e}):null},ir=gy(JA);import{jsx as xy}from"react/jsx-runtime";var qA=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},Bn="modal-container",wg=t=>{let{oneModalIsOpen:e,classPrefix:o,transTime:n,setContainerRef:r,containerRef:s,closeAllModals:i,closeOnBlur:l}=ce(),{className:a,htmlElement:c="div",children:u,onClick:d}=t,f=qA(t,["className","htmlElement","children","onClick"]),m=o?`${o}__${Bn}`:Bn,h=[m,a].filter(Boolean).join(" "),p=Object.assign(Object.assign({},f),{onClick:g=>{l&&i(),typeof d=="function"&&d(g)}});return xy(oc,{nodeRef:s,in:e,timeout:n,classNames:mm(m),appear:!0,children:xy(c,Object.assign({className:h,ref:r},p,{children:u&&u}))})};import{jsx as Dy,jsxs as sE}from"react/jsx-runtime";import{Fragment as iE,useState as bm,useRef as Fy,useEffect as vm,useCallback as Ds,useReducer as aE}from"react";function QA(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}else return Array.from(t)}var Ig=!1;typeof window<"u"&&(Sg={get passive(){Ig=!0}},window.addEventListener("testPassive",null,Sg),window.removeEventListener("testPassive",null,Sg));var Sg,pm=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),bi=[],hm=!1,Cy=-1,sc=void 0,gi=void 0,ic=void 0,yy=function(e){return bi.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))})},gm=function(e){var o=e||window.event;return yy(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},KA=function(e){if(ic===void 0){var o=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);ic=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}sc===void 0&&(sc=document.body.style.overflow,document.body.style.overflow="hidden")},eE=function(){ic!==void 0&&(document.body.style.paddingRight=ic,ic=void 0),sc!==void 0&&(document.body.style.overflow=sc,sc=void 0)},tE=function(){return window.requestAnimationFrame(function(){if(gi===void 0){gi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,o=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var s=r-window.innerHeight;s&&o>=r&&(document.body.style.top=-(o+s))})},300)}})},oE=function(){if(gi!==void 0){var e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=gi.position,document.body.style.top=gi.top,document.body.style.left=gi.left,window.scrollTo(o,e),gi=void 0}},rE=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},nE=function(e,o){var n=e.targetTouches[0].clientY-Cy;return yy(e.target)?!1:o&&o.scrollTop===0&&n>0||rE(o)&&n<0?gm(e):(e.stopPropagation(),!0)},wy=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!bi.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:o||{}};bi=[].concat(QA(bi),[n]),pm?tE():KA(o),pm&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(Cy=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&nE(r,e)},hm||(document.addEventListener("touchmove",gm,Ig?{passive:!1}:void 0),hm=!0))}};var Sy=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}bi=bi.filter(function(o){return o.targetElement!==e}),pm&&(e.ontouchstart=null,e.ontouchmove=null,hm&&bi.length===0&&(document.removeEventListener("touchmove",gm,Ig?{passive:!1}:void 0),hm=!1)),pm?oE():eE()};var Iy=({classPrefix:t,zIndex:e})=>{let o=t?`${t}__`:"";return`
    .${o}${Bn} {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      position: fixed;
      pointer-events: none;
      visibility: hidden;
      z-index: -1;
    }

    .${o}${Bn}--appear,
    .${o}${Bn}--appearDone,
    .${o}${Bn}--enter,
    .${o}${Bn}--enterDone,
    .${o}${Bn}--exit {
      pointer-events: all;
      visibility: visible;
      z-index: ${e};
    }

    .${o}${Mn} {
      position: absolute;
      visibility: hidden;
    }

    .${o}${Mn}--appear,
    .${o}${Mn}--appearDone,
    .${o}${Mn}--enter,
    .${o}${Mn}--enterDone,
    .${o}${Mn}--exit {
      visibility: visible;
    }
  `};var _y=(t,e)=>{let o=Object.assign({},t),{type:n,payload:r}=e;switch(n){case"UPDATE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),r));break}case"OPEN_MODAL":{let{slug:s}=r;s&&(s in o&&o[s].isOpen||(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:s}=r;if(s){let i=s in o&&o[s].isOpen;o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:i?void 0:Date.now(),isOpen:!i})}break}case"CLOSE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:s}=r;s&&s in o&&delete o[s];break}case"CLOSE_LATEST_MODAL":{let s=Object.keys(o).reduce((i,l)=>{let a=o[l];return a.isOpen&&typeof a.openedOn=="number"&&(!i||typeof i.openedOn=="number"&&a.openedOn>i.openedOn)?a:i},void 0);s&&(o[s.slug]=Object.assign(Object.assign({},o[s.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":{o=Object.entries(o).reduce((s,[i,l])=>(s[i]=Object.assign(Object.assign({},l),{isOpen:!1,openedOn:void 0}),s),{});break}default:break}return o};var lE=()=>{if(typeof window<"u")return new URLSearchParams(window.location.search)},cE=()=>{let t=lE(),e=[];if(t){let o=t.get("modal");o&&(o.includes(",")?e=o.split(","):e=[o])}return e},_g=t=>{let{classPrefix:e,minifyCSS:o=!0,generateCSS:n=!0,zIndex:r=9999,handleParamChange:s,children:i,transTime:l=250}=t,a=Fy(null),[c,u]=aE(_y,{},()=>cE().reduce((A,k)=>(A[k]={slug:k,isOpen:!0,openedOn:Date.now()},A),{})),[d,f]=bm(!1),[m,h]=bm(!1),[p,g]=bm(!1),[b,x]=bm(""),v=Fy(!1),C=Ds(F=>{F.keyCode===27&&u({type:"CLOSE_LATEST_MODAL"})},[]);vm(()=>(v.current||(document.addEventListener("keydown",F=>C(F),!1),v.current=!0),()=>{v.current&&document.removeEventListener("keydown",F=>C(F),!1)}),[C]),vm(()=>{if(n){let F="";F=Iy({classPrefix:e,zIndex:r}),o&&(F=F.replace(/\n/g,"").replace(/\s\s+/g," ")),x(F)}},[n,o,r,e]),vm(()=>{if(typeof s=="function"&&s(c),typeof s=="boolean"&&s){let F=Object.keys(c).filter($=>c[$].isOpen),P=new URLSearchParams;for(let $ of F)P.append("modal",$);let A=P.toString()?`?${P}`:"",k=`${window.location.pathname}${A}`;window.history.pushState({},"",k)}},[c,s]),vm(()=>{let F=Object.keys(c).some(P=>c[P].isOpen);f(F)},[c]);let y=Ds((F,P)=>{P&&(F?(wy(P),g(!0)):(Sy(P),g(!1)))},[]),S=Ds(F=>{a.current=F},[]),w=Ds(F=>{u({type:"OPEN_MODAL",payload:{slug:F}})},[]),_=Ds(F=>{u({type:"CLOSE_MODAL",payload:{slug:F}})},[]),D=Ds(()=>{u({type:"CLOSE_ALL_MODALS"})},[]),R=Ds(F=>{u({type:"TOGGLE_MODAL",payload:{slug:F}})},[]),T=Ds(F=>c[F]&&c[F].isOpen,[c]),I=Object.assign({},t);return delete I.children,sE(iE,{children:[n&&Dy("style",{dangerouslySetInnerHTML:{__html:b}}),Dy(dm.Provider,{value:Object.assign(Object.assign({},I),{transTime:l,containerRef:a,modalState:c,oneModalIsOpen:d,isModalOpen:T,closeOnBlur:m,bodyScrollIsLocked:p,classPrefix:e,closeAllModals:D,setCloseOnBlur:h,openModal:w,closeModal:_,toggleModal:R,setBodyScrollLock:y,setContainerRef:S}),children:i})]})};import{usePathname as sN,useRouter as iN}from"next/navigation.js";import{formatAdminURL as aN}from"payload/shared";import*as jy from"qs-esm";import $y,{createContext as lN,use as cN,useCallback as vi,useEffect as wm,useState as dc}from"react";import Ie,{forwardRef as uE,isValidElement as Dg}from"react";import dE from"react-dom";import Yo from"react";import Ty from"react";import yE from"react";var mE=t=>{switch(t){case"success":return hE;case"info":return bE;case"warning":return gE;case"error":return vE;default:return null}},fE=Array(12).fill(0),pE=({visible:t,className:e})=>Yo.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Yo.createElement("div",{className:"sonner-spinner"},fE.map((o,n)=>Yo.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),hE=Yo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yo.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gE=Yo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Yo.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bE=Yo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yo.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vE=Yo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yo.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xE=Yo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Yo.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Yo.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CE=()=>{let[t,e]=Ty.useState(document.hidden);return Ty.useEffect(()=>{let o=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),t},Fg=1,wE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:o,...n}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Fg++,s=this.toasts.find(l=>l.id===r),i=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:o}),{...l,...t,id:r,dismissible:i,title:o}):l):this.addToast({title:o,...n,dismissible:i,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(o=>o({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let o;e.loading!==void 0&&(o=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),r=o!==void 0,s,i=n.then(async a=>{if(s=["resolve",a],yE.isValidElement(a))r=!1,this.create({id:o,type:"default",message:a});else if(IE(a)&&!a.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:o,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(a):e.success,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"success",message:c,description:u})}}).catch(async a=>{if(s=["reject",a],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(a):e.error,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"error",message:c,description:u})}}).finally(()=>{var a;r&&(this.dismiss(o),o=void 0),(a=e.finally)==null||a.call(e)}),l=()=>new Promise((a,c)=>i.then(()=>s[0]==="reject"?c(s[1]):a(s[1])).catch(c));return typeof o!="string"&&typeof o!="number"?{unwrap:l}:Object.assign(o,{unwrap:l})},this.custom=(t,e)=>{let o=e?.id||Fg++;return this.create({jsx:t(o),id:o,...e}),o},this.subscribers=[],this.toasts=[]}},ar=new wE,SE=(t,e)=>{let o=e?.id||Fg++;return ar.addToast({title:t,...e,id:o}),o},IE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_E=SE,DE=()=>ar.toasts,ue=Object.assign(_E,{success:ar.success,info:ar.info,warning:ar.warning,error:ar.error,custom:ar.custom,message:ar.message,promise:ar.promise,dismiss:ar.dismiss,loading:ar.loading},{getHistory:DE});function FE(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}FE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xm(t){return t.label!==void 0}var TE=3,RE="32px",PE="16px",Ry=4e3,AE=356,EE=14,NE=20,LE=200;function Xr(...t){return t.filter(Boolean).join(" ")}function $E(t){let[e,o]=t.split("-"),n=[];return e&&n.push(e),o&&n.push(o),n}var kE=t=>{var e,o,n,r,s,i,l,a,c,u,d;let{invert:f,toast:m,unstyled:h,interacting:p,setHeights:g,visibleToasts:b,heights:x,index:v,toasts:C,expanded:y,removeToast:S,defaultRichColors:w,closeButton:_,style:D,cancelButtonStyle:R,actionButtonStyle:T,className:I="",descriptionClassName:F="",duration:P,position:A,gap:k,loadingIcon:$,expandByDefault:j,classNames:N,icons:E,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:M}=t,[B,V]=Ie.useState(null),[G,z]=Ie.useState(null),[U,oe]=Ie.useState(!1),[X,Y]=Ie.useState(!1),[re,W]=Ie.useState(!1),[ee,ie]=Ie.useState(!1),[de,xe]=Ie.useState(!1),[Q,ae]=Ie.useState(0),[be,ye]=Ie.useState(0),J=Ie.useRef(m.duration||P||Ry),pe=Ie.useRef(null),te=Ie.useRef(null),Z=v===0,le=v+1<=b,K=m.type,he=m.dismissible!==!1,Le=m.className||"",He=m.descriptionClassName||"",Ze=Ie.useMemo(()=>x.findIndex(fe=>fe.toastId===m.id)||0,[x,m.id]),Ye=Ie.useMemo(()=>{var fe;return(fe=m.closeButton)!=null?fe:_},[m.closeButton,_]),At=Ie.useMemo(()=>m.duration||P||Ry,[m.duration,P]),lt=Ie.useRef(0),it=Ie.useRef(0),Et=Ie.useRef(0),Ut=Ie.useRef(null),[We,Be]=A.split("-"),Ke=Ie.useMemo(()=>x.reduce((fe,q,ne)=>ne>=Ze?fe:fe+q.height,0),[x,Ze]),Ct=CE(),po=m.invert||f,Ft=K==="loading";it.current=Ie.useMemo(()=>Ze*k+Ke,[Ze,Ke]),Ie.useEffect(()=>{J.current=At},[At]),Ie.useEffect(()=>{oe(!0)},[]),Ie.useEffect(()=>{let fe=te.current;if(fe){let q=fe.getBoundingClientRect().height;return ye(q),g(ne=>[{toastId:m.id,height:q,position:m.position},...ne]),()=>g(ne=>ne.filter(ge=>ge.toastId!==m.id))}},[g,m.id]),Ie.useLayoutEffect(()=>{if(!U)return;let fe=te.current,q=fe.style.height;fe.style.height="auto";let ne=fe.getBoundingClientRect().height;fe.style.height=q,ye(ne),g(ge=>ge.find(Fe=>Fe.toastId===m.id)?ge.map(Fe=>Fe.toastId===m.id?{...Fe,height:ne}:Fe):[{toastId:m.id,height:ne,position:m.position},...ge])},[U,m.title,m.description,g,m.id]);let et=Ie.useCallback(()=>{Y(!0),ae(it.current),g(fe=>fe.filter(q=>q.toastId!==m.id)),setTimeout(()=>{S(m)},LE)},[m,S,g,it]);Ie.useEffect(()=>{if(m.promise&&K==="loading"||m.duration===1/0||m.type==="loading")return;let fe;return y||p||M&&Ct?(()=>{if(Et.current<lt.current){let q=new Date().getTime()-lt.current;J.current=J.current-q}Et.current=new Date().getTime()})():J.current!==1/0&&(lt.current=new Date().getTime(),fe=setTimeout(()=>{var q;(q=m.onAutoClose)==null||q.call(m,m),et()},J.current)),()=>clearTimeout(fe)},[y,p,m,K,M,Ct,et]),Ie.useEffect(()=>{m.delete&&et()},[et,m.delete]);function ve(){var fe,q,ne;return E!=null&&E.loading?Ie.createElement("div",{className:Xr(N?.loader,(fe=m?.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":K==="loading"},E.loading):$?Ie.createElement("div",{className:Xr(N?.loader,(q=m?.classNames)==null?void 0:q.loader,"sonner-loader"),"data-visible":K==="loading"},$):Ie.createElement(pE,{className:Xr(N?.loader,(ne=m?.classNames)==null?void 0:ne.loader),visible:K==="loading"})}return Ie.createElement("li",{tabIndex:0,ref:te,className:Xr(I,Le,N?.toast,(e=m?.classNames)==null?void 0:e.toast,N?.default,N?.[K],(o=m?.classNames)==null?void 0:o[K]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:w,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":U,"data-promise":!!m.promise,"data-swiped":de,"data-removed":X,"data-visible":le,"data-y-position":We,"data-x-position":Be,"data-index":v,"data-front":Z,"data-swiping":re,"data-dismissible":he,"data-type":K,"data-invert":po,"data-swipe-out":ee,"data-swipe-direction":G,"data-expanded":!!(y||j&&U),style:{"--index":v,"--toasts-before":v,"--z-index":C.length-v,"--offset":`${X?Q:it.current}px`,"--initial-height":j?"auto":`${be}px`,...D,...m.style},onPointerDown:fe=>{Ft||!he||(pe.current=new Date,ae(it.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(W(!0),Ut.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,q,ne,ge;if(ee||!he)return;Ut.current=null;let Fe=Number(((fe=te.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),je=Number(((q=te.current)==null?void 0:q.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Oe=new Date().getTime()-((ne=pe.current)==null?void 0:ne.getTime()),Ee=B==="x"?Fe:je,$e=Math.abs(Ee)/Oe;if(Math.abs(Ee)>=NE||$e>.11){ae(it.current),(ge=m.onDismiss)==null||ge.call(m,m),z(B==="x"?Fe>0?"right":"left":je>0?"down":"up"),et(),ie(!0),xe(!1);return}W(!1),V(null)},onPointerMove:fe=>{var q,ne,ge,Fe;if(!Ut.current||!he||((q=window.getSelection())==null?void 0:q.toString().length)>0)return;let je=fe.clientY-Ut.current.y,Oe=fe.clientX-Ut.current.x,Ee=(ne=t.swipeDirections)!=null?ne:$E(A);!B&&(Math.abs(Oe)>1||Math.abs(je)>1)&&V(Math.abs(Oe)>Math.abs(je)?"x":"y");let $e={x:0,y:0};B==="y"?(Ee.includes("top")||Ee.includes("bottom"))&&(Ee.includes("top")&&je<0||Ee.includes("bottom")&&je>0)&&($e.y=je):B==="x"&&(Ee.includes("left")||Ee.includes("right"))&&(Ee.includes("left")&&Oe<0||Ee.includes("right")&&Oe>0)&&($e.x=Oe),(Math.abs($e.x)>0||Math.abs($e.y)>0)&&xe(!0),(ge=te.current)==null||ge.style.setProperty("--swipe-amount-x",`${$e.x}px`),(Fe=te.current)==null||Fe.style.setProperty("--swipe-amount-y",`${$e.y}px`)}},Ye&&!m.jsx?Ie.createElement("button",{"aria-label":O,"data-disabled":Ft,"data-close-button":!0,onClick:Ft||!he?()=>{}:()=>{var fe;et(),(fe=m.onDismiss)==null||fe.call(m,m)},className:Xr(N?.closeButton,(r=m?.classNames)==null?void 0:r.closeButton)},(s=E?.close)!=null?s:xE):null,m.jsx||Dg(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Ie.createElement(Ie.Fragment,null,K||m.icon||m.promise?Ie.createElement("div",{"data-icon":"",className:Xr(N?.icon,(i=m?.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ve():null,m.type!=="loading"?m.icon||E?.[K]||mE(K):null):null,Ie.createElement("div",{"data-content":"",className:Xr(N?.content,(l=m?.classNames)==null?void 0:l.content)},Ie.createElement("div",{"data-title":"",className:Xr(N?.title,(a=m?.classNames)==null?void 0:a.title)},typeof m.title=="function"?m.title():m.title),m.description?Ie.createElement("div",{"data-description":"",className:Xr(F,He,N?.description,(c=m?.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),Dg(m.cancel)?m.cancel:m.cancel&&xm(m.cancel)?Ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:fe=>{var q,ne;xm(m.cancel)&&he&&((ne=(q=m.cancel).onClick)==null||ne.call(q,fe),et())},className:Xr(N?.cancelButton,(u=m?.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,Dg(m.action)?m.action:m.action&&xm(m.action)?Ie.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||T,onClick:fe=>{var q,ne;xm(m.action)&&((ne=(q=m.action).onClick)==null||ne.call(q,fe),!fe.defaultPrevented&&et())},className:Xr(N?.actionButton,(d=m?.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function Py(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function jE(t,e){let o={};return[t,e].forEach((n,r)=>{let s=r===1,i=s?"--mobile-offset":"--offset",l=s?PE:RE;function a(c){["top","right","bottom","left"].forEach(u=>{o[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?a(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?o[`${i}-${c}`]=l:o[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):a(l)}),o}var Ay=uE(function(t,e){let{invert:o,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:a,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:m,visibleToasts:h=TE,toastOptions:p,dir:g=Py(),gap:b=EE,loadingIcon:x,icons:v,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:y}=t,[S,w]=Ie.useState([]),_=Ie.useMemo(()=>Array.from(new Set([n].concat(S.filter(M=>M.position).map(M=>M.position)))),[S,n]),[D,R]=Ie.useState([]),[T,I]=Ie.useState(!1),[F,P]=Ie.useState(!1),[A,k]=Ie.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Ie.useRef(null),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=Ie.useRef(null),E=Ie.useRef(!1),O=Ie.useCallback(M=>{w(B=>{var V;return(V=B.find(G=>G.id===M.id))!=null&&V.delete||ar.dismiss(M.id),B.filter(({id:G})=>G!==M.id)})},[]);return Ie.useEffect(()=>ar.subscribe(M=>{if(M.dismiss){w(B=>B.map(V=>V.id===M.id?{...V,delete:!0}:V));return}setTimeout(()=>{dE.flushSync(()=>{w(B=>{let V=B.findIndex(G=>G.id===M.id);return V!==-1?[...B.slice(0,V),{...B[V],...M},...B.slice(V+1)]:[M,...B]})})})}),[]),Ie.useEffect(()=>{if(u!=="system"){k(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:B})=>{k(B?"dark":"light")})}catch{M.addListener(({matches:V})=>{try{k(V?"dark":"light")}catch(G){console.error(G)}})}},[u]),Ie.useEffect(()=>{S.length<=1&&I(!1)},[S]),Ie.useEffect(()=>{let M=B=>{var V,G;r.every(z=>B[z]||B.code===z)&&(I(!0),(V=$.current)==null||V.focus()),B.code==="Escape"&&(document.activeElement===$.current||(G=$.current)!=null&&G.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[r]),Ie.useEffect(()=>{if($.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,E.current=!1)}},[$.current]),Ie.createElement("section",{ref:e,"aria-label":`${C} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((M,B)=>{var V;let[G,z]=M.split("-");return S.length?Ie.createElement("ol",{key:M,dir:g==="auto"?Py():g,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":G,"data-lifted":T&&S.length>1&&!s,"data-x-position":z,style:{"--front-toast-height":`${((V=D[0])==null?void 0:V.height)||0}px`,"--width":`${AE}px`,"--gap":`${b}px`,...m,...jE(a,c)},onBlur:U=>{E.current&&!U.currentTarget.contains(U.relatedTarget)&&(E.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||E.current||(E.current=!0,N.current=U.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{F||I(!1)},onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},S.filter(U=>!U.position&&B===0||U.position===M).map((U,oe)=>{var X,Y;return Ie.createElement(kE,{key:U.id,icons:v,index:oe,toast:U,defaultRichColors:d,duration:(X=p?.duration)!=null?X:f,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:o,visibleToasts:h,closeButton:(Y=p?.closeButton)!=null?Y:i,interacting:F,position:M,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:O,toasts:S.filter(re=>re.position==U.position),heights:D.filter(re=>re.position==U.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:x,expanded:T,pauseWhenPageIsHidden:y,swipeDirections:t.swipeDirections})})):null}))});import{c as ZE}from"react/compiler-runtime";import{jsx as YE}from"react/jsx-runtime";import{useRouter as JE}from"next/navigation.js";import{formatAdminURL as qE}from"payload/shared";import"react";import{c as UE}from"react/compiler-runtime";import{jsx as uc,jsxs as Pg}from"react/jsx-runtime";import XE from"react";import{c as Tg}from"react/compiler-runtime";import{jsx as On,jsxs as Cm}from"react/jsx-runtime";import{createContext as VE,use as GE,useLayoutEffect as zE,useState as WE}from"react";import{jsx as ME}from"react/jsx-runtime";import"react";var ac="gutter",go=t=>{let{children:e,className:o,left:n=!0,negativeLeft:r=!1,negativeRight:s=!1,ref:i,right:l=!0}=t,a=n&&!r,c=l&&!s;return ME("div",{className:[ac,a&&`${ac}--left`,c&&`${ac}--right`,r&&`${ac}--negative-left`,s&&`${ac}--negative-right`,o].filter(Boolean).join(" "),ref:i,children:e})};import{c as BE}from"react/compiler-runtime";import{useId as OE}from"react";var lc=t=>{let e=BE(3),o=OE(),n=ot(),r=`${t}-${o}`,s;return e[0]!==n||e[1]!==r?(s=cc({slug:r,depth:n}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};var Zr="drawer",Rg=100,cc=({slug:t,depth:e})=>`drawer_${e}_${t}`,Vn=t=>{let e=Tg(17),o,n,r,s,i,l;e[0]!==t?({slug:l,children:o,className:n,disabled:r,onClick:s,...i}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6]);let{openModal:a}=ce(),c;e[7]!==s||e[8]!==a||e[9]!==l?(c=f=>{a(l),typeof s=="function"&&s(f)},e[7]=s,e[8]=a,e[9]=l,e[10]=c):c=e[10];let u=c,d;return e[11]!==o||e[12]!==n||e[13]!==r||e[14]!==u||e[15]!==i?(d=On("button",{className:n,disabled:r,onClick:u,type:"button",...i,children:o}),e[11]=o,e[12]=n,e[13]=r,e[14]=u,e[15]=i,e[16]=d):d=e[16],d},Nt=t=>{let e=Tg(22),{slug:o,children:n,className:r,gutter:s,Header:i,hoverTitle:l,title:a}=t,c=s===void 0?!0:s,{t:u}=L(),{closeModal:d,modalState:f}=ce(),m=Tr(),h=!!f[o]?.isOpen,[p,g]=WE(h),b,x;if(e[0]!==h?(b=()=>{g(h)},x=[h],e[0]=h,e[1]=b,e[2]=x):(b=e[1],x=e[2]),zE(b,x),h){let v=p&&`${Zr}--is-open`,C=m>1&&`${Zr}--nested`,y;e[3]!==r||e[4]!==v||e[5]!==C?(y=[r,Zr,v,C].filter(Boolean),e[3]=r,e[4]=v,e[5]=C,e[6]=y):y=e[6];let S=y.join(" "),w=Rg+m,_;if(e[7]!==i||e[8]!==n||e[9]!==d||e[10]!==m||e[11]!==c||e[12]!==l||e[13]!==o||e[14]!==u||e[15]!==S||e[16]!==w||e[17]!==a){let D;e[19]!==d||e[20]!==o?(D=()=>d(o),e[19]=d,e[20]=o,e[21]=D):D=e[21],_=On(HE,{children:Cm(ir,{className:S,slug:o,style:{zIndex:w},children:[(!m||m===1)&&On("div",{className:`${Zr}__blur-bg`}),On("button",{"aria-label":u("general:close"),className:`${Zr}__close`,id:`close-drawer__${o}`,onClick:D,type:"button"}),Cm("div",{className:`${Zr}__content`,style:{width:`calc(100% - (${m} * var(--gutter-h)))`},children:[On("div",{className:`${Zr}__blur-bg-content`}),Cm(go,{className:`${Zr}__content-children`,left:c,right:c,children:[i,i===void 0&&Cm("div",{className:`${Zr}__header`,children:[On("h2",{className:`${Zr}__header__title`,title:l?a:null,children:a}),On("button",{"aria-label":u("general:close"),className:`${Zr}__header__close`,id:`close-drawer__${o}`,onClick:()=>d(o),type:"button",children:On(ct,{})})]}),n]})]})]})}),e[7]=i,e[8]=n,e[9]=d,e[10]=m,e[11]=c,e[12]=l,e[13]=o,e[14]=u,e[15]=S,e[16]=w,e[17]=a,e[18]=_}else _=e[18];return _}return null},Ey=VE(1),HE=t=>{let e=Tg(3),{children:o}=t,r=Tr()+1,s;return e[0]!==o||e[1]!==r?(s=On(Ey,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},Tr=()=>GE(Ey);var ym="confirmation-modal";function gt(t){let e=UE(37),{body:o,cancelLabel:n,className:r,confirmingLabel:s,confirmLabel:i,heading:l,modalSlug:a,onCancel:c,onConfirm:u}=t,d=Tr(),[f,m]=XE.useState(!1),{closeModal:h}=ce(),{t:p}=L(),g;e[0]!==h||e[1]!==f||e[2]!==a||e[3]!==u?(g=async()=>{f||(m(!0),typeof u=="function"&&await u(),m(!1),h(a))},e[0]=h,e[1]=f,e[2]=a,e[3]=u,e[4]=g):g=e[4];let b=g,x;e[5]!==h||e[6]!==f||e[7]!==a||e[8]!==c?(x=()=>{f||(h(a),typeof c=="function"&&c())},e[5]=h,e[6]=f,e[7]=a,e[8]=c,e[9]=x):x=e[9];let v=x,C;e[10]!==r?(C=[ym,r].filter(Boolean),e[10]=r,e[11]=C):C=e[11];let y=C.join(" "),S=Rg+d,w;if(e[12]!==o||e[13]!==n||e[14]!==i||e[15]!==f||e[16]!==s||e[17]!==l||e[18]!==a||e[19]!==v||e[20]!==b||e[21]!==p||e[22]!==y||e[23]!==S){let _;e[25]!==l?(_=typeof l=="string"?uc("h1",{children:l}):l,e[25]=l,e[26]=_):_=e[26];let D;e[27]!==o?(D=typeof o=="string"?uc("p",{children:o}):o,e[27]=o,e[28]=D):D=e[28];let R;e[29]!==n||e[30]!==p?(R=n||p("general:cancel"),e[29]=n,e[30]=p,e[31]=R):R=e[31];let T;e[32]!==i||e[33]!==f||e[34]!==s||e[35]!==p?(T=f?s||`${p("general:loading")}...`:i||p("general:confirm"),e[32]=i,e[33]=f,e[34]=s,e[35]=p,e[36]=T):T=e[36],w=uc(ir,{className:y,slug:a,style:{zIndex:S},children:Pg("div",{className:`${ym}__wrapper`,children:[Pg("div",{className:`${ym}__content`,children:[_,D]}),Pg("div",{className:`${ym}__controls`,children:[uc(se,{buttonStyle:"secondary",disabled:f,id:"confirm-cancel",onClick:v,size:"large",type:"button",children:R}),uc(se,{id:"confirm-action",onClick:b,size:"large",children:T})]})]})}),e[12]=o,e[13]=n,e[14]=i,e[15]=f,e[16]=s,e[17]=l,e[18]=a,e[19]=v,e[20]=b,e[21]=p,e[22]=y,e[23]=S,e[24]=w}else w=e[24];return w}var Ag="stay-logged-in",Ny=()=>{let t=ZE(11),{refreshCookie:e}=_e(),o=JE(),{config:n}=H(),{admin:r,routes:s}=n,{routes:i}=r,{logout:l}=i,{admin:a}=s,{t:c}=L(),{startRouteTransition:u}=Ue(),d;t[0]!==a||t[1]!==l||t[2]!==o||t[3]!==u?(d=()=>u(()=>o.push(qE({adminRoute:a,path:l}))),t[0]=a,t[1]=l,t[2]=o,t[3]=u,t[4]=d):d=t[4];let f=d,m;t[5]!==e?(m=()=>{e()},t[5]=e,t[6]=m):m=t[6];let h=m,p;return t[7]!==h||t[8]!==f||t[9]!==c?(p=YE(gt,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:Ag,onCancel:h,onConfirm:f}),t[7]=h,t[8]=f,t[9]=c,t[10]=p):p=t[10],p};import{c as QE}from"react/compiler-runtime";import{useEffect as KE,useState as eN}from"react";function lr(t,e){let o=QE(4),[n,r]=eN(t),s,i;return o[0]!==e||o[1]!==t?(s=()=>{let l=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(l)}},i=[t,e],o[0]=e,o[1]=t,o[2]=s,o[3]=i):(s=o[2],i=o[3]),KE(s,i),n}import{c as tN}from"react/compiler-runtime";import{useInsertionEffect as oN,useRef as rN}from"react";function Gt(t){let e=tN(4),o=rN(t),n,r;e[0]!==t?(n=()=>{o.current=t},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),oN(n,r);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(...i)=>{let l=i,a=o.current;return a(...l)},e[3]=s):s=e[3],s}import*as Ly from"qs-esm";var Je={delete:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"delete"};return fetch(t,n)},get:(t,e={headers:{}})=>{let o="";return e.params&&(o=Ly.stringify(e.params,{addQueryPrefix:!0})),fetch(`${t}${o}`,{credentials:"include",...e})},patch:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"PATCH"};return fetch(t,n)},post:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"post"};return fetch(`${t}`,n)},put:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"put"};return fetch(t,n)}};var My=lN({}),ky=2147483647;function Eg({children:t,permissions:e,user:o}){let[n,r]=dc(o),[s,i]=dc(),[l,a]=dc(),c=sN(),u=iN(),{config:d}=H(),{admin:{routes:{inactivity:f},user:m},routes:{admin:h,api:p},serverURL:g}=d,[b,x]=dc(e),{i18n:v}=L(),{closeAllModals:C,openModal:y}=ce(),[S,w]=dc(0),_=lr(S,1e4),D=$y.useRef(null),{startRouteTransition:R}=Ue(),T=n?.id,I=vi(()=>{R(()=>u.replace(aN({adminRoute:h,path:`${f}${window.location.pathname.startsWith(h)?`?redirect=${encodeURIComponent(window.location.pathname)}`:""}`}))),C()},[u,h,f,C,R]),F=vi(()=>{i(void 0),a(void 0),clearTimeout(D.current)},[]),P=vi(M=>{M?.user?(r(M.user),i(M.token),a(M.exp)):(r(null),F())},[F]),A=vi(M=>{let B=Math.round(new Date().getTime()/1e3),V=(typeof l=="number"?l:0)-B;return(M||l&&V<120)&&(D.current=setTimeout(()=>{async function G(){try{let z=await Je.post(`${g}${p}/${m}/refresh-token?refresh`,{headers:{"Accept-Language":v.language}});if(z.status===200){let U=await z.json();P(U)}else P(null),I()}catch(z){ue.error(z.message)}}G()},1e3)),()=>{clearTimeout(D.current)}},[p,v.language,I,g,P,l,m]),k=vi(async M=>{try{let B=await Je.post(`${g}${p}/${m}/refresh-token`,{headers:{"Accept-Language":v.language}});if(B.status===200){let V=await B.json();return M||P(V),V.user}return P(null),I(),null}catch(B){return ue.error(`Refreshing token failed: ${B.message}`),null}},[p,v.language,I,g,P,m]),$=vi(async()=>{try{return await Je.post(`${g}${p}/${n.collection}/logout`),P(null),F(),!0}catch(M){return ue.error(`Logging out failed: ${M.message}`),!1}},[p,F,g,P,n]),j=vi(async({locale:M}={})=>{let B=jy.stringify({locale:M},{addQueryPrefix:!0});try{let V=await Je.get(`${g}${p}/access${B}`,{headers:{"Accept-Language":v.language}});if(V.status===200){let G=await V.json();x(G)}else throw new Error(`Fetching permissions failed with status code ${V.status}`)}catch(V){ue.error(`Refreshing permissions failed: ${V.message}`)}},[g,p,v]),N=$y.useCallback(async()=>{try{let M=await Je.get(`${g}${p}/${m}/me`,{credentials:"include",headers:{"Accept-Language":v.language}});if(M.status===200){let B=await M.json(),V=null;return P(B),V}}catch(M){ue.error(`Fetching user failed: ${M.message}`)}return null},[g,p,m,v.language,P]),E=Gt(N);wm(()=>{E()},[]);let O=Gt(()=>{T&&A()});return wm(()=>{O()},[_]),wm(()=>{w(Date.now())},[c]),wm(()=>{let M,B,V=Math.round(new Date().getTime()/1e3),G=typeof l=="number"?l-V:0,z=Math.max(Math.min((G-60)*1e3,ky),0),U=Math.max(Math.min(G*1e3,ky),0);if(!n){clearTimeout(M),clearTimeout(B);return}return G>0&&(M=setTimeout(()=>{y(Ag)},z),B=setTimeout(()=>{P(null),I()},U)),()=>{M&&clearTimeout(M),B&&clearTimeout(B)}},[l,y,v,P,n,I]),nN(My,{value:{fetchFullUser:N,logOut:$,permissions:b,refreshCookie:A,refreshCookieAsync:k,refreshPermissions:j,setPermissions:x,setUser:P,token:s,user:n},children:t})}var _e=()=>cN(My);import{jsx as uN}from"react/jsx-runtime";import{dequal as By}from"dequal/lite";import{createContext as dN,use as mN,useCallback as Oy,useEffect as fN,useRef as Lg}from"react";function Ng(t,e){let o={...t};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&!Array.isArray(e[n])&&t[n]?o[n]=Ng(t[n],e[n]):o[n]=e[n]);return o}var Gy=dN({}),Vy=(t,e)=>({body:JSON.stringify({value:t}),headers:{"Accept-Language":e,"Content-Type":"application/json"}}),$g=({children:t})=>{let e=Lg({}),o=Lg({}),n=Lg({}),{config:r}=H(),{user:s}=_e(),{i18n:i}=L(),{routes:{api:l},serverURL:a}=r;fN(()=>{s||(o.current={})},[s]);let c=Oy(async d=>{let f=o.current;if(typeof f[d]<"u")return f[d];let m=new Promise(h=>{(async()=>{let p=await Je.get(`${a}${l}/payload-preferences/${d}`,{credentials:"include",headers:{"Accept-Language":i.language}}),g=null;p.status===200&&(g=(await p.json()).value),o.current[d]=g,h(g)})()});return f[d]=m,m},[i.language,l,o,a]),u=Oy(async(d,f,m=!1)=>{if(m===!1){o.current[d]=f,await Je.post(`${a}${l}/payload-preferences/${d}`,Vy(f,i.language));return}let h=f,p=await c(d);if(typeof f=="object"&&typeof p=="object"&&typeof h=="object"){if(p&&(h=Ng(p,h)),By(h,p))return;n.current[d]={...n.current[d],...h}}else{if(h===p)return;n.current[d]=h}let g=async()=>{By(n.current[d],o.current[d])||(o.current[d]=n.current[d],await Je.post(`${a}${l}/payload-preferences/${d}`,Vy(o.current[d],i.language)),delete n.current[d])};setTimeout(()=>{g()})},[l,c,i.language,n,a]);return e.current.getPreference=c,e.current.setPreference=u,uN(Gy,{value:e.current,children:t})},Zt=()=>mN(Gy);var Xy=Hy({}),Zy=Hy({localeIsLoading:!1,setLocaleIsLoading:t=>{}}),xN=async(t,e)=>await fetch(`${e}/payload-preferences/${t}`,{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"})?.then(o=>o.json()),kg=t=>{let e=pN(27),{children:o,locale:n}=t,{config:r}=H(),{localization:s,routes:i,serverURL:l}=r,a=s===void 0?!1:s,{api:c}=i,{user:u}=_e(),d=a?a.defaultLocale:"en",{getPreference:f}=Zt(),m=hN(),h;e[0]!==m?(h=m.get("locale"),e[0]=m,e[1]=h):h=e[1];let p=h,g;e[2]!==d||e[3]!==n||e[4]!==p||e[5]!==a?(g=()=>!a||a&&!a.locales.length?{}:_s(a,p)||_s(a,n)||_s(a,d)||_s(a,a.locales[0].code),e[2]=d,e[3]=n,e[4]=p,e[5]=a,e[6]=g):g=e[6];let[b,x]=gN.useState(g),[v,C]=vN(!1),y=bN(b),S,w;e[7]!==b?(S=()=>{b.code!==y.current.code&&C(!1),y.current=b},w=[b],e[7]=b,e[8]=S,e[9]=w):(S=e[8],w=e[9]),Wy(S,w);let _=`${l}${c}`,D;e[10]!==d||e[11]!==_||e[12]!==p||e[13]!==a||e[14]!==u?.id?(D=()=>{(async function(){if(a&&u?.id){let A=p||await xN("locale",_)?.then(CN),k=_s(a,A)||_s(a,d)||_s(a,a?.locales?.[0]?.code);k&&x(k)}})()},e[10]=d,e[11]=_,e[12]=p,e[13]=a,e[14]=u?.id,e[15]=D):D=e[15];let R=u?.id,T;e[16]!==d||e[17]!==_||e[18]!==f||e[19]!==p||e[20]!==a||e[21]!==R?(T=[d,f,a,_,p,R],e[16]=d,e[17]=_,e[18]=f,e[19]=p,e[20]=a,e[21]=R,e[22]=T):T=e[22],Wy(D,T);let I;return e[23]!==o||e[24]!==v||e[25]!==b?(I=zy(Xy,{value:b,children:zy(Zy,{value:{localeIsLoading:v,setLocaleIsLoading:C},children:o})}),e[23]=o,e[24]=v,e[25]=b,e[26]=I):I=e[26],I},Sm=()=>Uy(Zy),we=()=>Uy(Xy);function CN(t){return t.value}var Im=(t,e,o)=>{if(t)return`field-${t.replace(/\./g,"__")}${e>1?`-${e}`:""}${o?`-${o}`:""}`};var Se=t=>{let e=yN(25),{as:o,hideLocale:n,htmlFor:r,label:s,localized:i,path:l,required:a,unstyled:c}=t,u=o===void 0?"label":o,d=n===void 0?!1:n,f=i===void 0?!1:i,m=a===void 0?!1:a,h=c===void 0?!1:c,{uuid:p}=ke(),g=ot(),b;e[0]!==g||e[1]!==r||e[2]!==l||e[3]!==p?(b=r||Im(l,g,p),e[0]=g,e[1]=r,e[2]=l,e[3]=p,e[4]=b):b=e[4];let x=b,{i18n:v}=L(),{code:C,label:y}=we(),S=u==="label"?x?"label":"span":u||"span";if(s){let w=`field-label${h?" unstyled":""}`,_;if(e[5]!==S||e[6]!==C||e[7]!==d||e[8]!==x||e[9]!==v||e[10]!==s||e[11]!==y||e[12]!==f||e[13]!==m||e[14]!==w||e[15]!==h){let D;e[17]!==m||e[18]!==h?(D=m&&!h&&wN("span",{className:"required",children:"*"}),e[17]=m,e[18]=h,e[19]=D):D=e[19];let R;e[20]!==C||e[21]!==d||e[22]!==y||e[23]!==f?(R=f&&!d&&Yy("span",{className:"localized",children:["\u2014 ",typeof y=="string"?y:C]}),e[20]=C,e[21]=d,e[22]=y,e[23]=f,e[24]=R):R=e[24],_=Yy(S,{className:w,htmlFor:x,children:[SN(s,v),D,R]}),e[5]=S,e[6]=C,e[7]=d,e[8]=x,e[9]=v,e[10]=s,e[11]=y,e[12]=f,e[13]=m,e[14]=w,e[15]=h,e[16]=_}else _=e[16];return _}return null};var _m=({collapsed:t,rowID:e,rows:o})=>o.reduce((n,r)=>(e===r.id&&(r.collapsed=t),r.collapsed&&n.collapsedIDs.push(r.id),n.updatedRows.push(r),n),{collapsedIDs:[],updatedRows:[]}),Dm=({collapsed:t,rows:e})=>e.reduce((o,n)=>(n.collapsed=t,t&&o.collapsedIDs.push(n.id),o.updatedRows.push(n),o),{collapsedIDs:[],updatedRows:[]});import{c as y9}from"react/compiler-runtime";import{jsx as Hw}from"react/jsx-runtime";import*as Uw from"react";import{jsx as yc,jsxs as b9}from"react/jsx-runtime";import{rtlLanguages as v9}from"@payloadcms/translations";import{useCallback as Ww,useMemo as x9}from"react";import{c as p9}from"react/compiler-runtime";import{useRef as Ow}from"react";import{c as IN}from"react/compiler-runtime";import{useEffect as _N,useRef as DN}from"react";var xi=(t,e,o)=>{let n=IN(9),r;n[0]!==o?(r=o===void 0?[]:o,n[0]=o,n[1]=r):r=n[1];let s=r,i;n[2]===Symbol.for("react.memo_cache_sentinel")?(i=Date.now(),n[2]=i):i=n[2];let l=DN(i),a;n[3]!==t||n[4]!==e?(a=()=>{let u=setTimeout(()=>{Date.now()-l.current>=e&&(t(),l.current=Date.now())},e-(Date.now()-l.current));return()=>{clearTimeout(u)}},n[3]=t,n[4]=e,n[5]=a):a=n[5];let c;n[6]!==e||n[7]!==s?(c=[e,...s],n[6]=e,n[7]=s,n[8]=c):c=n[8],_N(a,c)};import{jsx as Am}from"react/jsx-runtime";import*as kw from"qs-esm";import Lw,{createContext as i9,use as a9,useCallback as Ra,useEffect as $w,useMemo as l9,useRef as c9,useState as hc}from"react";import{useCallback as FN,useEffect as TN,useRef as RN,useState as PN}from"react";function Gn(t,e){let[o,n]=PN(t??e),r=RN(!0);TN(()=>{if(r.current){r.current=!1;return}n(t)},[t]);let s=FN(i=>{n(i)},[]);return[o,s]}import{getTranslation as qN}from"@payloadcms/translations";var AN={},mc={};function _a(t,e){try{let n=(AN[t]||=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return n in mc?mc[n]:Jy(n,n.split(":"))}catch{if(t in mc)return mc[t];let o=t?.match(EN);return o?Jy(t,o.slice(1)):NaN}}var EN=/([+-]\d\d):?(\d\d)?/;function Jy(t,e){let o=+e[0],n=+(e[1]||0);return mc[t]=o>0?o*60+n:o*60-n}var Yt=class t extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(_a(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Qy(this,NaN),jg(this)):this.setTime(Date.now())}static tz(e,...o){return o.length?new t(...o,e):new t(Date.now(),e)}withTimeZone(e){return new t(+this,e)}getTimezoneOffset(){return-_a(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),jg(this),+this}[Symbol.for("constructDateFrom")](e){return new t(+new Date(e),this.timeZone)}},qy=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!qy.test(t))return;let e=t.replace(qy,"$1UTC");Yt.prototype[e]&&(t.startsWith("get")?Yt.prototype[t]=function(){return this.internal[e]()}:(Yt.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),NN(this),+this},Yt.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),jg(this),+this}))});function jg(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function NN(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Qy(t)}function Qy(t){let e=_a(t.timeZone,t),o=new Date(+t);o.setUTCHours(o.getUTCHours()-1);let n=-new Date(+t).getTimezoneOffset(),r=-new Date(+o).getTimezoneOffset(),s=n-r,i=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&i&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);let l=n-e;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);let a=_a(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-a,d=a!==e,f=u-l;if(d&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);let m=_a(t.timeZone,t),h=a-m;h&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+h),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h))}}var LN=Math.pow(10,8)*24*60*60*1e3,sne=-LN,Fm=6048e5,Ky=864e5;var fc=43200,Mg=1440;var $N=3600;var ew=$N*24,ine=ew*7,kN=ew*365.2425,jN=kN/12,ane=jN*3,Bg=Symbol.for("constructDateFrom");function bo(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Bg in t?t[Bg](e):t instanceof Date?new t.constructor(e):new Date(e)}function qe(t,e){return bo(e||t,t)}var MN={};function vn(){return MN}function zn(t,e){let o=vn(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=qe(t,e?.in),s=r.getDay(),i=(s<n?7:0)+s-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Ci(t,e){return zn(t,{...e,weekStartsOn:1})}function Tm(t,e){let o=qe(t,e?.in),n=o.getFullYear(),r=bo(o,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let s=Ci(r),i=bo(o,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let l=Ci(i);return o.getTime()>=s.getTime()?n+1:o.getTime()>=l.getTime()?n:n-1}function Da(t){let e=qe(t),o=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return o.setUTCFullYear(e.getFullYear()),+t-+o}function Fs(t,...e){let o=bo.bind(null,t||e.find(n=>typeof n=="object"));return e.map(o)}function Og(t,e){let o=qe(t,e?.in);return o.setHours(0,0,0,0),o}function tw(t,e,o){let[n,r]=Fs(o?.in,t,e),s=Og(n),i=Og(r),l=+s-Da(s),a=+i-Da(i);return Math.round((l-a)/Ky)}function ow(t,e){let o=Tm(t,e),n=bo(e?.in||t,0);return n.setFullYear(o,0,4),n.setHours(0,0,0,0),Ci(n)}function Fa(t,e){let o=+qe(t)-+qe(e);return o<0?-1:o>0?1:o}function rw(t){return bo(t,Date.now())}function nw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sw(t){return!(!nw(t)&&typeof t!="number"||isNaN(+qe(t)))}function iw(t,e,o){let[n,r]=Fs(o?.in,t,e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function aw(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function lw(t,e){return+qe(t)-+qe(e)}function cw(t,e){let o=qe(t,e?.in);return o.setHours(23,59,59,999),o}function uw(t,e){let o=qe(t,e?.in),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function dw(t,e){let o=qe(t,e?.in);return+cw(o,e)==+uw(o,e)}function mw(t,e,o){let[n,r,s]=Fs(o?.in,t,t,e),i=Fa(r,s),l=Math.abs(iw(r,s));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*l);let a=Fa(r,s)===-i;dw(n)&&l===1&&Fa(n,s)===1&&(a=!1);let c=i*(l-+a);return c===0?0:c}function fw(t,e,o){let n=lw(t,e)/1e3;return aw(o?.roundingMethod)(n)}function pw(t,e){let o=qe(t,e?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function hw(t,e){let o=qe(t,e?.in);return tw(o,pw(o))+1}function gw(t,e){let o=qe(t,e?.in),n=+Ci(o)-+ow(o);return Math.round(n/Fm)+1}function Rm(t,e){let o=qe(t,e?.in),n=o.getFullYear(),r=vn(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=bo(e?.in||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);let l=zn(i,e),a=bo(e?.in||t,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);let c=zn(a,e);return+o>=+l?n+1:+o>=+c?n:n-1}function bw(t,e){let o=vn(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,r=Rm(t,e),s=bo(e?.in||t,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),zn(s,e)}function vw(t,e){let o=qe(t,e?.in),n=+zn(o,e)-+bw(o,e);return Math.round(n/Fm)+1}function at(t,e){let o=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return o+n}var Wn={y(t,e){let o=t.getFullYear(),n=o>0?o:1-o;return at(e==="yy"?n%100:n,e.length)},M(t,e){let o=t.getMonth();return e==="M"?String(o+1):at(o+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){let o=e.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,o-3));return at(r,e.length)}};var Ta={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vg={G:function(t,e,o){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})}},y:function(t,e,o){if(e==="yo"){let n=t.getFullYear(),r=n>0?n:1-n;return o.ordinalNumber(r,{unit:"year"})}return Wn.y(t,e)},Y:function(t,e,o,n){let r=Rm(t,n),s=r>0?r:1-r;if(e==="YY"){let i=s%100;return at(i,2)}return e==="Yo"?o.ordinalNumber(s,{unit:"year"}):at(s,e.length)},R:function(t,e){let o=Tm(t);return at(o,e.length)},u:function(t,e){let o=t.getFullYear();return at(o,e.length)},Q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,o){let n=t.getMonth();switch(e){case"M":case"MM":return Wn.M(t,e);case"Mo":return o.ordinalNumber(n+1,{unit:"month"});case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,o){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return o.ordinalNumber(n+1,{unit:"month"});case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,o,n){let r=vw(t,n);return e==="wo"?o.ordinalNumber(r,{unit:"week"}):at(r,e.length)},I:function(t,e,o){let n=gw(t);return e==="Io"?o.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(t,e,o){return e==="do"?o.ordinalNumber(t.getDate(),{unit:"date"}):Wn.d(t,e)},D:function(t,e,o){let n=hw(t);return e==="Do"?o.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(t,e,o){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return at(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return at(s,e.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,o){let n=t.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return at(r,e.length);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return o.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(n,{width:"short",context:"formatting"});case"iiii":default:return o.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,o){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,o){let n=t.getHours(),r;switch(n===12?r=Ta.noon:n===0?r=Ta.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,o){let n=t.getHours(),r;switch(n>=17?r=Ta.evening:n>=12?r=Ta.afternoon:n>=4?r=Ta.morning:r=Ta.night,e){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,o){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),o.ordinalNumber(n,{unit:"hour"})}return Wn.h(t,e)},H:function(t,e,o){return e==="Ho"?o.ordinalNumber(t.getHours(),{unit:"hour"}):Wn.H(t,e)},K:function(t,e,o){let n=t.getHours()%12;return e==="Ko"?o.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(t,e,o){let n=t.getHours();return n===0&&(n=24),e==="ko"?o.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(t,e,o){return e==="mo"?o.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wn.m(t,e)},s:function(t,e,o){return e==="so"?o.ordinalNumber(t.getSeconds(),{unit:"second"}):Wn.s(t,e)},S:function(t,e){return Wn.S(t,e)},X:function(t,e,o){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Cw(n);case"XXXX":case"XX":return yi(n);case"XXXXX":case"XXX":default:return yi(n,":")}},x:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"x":return Cw(n);case"xxxx":case"xx":return yi(n);case"xxxxx":case"xxx":default:return yi(n,":")}},O:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xw(n,":");case"OOOO":default:return"GMT"+yi(n,":")}},z:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xw(n,":");case"zzzz":default:return"GMT"+yi(n,":")}},t:function(t,e,o){let n=Math.trunc(+t/1e3);return at(n,e.length)},T:function(t,e,o){return at(+t,e.length)}};function xw(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),s=n%60;return s===0?o+String(r):o+String(r)+e+at(s,2)}function Cw(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):yi(t,e)}function yi(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=at(Math.trunc(n/60),2),s=at(n%60,2);return o+r+e+s}var yw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ww=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},BN=(t,e)=>{let o=t.match(/(P+)(p+)?/)||[],n=o[1],r=o[2];if(!r)return yw(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",yw(n,e)).replace("{{time}}",ww(r,e))},Sw={p:ww,P:BN};var ON=/^D+$/,VN=/^Y+$/,GN=["D","DD","YY","YYYY"];function Iw(t){return ON.test(t)}function _w(t){return VN.test(t)}function Dw(t,e,o){let n=zN(t,e,o);if(console.warn(n),GN.includes(t))throw new RangeError(n)}function zN(t,e,o){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var WN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UN=/^'([^]*?)'?$/,XN=/''/g,ZN=/[a-zA-Z]/;function Gg(t,e,o){let n=vn(),r=o?.locale??n.locale??Xl,s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=qe(t,o?.in);if(!sw(l))throw new RangeError("Invalid time value");let a=e.match(HN).map(u=>{let d=u[0];if(d==="p"||d==="P"){let f=Sw[d];return f(u,r.formatLong)}return u}).join("").match(WN).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:YN(u)};if(Vg[d])return{isToken:!0,value:u};if(d.match(ZN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(a=r.localize.preprocessor(l,a));let c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return a.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!o?.useAdditionalWeekYearTokens&&_w(d)||!o?.useAdditionalDayOfYearTokens&&Iw(d))&&Dw(d,e,String(t));let f=Vg[d[0]];return f(l,d,r.localize,c)}).join("")}function YN(t){let e=t.match(UN);return e?e[1].replace(XN,"'"):t}function Fw(t,e,o){let n=vn(),r=o?.locale??n.locale??Xl,s=2520,i=Fa(t,e);if(isNaN(i))throw new RangeError("Invalid time value");let l=Object.assign({},o,{addSuffix:o?.addSuffix,comparison:i}),[a,c]=Fs(o?.in,...i>0?[e,t]:[t,e]),u=fw(c,a),d=(Da(c)-Da(a))/1e3,f=Math.round((u-d)/60),m;if(f<2)return o?.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,l):u<10?r.formatDistance("lessThanXSeconds",10,l):u<20?r.formatDistance("lessThanXSeconds",20,l):u<40?r.formatDistance("halfAMinute",0,l):u<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<Mg){let h=Math.round(f/60);return r.formatDistance("aboutXHours",h,l)}else{if(f<s)return r.formatDistance("xDays",1,l);if(f<fc){let h=Math.round(f/Mg);return r.formatDistance("xDays",h,l)}else if(f<fc*2)return m=Math.round(f/fc),r.formatDistance("aboutXMonths",m,l)}if(m=mw(c,a),m<12){let h=Math.round(f/fc);return r.formatDistance("xMonths",h,l)}else{let h=m%12,p=Math.trunc(m/12);return h<3?r.formatDistance("aboutXYears",p,l):h<9?r.formatDistance("overXYears",p,l):r.formatDistance("almostXYears",p+1,l)}}function Tw(t,e){return Fw(t,rw(t),e)}function Yr(t,e){let o=JN(e)?new e(0):bo(e,0);return o.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),o}function JN(t){return typeof t=="function"&&t.prototype?.constructor===t}var Rr=({date:t,i18n:e,pattern:o,timezone:n})=>{let r=new Yt(new Date(t));if(n){let s=Yt.tz(n),i=r.withTimeZone(n),l=Yr(i,s);return e.dateFNS?Gg(l,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`}return e.dateFNS?Gg(r,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`},zg=({date:t,i18n:e})=>{let o=typeof t=="string"?new Date(t):t;return e?.dateFNS?Tw(o,{locale:e.dateFNS}):`${e.t("general:loading")}...`};function Wg(t){return typeof t=="object"&&"root"in t}function Pm(t,e){for(let o of t)"text"in o&&o.text?e+=o.text:"children"in o||(e+=`[${o.type}]`),"children"in o&&o.children&&(e+=Pm(o.children,e));return e}var Mo=({collectionConfig:t,data:e,dateFormat:o,fallback:n,globalConfig:r,i18n:s})=>{let i;if(t){let l=t?.admin?.useAsTitle;if(l&&(i=e?.[l],i)){let a=t.fields.find(u=>"name"in u&&u.name===l);if(a?.type==="date"){let u="date"in a.admin&&a?.admin?.date?.displayFormat||o;i=Rr({date:i,i18n:s,pattern:u})||i}}}return r&&(i=qN(r?.label,s)||r?.slug),i&&Wg(i)&&(i=Pm(i.root.children?.[0]?.children||[],"")),!i&&Wg(n)&&(i=Pm(n.root.children?.[0]?.children||[],"")),i||(i=typeof n=="string"?n:`[${s.t("general:untitled")}]`),i};import{jsx as QN}from"react/jsx-runtime";import{createContext as KN,use as e9,useEffect as t9,useState as o9}from"react";var Rw=KN({}),cr=()=>e9(Rw),Pw=({children:t})=>{let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,initialData:s,savedDocumentData:i}=Re(),{config:{admin:{dateFormat:l}}}=H(),{i18n:a}=L(),[c,u]=o9(()=>Mo({collectionConfig:o?n:void 0,data:{...s||{},id:e},dateFormat:l,fallback:e?.toString(),globalConfig:r?n:void 0,i18n:a}));return t9(()=>{u(Mo({collectionConfig:o?n:void 0,data:{...i,id:e},dateFormat:l,fallback:e?.toString(),globalConfig:r?n:void 0,i18n:a}))},[i,l,a,e,o,n,r]),QN(Rw,{value:{setDocumentTitle:u,title:c},children:t})};import{c as r9}from"react/compiler-runtime";import{jsx as n9}from"react/jsx-runtime";import Hg from"react";var Aw=Hg.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),Ug=t=>{let e=r9(10),{children:o,initialUploadEdits:n}=t,r;e[0]!==n?(r=n||{},e[0]=n,e[1]=r):r=e[1];let[s,i]=Hg.useState(r),l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{i({})},e[2]=l):l=e[2];let a=l,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=h=>{i(p=>({...p||{},...h||{}}))},e[3]=c):c=e[3];let u=c,d;e[4]!==s?(d=()=>s,e[4]=s,e[5]=d):d=e[5];let f=d,m;return e[6]!==o||e[7]!==f||e[8]!==s?(m=n9(Aw,{value:{getUploadEdits:f,resetUploadEdits:a,updateUploadEdits:u,uploadEdits:s},children:o}),e[6]=o,e[7]=f,e[8]=s,e[9]=m):m=e[9],m},wi=()=>Hg.use(Aw);import*as Xg from"qs-esm";import s9 from"react";var pc=t=>{let{collectionSlug:e,docPermissions:o,globalSlug:n,isEditing:r}=t;return e?!!(r&&o?.update||!r&&o?.create):n?!!o?.update:!1};var Ew=({id:t,collectionSlug:e,globalSlug:o})=>!!(o||e&&t);var Nw=({id:t,api:e,collectionSlug:o,globalSlug:n,i18n:r,locale:s,permissions:i,serverURL:l,setDocPermissions:a,setHasPublishPermission:c,setHasSavePermission:u})=>s9.useCallback(async d=>{let f={locale:s||void 0},m=d?.id||t,h=Ew({id:m,collectionSlug:o,globalSlug:n});if(h){let p=o?`/${o}/access/${m}`:n?`/globals/${n}/access`:null;if(p){let b=await(await fetch(`${l}${e}${p}?${Xg.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),x=await fetch(`${l}${e}${p}?${Xg.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(v=>v.json());a(b),u(pc({collectionSlug:o,docPermissions:b,globalSlug:n,isEditing:h})),c(x?.update)}}else{let p=o?i?.collections?.[o]:i?.globals?.[n];a(p),u(pc({collectionSlug:o,docPermissions:p,globalSlug:n,isEditing:h}))}},[l,e,t,i,r.language,s,o,n]);var jw=i9({}),Re=()=>a9(jw),u9=({children:t,...e})=>{let{id:o,collectionSlug:n,currentEditor:r,docPermissions:s,globalSlug:i,hasPublishedDoc:l,hasPublishPermission:a,hasSavePermission:c,initialData:u,initialState:d,isLocked:f,lastUpdateTime:m,mostRecentVersionIsAutosaved:h,unpublishedVersionCount:p,versionCount:g}=e,[b,x]=Gn(s),[v,C]=Gn(c),[y,S]=Gn(a),{permissions:w}=_e(),{config:{admin:{dateFormat:_},routes:{api:D},serverURL:R},getEntityConfig:T}=H(),I=T({collectionSlug:n}),F=T({globalSlug:i}),P=c9(new AbortController),A=I||F,{i18n:k}=L(),{uploadEdits:$}=wi(),[j,N]=hc(()=>Mo({collectionConfig:I,data:{...u||{},id:o},dateFormat:_,fallback:o?.toString(),globalConfig:F,i18n:k})),[E,O]=hc(h),[M,B]=hc(g),[V,G]=hc(l),[z,U]=hc(p),[oe,X]=Gn(f),[Y,re]=Gn(r),[W,ee]=Gn(m),[ie,de]=Gn(u),[xe,Q]=Gn("idle"),ae=Ra(We=>{Q(We)},[Q]),{getPreference:be,setPreference:ye}=Zt(),{code:J}=we(),{localeIsLoading:pe}=Sm(),te=l9(()=>d===void 0||u===void 0||pe,[u,d,pe]),Z=`${R}${D}`,le,K,he;i&&(le=i,K="globals",he=`global-${le}`),n&&(le=n,K="collections",o&&(he=`collection-${le}-${o}`));let Le=Ra(async(We,Be)=>{try{let Ct=Be===i?`where[globalSlug][equals]=${Be}`:`where[document.value][equals]=${We}&where[document.relationTo][equals]=${Be}`,po=await Je.get(`${R}${D}/payload-locked-documents?${Ct}`,{credentials:"include"}),{docs:Ft}=await po.json();if(Ft?.length>0){let et=Ft[0].id;await Je.delete(`${R}${D}/payload-locked-documents/${et}`,{credentials:"include",headers:{"Content-Type":"application/json"}}),X(!1)}}catch(Ke){console.error("Failed to unlock the document",Ke)}},[R,D,i,X]),He=Ra(async(We,Be,Ke)=>{try{let po=Be===i?`where[globalSlug][equals]=${Be}`:`where[document.value][equals]=${We}&where[document.relationTo][equals]=${Be}`,Ft=await Je.get(`${R}${D}/payload-locked-documents?${po}`,{credentials:"include"}),{docs:et}=await Ft.json();if(et?.length>0){let ve=et[0].id,fe=typeof Ke=="object"?{relationTo:Ke.collection,value:Ke.id}:{relationTo:"users",value:Ke};await Je.patch(`${R}${D}/payload-locked-documents/${ve}`,{body:JSON.stringify({user:fe}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(Ct){console.error("Failed to update the document editor",Ct)}},[R,D,i]),Ze=Nw({id:o,api:D,collectionSlug:n,globalSlug:i,i18n:k,locale:J,permissions:w,serverURL:R,setDocPermissions:x,setHasPublishPermission:S,setHasSavePermission:C}),Ye=Ra(()=>be(he),[be,he]),At=Ra(async(We,Be)=>{let Ke=await Ye();if(he)try{await ye(he,{...Ke,fields:{...Ke?.fields||{},[We]:{...Ke?.fields?.[We],...Be}}})}catch(Ct){console.error(Ct)}},[ye,he,Ye]),lt=Ra(()=>{let We=M+1;I&&I.versions?I.versions.maxPerDoc>0?B(Math.min(We,I.versions.maxPerDoc)):B(We):F&&F.versions&&(F.versions.max>0?B(Math.min(We,F.versions.max)):B(We))},[I,F,M]),it=Lw.useCallback(We=>{de(We)},[de]);$w(()=>{N(Mo({collectionConfig:I,data:{...ie,id:o},dateFormat:_,fallback:o?.toString(),globalConfig:F,i18n:k}))},[I,F,ie,_,k,o]),$w(()=>{let We=P.current;return()=>{if(We)try{We.abort()}catch{}}},[]);let Et=Lw.useMemo(()=>`${`${Z}${K==="globals"?"/globals":""}/${le}${o?`/${o}`:""}`}${kw.stringify({depth:0,"fallback-locale":"null",locale:J,uploadEdits:$||void 0},{addQueryPrefix:!0})}`,[Z,J,K,o,le,$]),Ut={...e,action:Et,currentEditor:Y,docConfig:A,docPermissions:b,documentIsLocked:oe,getDocPermissions:Ze,getDocPreferences:Ye,hasPublishedDoc:V,hasPublishPermission:y,hasSavePermission:v,incrementVersionCount:lt,initialData:u,initialState:d,isInitializing:te,lastUpdateTime:W,mostRecentVersionIsAutosaved:E,preferencesKey:he,savedDocumentData:ie,setCurrentEditor:re,setDocFieldPreferences:At,setDocumentIsLocked:X,setDocumentTitle:N,setHasPublishedDoc:G,setLastUpdateTime:ee,setMostRecentVersionIsAutosaved:O,setUnpublishedVersionCount:U,setUploadStatus:ae,title:j,unlockDocument:Le,unpublishedVersionCount:z,updateDocumentEditor:He,updateSavedDocumentData:it,uploadStatus:xe,versionCount:M};return Am(jw,{value:Ut,children:Am(Pw,{children:t})})},gc=t=>Am(Ug,{children:Am(u9,{...t})});import{jsx as d9}from"react/jsx-runtime";import{createContext as m9,use as f9}from"react";var Em=m9(""),bc=({children:t,operation:e})=>d9(Em,{value:e,children:t}),ur=()=>f9(Em);import Mw from"react";var vc=Mw.createContext(void 0),Bw=()=>{let t=Mw.useContext(vc);if(t)return t};var Ne=t=>{let e=p9(64),o;e[0]!==t?(o=t||{},e[0]=t,e[1]=o):o=e[1];let{disableFormData:n,hasRows:r,path:s,potentiallyStalePath:i,validate:l}=o,a=n===void 0?!1:n,c=Bw(),u=s||c||i,d=oo(),f=_r(),m=ui(),{user:h}=_e(),{id:p,collectionSlug:g}=Re(),b=ur(),x=Tt(h9),v;e[2]!==u?(v=xe=>{let[Q]=xe;return Q&&Q?.[u]||null},e[2]=u,e[3]=v):v=e[3];let C=Tt(v),{t:y}=L(),{config:S}=H(),{getData:w,getDataByPath:_,getSiblingData:D,setModified:R}=ke(),T=ba();ro();let I=C?.filterOptions,F=C?.value,P=C?.initialValue,A=typeof C?.valid=="boolean"?C.valid:!0,k=A===!1&&d,$=Ow(A),j=Ow(C?.errorMessage),N;e[4]!==u?(N=u?u.split("."):[],e[4]=u,e[5]=N):N=e[5];let E=N,O;e[6]!==a||e[7]!==x||e[8]!==r||e[9]!==u||e[10]!==R?(O=(xe,Q)=>{let ae=Q===void 0?!1:Q,ye=xe&&typeof xe=="object"&&typeof xe.preventDefault=="function"&&typeof xe.stopPropagation=="function"?xe.target.value:xe;x({type:"UPDATE",disableFormData:a||r&&ye>0,path:u,value:ye}),ae||R(!0)},e[6]=a,e[7]=x,e[8]=r,e[9]=u,e[10]=R,e[11]=O):O=e[11];let M=O,B,V=C?.customComponents,G=f||m,z=C?.errorMessage,U;e[12]!==C?.errorPaths?(U=C?.errorPaths||[],e[12]=C?.errorPaths,e[13]=U):U=e[13];let oe=C?.rows,X=C?.selectFilterOptions,Y=C?.valid,re;e[14]!==I||e[15]!==P||e[16]!==m||e[17]!==u||e[18]!==f||e[19]!==M||e[20]!==k||e[21]!==d||e[22]!==oe||e[23]!==X||e[24]!==Y||e[25]!==V||e[26]!==G||e[27]!==z||e[28]!==U||e[29]!==F?(re={customComponents:V,disabled:G,errorMessage:z,errorPaths:U,filterOptions:I,formInitializing:m,formProcessing:f,formSubmitted:d,initialValue:P,path:u,rows:oe,selectFilterOptions:X,setValue:M,showError:k,valid:Y,value:F},e[14]=I,e[15]=P,e[16]=m,e[17]=u,e[18]=f,e[19]=M,e[20]=k,e[21]=d,e[22]=oe,e[23]=X,e[24]=Y,e[25]=V,e[26]=G,e[27]=z,e[28]=U,e[29]=F,e[30]=re):re=e[30],B=re;let W=B,ee;e[31]!==g||e[32]!==S||e[33]!==a||e[34]!==x||e[35]!==T||e[36]!==C||e[37]!==w||e[38]!==_||e[39]!==D||e[40]!==r||e[41]!==p||e[42]!==b||e[43]!==u||e[44]!==E||e[45]!==y||e[46]!==h||e[47]!==l||e[48]!==F?(ee=()=>{(async()=>{let Q=F;C?.rows&&Array.isArray(C.rows)&&(Q=_(u));let ae=j.current,be=$.current,ye=w(),J=typeof l=="function"?await l(Q,{id:p,blockData:void 0,collectionSlug:g,data:T?.getData?T.getData():ye,event:"onChange",operation:b,path:E,preferences:{},req:{payload:{config:S},t:y,user:h},siblingData:D(u)}):typeof j.current=="string"?j.current:$.current;if(typeof J=="string"?(be=!1,ae=J):typeof J=="boolean"&&(be=J,ae=void 0),be!==$.current||ae!==j.current){$.current=be,j.current=ae;let pe={type:"UPDATE",errorMessage:ae,path:u,rows:C?.rows,valid:be,validate:l,value:F};(a||r&&typeof F=="number"&&F>0)&&(pe.disableFormData=!0),typeof x=="function"&&x(pe)}})()},e[31]=g,e[32]=S,e[33]=a,e[34]=x,e[35]=T,e[36]=C,e[37]=w,e[38]=_,e[39]=D,e[40]=r,e[41]=p,e[42]=b,e[43]=u,e[44]=E,e[45]=y,e[46]=h,e[47]=l,e[48]=F,e[49]=ee):ee=e[49];let ie=C?.rows,de;return e[50]!==g||e[51]!==a||e[52]!==x||e[53]!==w||e[54]!==_||e[55]!==D||e[56]!==p||e[57]!==b||e[58]!==u||e[59]!==ie||e[60]!==h||e[61]!==l||e[62]!==F?(de=[F,a,x,w,D,_,p,b,u,h,l,ie,g],e[50]=g,e[51]=a,e[52]=x,e[53]=w,e[54]=_,e[55]=D,e[56]=p,e[57]=b,e[58]=u,e[59]=ie,e[60]=h,e[61]=l,e[62]=F,e[63]=de):de=e[63],xi(ee,150,de),W};function h9(t){let[,e]=t;return e}import{jsx as Vw}from"react/jsx-runtime";import"react";import{c as g9}from"react/compiler-runtime";var Zg=t=>{let e=g9(2),{children:o,path:n}=t,r;e[0]!==n?(r=l=>{let[a]=l;return a&&a?.[n]||null},e[0]=n,e[1]=r):r=e[1];let s=Tt(r),{passesCondition:i}=s||{};return i===!1?null:o};var Me=t=>o=>{let{path:n}=o;return Vw(Zg,{path:n,children:Vw(t,{...o})})};var rt=t=>({...t?.admin?.style||{},...t?.admin?.width?{"--field-width":t.admin.width}:{flex:"1 1 auto"},...t?.admin?.style?.flex?{flex:t.admin.style.flex}:{}});var De="field-type";function Pa({fieldLocalized:t,fieldRTL:e,locale:o,localizationConfig:n}){let r=o&&n&&n.locales&&n.locales.length>1,s=o?.code===n?.defaultLocale;return e!==!1&&o?.rtl===!0&&(t||!t&&!r||!t&&s)||e===!0}import{jsx as xc,jsxs as qg}from"react/jsx-runtime";import"react";import{jsx as Gw}from"react/jsx-runtime";import"react";var Yg=()=>Gw("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Gw("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})});import{jsx as zw}from"react/jsx-runtime";import"react";var Jg=()=>zw("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:zw("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})});var Cc="checkbox-input",Hn=({id:t,name:e,AfterInput:o,BeforeInput:n,checked:r,className:s,inputRef:i,Label:l,label:a,localized:c,onToggle:u,partialChecked:d,readOnly:f,required:m})=>qg("div",{className:[s,Cc,r&&`${Cc}--checked`,f&&`${Cc}--read-only`].filter(Boolean).join(" "),children:[qg("div",{className:`${Cc}__input`,children:[n,xc("input",{"aria-label":"",defaultChecked:!!r,disabled:f,id:t,name:e,onInput:u,ref:i,required:m,type:"checkbox"}),qg("span",{className:[`${Cc}__icon`,!r&&d?"partial":"check"].filter(Boolean).join(" "),children:[r&&xc(Yg,{}),!r&&d&&xc(Jg,{})]}),o]}),xc(me,{CustomComponent:l,Fallback:xc(Se,{htmlFor:t,label:a,localized:c,required:m})})]});var Qg="checkbox";var C9=t=>{let{id:e,checked:o,disableFormData:n,field:r,field:{admin:{className:s,description:i}={},label:l,required:a}={},onChange:c,partialChecked:u,path:d,readOnly:f,validate:m}=t,{uuid:h}=ke(),p=ot(),{i18n:{language:g}}=L(),b=v9.includes(g),x=Ww(($,j)=>{if(typeof m=="function")return m($,{...j,required:a})},[m,a]),{customComponents:{AfterInput:v,BeforeInput:C,Description:y,Error:S,Label:w}={},disabled:_,path:D,setValue:R,showError:T,value:I}=Ne({disableFormData:n,potentiallyStalePath:d,validate:x}),F=Ww(()=>{f||(R(!I),typeof c=="function"&&c(!I))},[c,f,R,I]),P=o||!!I,A=e||Im(D,p,h),k=x9(()=>rt(r),[r]);return b9("div",{className:[De,Qg,T&&"error",s,I&&`${Qg}--checked`,(f||_)&&`${Qg}--read-only`].filter(Boolean).join(" "),style:k,children:[yc(me,{CustomComponent:S,Fallback:yc(ze,{alignCaret:b?"right":"left",path:D,showError:T})}),yc(Hn,{AfterInput:v,BeforeInput:C,checked:P,id:A,inputRef:null,Label:w,label:l,name:D,onToggle:F,partialChecked:u,readOnly:f||_,required:a}),yc(me,{CustomComponent:y,Fallback:yc(Ge,{description:i,path:D})})]})},Pr=Me(C9);var wc=t=>{let e=y9(4),{fieldValue:o,localized:n,path:r}=t,{code:s}=we(),{config:i}=H(),{localization:l}=i,[a,c]=Uw.useState(typeof o!="number"),{t:u}=L();if(!n||!l||l.defaultLocale===s||!l.fallback)return null;if(o){let f=!1;if(typeof o=="number"&&o>0&&(f=!0),Array.isArray(o)&&o.length>0&&(f=!0),f)return a&&c(!1),null}let d;return e[0]!==a||e[1]!==r||e[2]!==u?(d=Hw(Hr,{children:Hw(Pr,{checked:a,field:{name:"",label:u("general:fallbackToDefaultLocale")},id:`field-${r.replace(/\./g,"__")}`,path:r,schemaPath:""})}),e[0]=a,e[1]=r,e[2]=u,e[3]=d):d=e[3],d};var Aa=t=>{let e=document.getElementById(t);if(e){let o=e.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:o.top-100})}};import{c as SG}from"react/compiler-runtime";import{jsx as qs,jsxs as IG}from"react/jsx-runtime";import{getTranslation as _G}from"@payloadcms/translations";import"react";import{c as S9}from"react/compiler-runtime";import{jsx as Un,jsxs as Si}from"react/jsx-runtime";import I9 from"react";import{jsx as Xw}from"react/jsx-runtime";import"react";var Sc=()=>Xw("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Xw("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})});import{jsx as Kg,jsxs as w9}from"react/jsx-runtime";import"react";var e1=({className:t})=>w9("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Kg("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),Kg("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),Kg("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]});var dr="array-actions",Nm=t=>{let e=S9(10),{addRow:o,duplicateRow:n,hasMaxRows:r,index:s,isSortable:i,moveRow:l,removeRow:a,rowCount:c}=t,{t:u}=L(),d;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==i||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==u?(d=Un(ut,{button:Un(e1,{}),buttonClassName:`${dr}__button`,className:dr,horizontalAlign:"center",render:f=>{let{close:m}=f;return Si(Ce.ButtonGroup,{buttonSize:"small",children:[i&&s!==0&&Si(Ce.Button,{className:`${dr}__action ${dr}__move-up`,onClick:()=>{l(s,s-1),m()},children:[Un("div",{className:`${dr}__action-chevron`,children:Un(Ve,{direction:"up"})}),u("general:moveUp")]}),i&&s<c-1&&Si(Ce.Button,{className:`${dr}__action`,onClick:()=>{l(s,s+1),m()},children:[Un("div",{className:`${dr}__action-chevron`,children:Un(Ve,{})}),u("general:moveDown")]}),!r&&Si(I9.Fragment,{children:[Si(Ce.Button,{className:`${dr}__action ${dr}__add`,onClick:()=>{o(s+1),m()},children:[Un(Dr,{}),u("general:addBelow")]}),Si(Ce.Button,{className:`${dr}__action ${dr}__duplicate`,onClick:()=>{n(s),m()},children:[Un(Sc,{}),u("general:duplicate")]})]}),Si(Ce.Button,{className:`${dr}__action ${dr}__remove`,onClick:()=>{a(s),m()},children:[Un(ct,{}),u("general:remove")]})]})},size:"medium"}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=l,e[6]=a,e[7]=c,e[8]=u,e[9]=d):d=e[9],d};import{c as L9}from"react/compiler-runtime";import{jsx as qr,jsxs as r1}from"react/jsx-runtime";import{useState as Qw}from"react";import{jsx as Ea,jsxs as _9}from"react/jsx-runtime";import"react";var Jr=({className:t})=>_9("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Ea("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),Ea("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),Ea("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),Ea("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),Ea("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),Ea("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]});import{jsx as Yw}from"react/jsx-runtime";import Lm,{useEffect as R9,useRef as o1}from"react";import{useEffect as D9,useMemo as F9,useRef as t1,useState as T9}from"react";var Zw=({containerRef:t,contentRef:e,duration:o,open:n})=>{let r=F9(()=>typeof CSS<"u"&&CSS&&CSS.supports?CSS.supports("interpolate-size","allow-keywords"):!1,[]),s=t1(!1),i=t1(n),[l,a]=T9(!1),c=t1(null);return D9(()=>{let u=t.current,d=e.current;if(!u||!d||r)return;let f=p=>{u.style.height=p},m=()=>{u&&(u.style.transition="",u.style.height=n?"auto":"0px",a(!1))};return(()=>{if(!s.current&&n){f("auto"),a(!1);return}s.current=!0,i.current!==n&&f(n?"0px":`${d.scrollHeight}px`),u.offsetHeight,a(!0),u.style.transition=`height ${o}ms ease`,f(n?`${d.scrollHeight}px`:"0px");let p=()=>{m(),u.removeEventListener("transitionend",p)};u.addEventListener("transitionend",p)})(),i.current=n,c.current=new ResizeObserver(()=>{l&&(u.style.height=n?`${d.scrollHeight}px`:"0px")}),c.current.observe(d),()=>{u&&(u.style.transition="",u.style.height=""),c.current?.disconnect()}},[n,o,t,e,r]),{browserSupportsKeywordAnimation:r}};var Ar=({id:t,children:e,className:o,duration:n=300,height:r})=>{let[s,i]=Lm.useState(()=>!!r),l=o1(s),[a,c]=Lm.useState(()=>s?"":"none"),[u,d]=Lm.useState(()=>s?"":"hidden"),[f,m]=Lm.useState(!1),h=o1(null),p=o1(null);return R9(()=>{let g,b,x=!!r,v=l.current!==x;return l.current=x,v&&(m(!0),d("hidden"),x?c(""):g=window.setTimeout(()=>{c("none")},n),i(x),b=window.setTimeout(()=>{d(""),m(!1)},n)),()=>{g&&clearTimeout(g),b&&clearTimeout(b)}},[r,n]),Zw({containerRef:h,contentRef:p,duration:n,open:s}),Yw("div",{"aria-hidden":!s,className:[o,"rah-static",s&&r==="auto"&&"rah-static--height-auto",f&&`rah-animating--${s?"down":"up"}`,f&&r==="auto"&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:h,style:{overflow:u,transition:`height ${n}ms ease`},children:Yw("div",{ref:p,...a?{style:{display:a}}:{},children:e})})};import{jsx as P9}from"react/jsx-runtime";import A9,{createContext as E9,use as N9}from"react";var Jw=E9({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),qw=({children:t,isCollapsed:e,isWithinCollapsible:o=!0,toggle:n})=>{let{isCollapsed:r,isVisible:s}=Ts(),i=A9.useMemo(()=>({isCollapsed:e,isVisible:s&&!r,isWithinCollapsible:o,toggle:n}),[e,o,n,r,s]);return P9(Jw,{value:i,children:t})},Ts=()=>N9(Jw);var Eo="collapsible";var Ii=t=>{let e=L9(26),{actions:o,children:n,className:r,collapsibleStyle:s,dragHandleProps:i,header:l,initCollapsed:a,isCollapsed:c,onToggle:u}=t,d=s===void 0?"default":s,[f,m]=Qw(!!a),[h,p]=Qw(!1),{isWithinCollapsible:g}=Ts(),{t:b}=L(),x=typeof c=="boolean"?c:f,v;e[0]!==x||e[1]!==u?(v=()=>{typeof u=="function"&&u(!x),m(!x)},e[0]=x,e[1]=u,e[2]=v):v=e[2];let C=v,y=i&&`${Eo}--has-drag-handle`,S=x&&`${Eo}--collapsed`,w=g&&`${Eo}--nested`,_=h&&`${Eo}--hovered`,D=`${Eo}--style-${d}`,R;e[3]!==r||e[4]!==y||e[5]!==S||e[6]!==w||e[7]!==_||e[8]!==D?(R=[Eo,r,y,S,w,_,D].filter(Boolean),e[3]=r,e[4]=y,e[5]=S,e[6]=w,e[7]=_,e[8]=D,e[9]=R):R=e[9];let T=R.join(" "),I,F;e[10]===Symbol.for("react.memo_cache_sentinel")?(I=()=>p(!0),F=()=>p(!1),e[10]=I,e[11]=F):(I=e[10],F=e[11]);let P=`${Eo}__toggle--${x?"collapsed":"open"}`,A;e[12]!==P?(A=[`${Eo}__toggle`,P].filter(Boolean),e[12]=P,e[13]=A):A=e[13];let k=A.join(" "),$;if(e[14]!==o||e[15]!==n||e[16]!==i||e[17]!==l||e[18]!==x||e[19]!==b||e[20]!==k||e[21]!==T||e[22]!==C){let j;e[24]!==i?(j=i&&qr("div",{className:`${Eo}__drag`,...i.attributes,...i.listeners,children:qr(Jr,{})}),e[24]=i,e[25]=j):j=e[25],$=qr("div",{className:T,children:r1(qw,{isCollapsed:x,toggle:C,children:[r1("div",{className:`${Eo}__toggle-wrap`,onMouseEnter:I,onMouseLeave:F,children:[qr("button",{className:k,onClick:C,type:"button",children:qr("span",{children:b("fields:toggleBlock")})}),j,l?qr("div",{className:[`${Eo}__header-wrap`,i&&`${Eo}__header-wrap--has-drag-handle`].filter(Boolean).join(" "),children:l}):null,r1("div",{className:`${Eo}__actions-wrap`,children:[o?qr("div",{className:`${Eo}__actions`,children:o}):null,qr("div",{className:`${Eo}__indicator`,children:qr(Ve,{direction:x?void 0:"up"})})]})]}),qr(Ar,{height:x?0:"auto",children:qr("div",{className:`${Eo}__content`,children:n})})]})}),e[14]=o,e[15]=n,e[16]=i,e[17]=l,e[18]=x,e[19]=b,e[20]=k,e[21]=T,e[22]=C,e[23]=$}else $=e[23];return $};import{c as xG}from"react/compiler-runtime";import{jsx as Rv}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as CG,getFieldPaths as yG,getFieldPermissions as wG}from"payload/shared";import"react";import{c as $9}from"react/compiler-runtime";import{jsx as k9}from"react/jsx-runtime";import Kw from"react";var e2=t=>{let e=$9(9),{children:o,className:n,forceRender:r}=t,[s,i]=Kw.useState(!!r),l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={rootMargin:"1000px"},e[0]=l):l=e[0];let[a,c]=$n(l,!!r),u=!!c?.isIntersecting,d=c?.boundingClientRect?.top<0,f=r||u||d,m,h;e[1]!==s||e[2]!==f?(m=()=>{f&&!s&&i(!0)},h=[f,s],e[1]=s,e[2]=f,e[3]=m,e[4]=h):(m=e[3],h=e[4]),Kw.useEffect(m,h);let p=s?o:null,g;return e[5]!==n||e[6]!==a||e[7]!==p?(g=k9("div",{className:n,ref:a,children:p}),e[5]=n,e[6]=a,e[7]=p,e[8]=g):g=e[8],g};import{c as vG}from"react/compiler-runtime";import{jsx as Bt}from"react/jsx-runtime";import"react";import{c as nL}from"react/compiler-runtime";import{jsx as no,jsxs as As}from"react/jsx-runtime";import{getTranslation as l1}from"@payloadcms/translations";import sL,{Fragment as iL}from"react";import{c as tL}from"react/compiler-runtime";import{jsx as Qr,jsxs as v2,Fragment as oL}from"react/jsx-runtime";import{getTranslation as rL}from"@payloadcms/translations";import"react";import{c as j9}from"react/compiler-runtime";import{jsx as Ic,jsxs as M9}from"react/jsx-runtime";import"react";var Er="pill",B9=t=>{let e=j9(12),{id:o,className:n}=t,r;e[0]!==o?(r={id:o},e[0]=o,e[1]=r):r=e[1];let{attributes:s,isDragging:i,listeners:l,setNodeRef:a,transform:c}=Ca(r),u=i&&`${Er}--is-dragging`,d;e[2]!==n||e[3]!==u?(d=[u,n].filter(Boolean),e[2]=n,e[3]=u,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==s||e[6]!==l||e[7]!==t||e[8]!==a||e[9]!==f||e[10]!==c?(m=Ic(t2,{...t,className:f,elementProps:{...l,...s,ref:a,style:{transform:c}}}),e[5]=s,e[6]=l,e[7]=t,e[8]=a,e[9]=f,e[10]=c,e[11]=m):m=e[11],m},t2=t=>{let{id:e,alignIcon:o="right","aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,children:l,className:a,draggable:c,elementProps:u,icon:d,onClick:f,pillStyle:m="light",rounded:h,size:p="medium",to:g}=t,b=[Er,`${Er}--style-${m}`,`${Er}--size-${p}`,a&&a,g&&`${Er}--has-link`,(g||f)&&`${Er}--has-action`,d&&`${Er}--has-icon`,d&&`${Er}--align-icon-${o}`,c&&`${Er}--draggable`,h&&`${Er}--rounded`].filter(Boolean).join(" "),x="div";return f&&!g&&(x="button"),g&&(x=Vt),M9(x,{...u,"aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,className:b,href:g||null,id:e,onClick:f,type:x==="button"?"button":void 0,children:[Ic("span",{className:`${Er}__label`,children:l}),!!d&&Ic("span",{className:`${Er}__icon`,children:d})]})},mt=t=>{let{draggable:e}=t;return e?Ic(B9,{...t}):Ic(t2,{...t})};import{useEffect as O9,useState as V9}from"react";function $m(t,e){let[o,n]=V9(t);return O9(()=>{let r=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(r)}},[t,e]),o}import{c as Q9}from"react/compiler-runtime";import{jsx as f2,jsxs as K9}from"react/jsx-runtime";import p2 from"react";import{jsx as xn,jsxs as u2}from"react/jsx-runtime";import{getTranslation as Mm}from"@payloadcms/translations";import{useEffect as d2,useMemo as J9,useState as m2}from"react";import{c as G9}from"react/compiler-runtime";import{jsx as o2,jsxs as z9}from"react/jsx-runtime";import"react";var _c="thumbnail-card",r2=t=>{let e=G9(15),{alignLabel:o,className:n,collection:r,doc:s,label:i,onClick:l,thumbnail:a}=t,{config:c}=H(),{i18n:u}=L(),d=typeof l=="function"&&`${_c}--has-on-click`,f=o&&`${_c}--align-label-${o}`,m;e[0]!==n||e[1]!==d||e[2]!==f?(m=[_c,n,d,f].filter(Boolean),e[0]=n,e[1]=d,e[2]=f,e[3]=m):m=e[3];let h=m.join(" "),p=i;if(!p){let b=s?.filename,x;e[4]!==r||e[5]!==c.admin.dateFormat||e[6]!==s||e[7]!==u||e[8]!==b?(x=Mo({collectionConfig:r,data:s,dateFormat:c.admin.dateFormat,fallback:b,i18n:u}),e[4]=r,e[5]=c.admin.dateFormat,e[6]=s,e[7]=u,e[8]=b,e[9]=x):x=e[9],p=x}let g;return e[10]!==h||e[11]!==l||e[12]!==a||e[13]!==p?(g=z9("button",{className:h,onClick:l,title:p,type:"button",children:[o2("div",{className:`${_c}__thumbnail`,children:a}),o2("div",{className:`${_c}__label`,children:p})]}),e[10]=h,e[11]=l,e[12]=a,e[13]=p,e[14]=g):g=e[14],g};import{jsx as Zn,jsxs as s2}from"react/jsx-runtime";import{useState as X9}from"react";var Io=[];for(km=0;km<256;++km)Io.push((km+256).toString(16).slice(1));var km;function n2(t,e=0){return(Io[t[e+0]]+Io[t[e+1]]+Io[t[e+2]]+Io[t[e+3]]+"-"+Io[t[e+4]]+Io[t[e+5]]+"-"+Io[t[e+6]]+Io[t[e+7]]+"-"+Io[t[e+8]]+Io[t[e+9]]+"-"+Io[t[e+10]]+Io[t[e+11]]+Io[t[e+12]]+Io[t[e+13]]+Io[t[e+14]]+Io[t[e+15]]).toLowerCase()}var jm,W9=new Uint8Array(16);function n1(){if(!jm&&(jm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jm(W9)}var H9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s1={randomUUID:H9};function U9(t,e,o){if(s1.randomUUID&&!e&&!t)return s1.randomUUID();t=t||{};var n=t.random||(t.rng||n1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){o=o||0;for(var r=0;r<16;++r)e[o+r]=n[r];return e}return n2(n)}var Xn=U9;var i1=()=>{let[t]=X9(()=>`pattern${Xn()}`);return s2("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[s2("g",{clipPath:`url(#${t})`,children:[Zn("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),Zn("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),Zn("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),Zn("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),Zn("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),Zn("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),Zn("defs",{children:Zn("clipPath",{id:`${t}`,children:Zn("rect",{fill:"white",height:"151",width:"231"})})})]})};import{c as Z9}from"react/compiler-runtime";import{jsx as a2,jsxs as Y9}from"react/jsx-runtime";import"react";import{jsx as i2}from"react/jsx-runtime";import"react";var _i=()=>i2("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:i2("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})});var l2="block-search",c2=t=>{let e=Z9(5),{setSearchTerm:o}=t,{t:n}=L(),r;e[0]!==o?(r=l=>{o(l.target.value)},e[0]=o,e[1]=r):r=e[1];let s=r,i;return e[2]!==s||e[3]!==n?(i=Y9("div",{className:l2,children:[a2("input",{className:`${l2}__input`,onChange:s,placeholder:n("fields:searchForBlock")}),a2(_i,{})]}),e[2]=s,e[3]=n,e[4]=i):i=e[4],i};var Rs="blocks-drawer",q9=(t,e)=>typeof t.labels.singular=="string"?t.labels.singular.toLowerCase():typeof t.labels.singular=="object"?Mm(t.labels.singular,e).toLowerCase():"",Dc=t=>{let{addRow:e,addRowIndex:o,blocks:n,drawerSlug:r,labels:s}=t,[i,l]=m2(""),[a,c]=m2(n),{closeModal:u,isModalOpen:d}=ce(),{i18n:f,t:m}=L(),{config:h}=H(),p=J9(()=>{let g={_none:[]};return a.forEach(b=>{if(typeof b=="object"&&b.admin?.group){let x=b.admin.group,v=typeof x=="string"?x:Mm(x,f);Object.hasOwn(g,v)?g[v].push(b):g[v]=[b]}else g._none.push(b)}),g},[a,f]);return d2(()=>{d(r)||l("")},[d,r]),d2(()=>{let g=i.toLowerCase(),b=n?.reduce((x,v)=>{let C=typeof v=="string"?h.blocksMap[v]:v;return q9(C,f).includes(g)&&x.push(C),x},[]);c(b)},[i,n,f,h.blocksMap]),u2(Nt,{slug:r,title:m("fields:addLabel",{label:Mm(s.singular,f)}),children:[xn(c2,{setSearchTerm:l}),xn("div",{className:`${Rs}__blocks-wrapper`,children:xn("ul",{className:`${Rs}__block-groups`,children:Object.entries(p).map(([g,b])=>b.length?u2("li",{className:[`${Rs}__block-group`,g==="_none"&&`${Rs}__block-group-none`].filter(Boolean).join(" "),children:[g!=="_none"&&xn("h3",{className:`${Rs}__block-group-label`,children:g}),xn("ul",{className:`${Rs}__blocks`,children:b.map((x,v)=>{let C=typeof x=="string"?h.blocksMap[x]:x,{slug:y,imageAltText:S,imageURL:w,labels:_}=C;return xn("li",{className:`${Rs}__block`,children:xn(r2,{alignLabel:"center",label:Mm(_?.singular,f),onClick:()=>{e(o,y),u(r)},thumbnail:xn("div",{className:`${Rs}__default-image`,children:w?xn("img",{alt:S,src:w}):xn(i1,{})})})},v)})})]},g):null)})})]})};var h2=t=>{let e=Q9(26),{addRow:o,blocks:n,blockType:r,duplicateRow:s,hasMaxRows:i,isSortable:l,labels:a,moveRow:c,removeRow:u,rowCount:d,rowIndex:f}=t,{closeModal:m,openModal:h}=ce(),p=lc("blocks-drawer"),[g,b]=p2.useState(null),x;e[0]!==o||e[1]!==m||e[2]!==p||e[3]!==g?(x=(C,y)=>{typeof o=="function"&&o(g,y),m(p)},e[0]=o,e[1]=m,e[2]=p,e[3]=g,e[4]=x):x=e[4];let v;if(e[5]!==r||e[6]!==n||e[7]!==p||e[8]!==s||e[9]!==i||e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==h||e[14]!==u||e[15]!==d||e[16]!==f||e[17]!==x){let C;e[19]!==p||e[20]!==h?(C=S=>{b(S),h(p)},e[19]=p,e[20]=h,e[21]=C):C=e[21];let y;e[22]!==r||e[23]!==s||e[24]!==f?(y=()=>s(f,r),e[22]=r,e[23]=s,e[24]=f,e[25]=y):y=e[25],v=K9(p2.Fragment,{children:[f2(Dc,{addRow:x,addRowIndex:f,blocks:n,drawerSlug:p,labels:a}),f2(Nm,{addRow:C,duplicateRow:y,hasMaxRows:i,index:f,isSortable:l,moveRow:c,removeRow:u,rowCount:d})]}),e[5]=r,e[6]=n,e[7]=p,e[8]=s,e[9]=i,e[10]=l,e[11]=a,e[12]=c,e[13]=h,e[14]=u,e[15]=d,e[16]=f,e[17]=x,e[18]=v}else v=e[18];return v};import{c as eL}from"react/compiler-runtime";import{jsx as g2}from"react/jsx-runtime";import"react";var b2="section-title",a1=t=>{let e=eL(14),{customOnChange:o,customValue:n,path:r,readOnly:s}=t,i;e[0]!==r?(i={path:r},e[0]=r,e[1]=i):i=e[1];let{setValue:l,value:a}=Ne(i),{t:c}=L(),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[b2].filter(Boolean),e[2]=u):u=e[2];let d=u.join(" "),f;e[3]!==o||e[4]!==l?(f=o||(g=>{g.stopPropagation(),g.preventDefault(),l(g.target.value)}),e[3]=o,e[4]=l,e[5]=f):f=e[5];let m=f,h=n||a,p;return e[6]!==n||e[7]!==m||e[8]!==r||e[9]!==s||e[10]!==c||e[11]!==h||e[12]!==a?(p=g2("div",{className:d,"data-value":h,children:g2("input",{className:`${b2}__input`,id:r,name:r,onChange:m,placeholder:c("general:untitled"),readOnly:s,type:"text",value:n||a||""})}),e[6]=n,e[7]=m,e[8]=r,e[9]=s,e[10]=c,e[11]=h,e[12]=a,e[13]=p):p=e[13],p};var Ps="blocks-field",x2=t=>{let e=tL(40),{addRow:o,attributes:n,block:r,blocks:s,duplicateRow:i,errorCount:l,fields:a,hasMaxRows:c,isLoading:u,isSortable:d,Label:f,labels:m,listeners:h,moveRow:p,parentPath:g,path:b,permissions:x,readOnly:v,removeRow:C,row:y,rowCount:S,rowIndex:w,schemaPath:_,setCollapse:D,setNodeRef:R,transform:T}=t,I=$m(u,500),{i18n:F}=L(),A=oo()&&l>0,k=!r.admin?.disableBlockName,$=A?`${Ps}__row--has-errors`:`${Ps}__row--no-errors`,j;e[0]!==$?(j=[`${Ps}__row`,$].filter(Boolean),e[0]=$,e[1]=j):j=e[1];let N=j.join(" "),E;if(x===!0)E=!0;else{let B=x?.blocks?.[r.slug];B===!0?E=!0:E=B?.fields}let O=`${g?.split(".").join("-")}-row-${w}`,M;if(e[2]!==f||e[3]!==o||e[4]!==n||e[5]!==r.fields||e[6]!==r.labels||e[7]!==E||e[8]!==s||e[9]!==N||e[10]!==i||e[11]!==l||e[12]!==A||e[13]!==a||e[14]!==c||e[15]!==F||e[16]!==I||e[17]!==d||e[18]!==m||e[19]!==h||e[20]!==p||e[21]!==g||e[22]!==b||e[23]!==v||e[24]!==C||e[25]!==y.blockType||e[26]!==y.collapsed||e[27]!==y.id||e[28]!==S||e[29]!==w||e[30]!==_||e[31]!==D||e[32]!==R||e[33]!==k||e[34]!==O||e[35]!==T){let B;e[37]!==y.id||e[38]!==D?(B=V=>D(y.id,V),e[37]=y.id,e[38]=D,e[39]=B):B=e[39],M=Qr("div",{id:O,ref:R,style:{transform:T},children:Qr(Ii,{actions:v?void 0:Qr(h2,{addRow:o,blocks:s,blockType:y.blockType,duplicateRow:i,fields:r.fields,hasMaxRows:c,isSortable:d,labels:m,moveRow:p,removeRow:C,rowCount:S,rowIndex:w}),className:N,collapsibleStyle:A?"error":"default",dragHandleProps:d?{id:y.id,attributes:n,listeners:h}:void 0,header:I?Qr(yt,{height:"1rem",width:"8rem"}):v2("div",{className:`${Ps}__block-header`,children:[Qr(Ln,{CustomComponent:f,label:v2(oL,{children:[Qr("span",{className:`${Ps}__block-number`,children:String(w+1).padStart(2,"0")}),Qr(mt,{className:`${Ps}__block-pill ${Ps}__block-pill-${y.blockType}`,pillStyle:"white",size:"small",children:rL(r.labels.singular,F)}),k&&Qr(a1,{path:`${b}.blockName`,readOnly:v})]}),path:b,rowNumber:w}),A&&Qr(ho,{count:l,i18n:F,withMessage:!0})]}),isCollapsed:y.collapsed,onToggle:B,children:I?Qr(yt,{}):Qr(_o,{className:`${Ps}__fields`,fields:a,margins:"small",parentIndexPath:"",parentPath:b,parentSchemaPath:_,permissions:E,readOnly:v})},y.id)},`${g}-row-${w}`),e[2]=f,e[3]=o,e[4]=n,e[5]=r.fields,e[6]=r.labels,e[7]=E,e[8]=s,e[9]=N,e[10]=i,e[11]=l,e[12]=A,e[13]=a,e[14]=c,e[15]=F,e[16]=I,e[17]=d,e[18]=m,e[19]=h,e[20]=p,e[21]=g,e[22]=b,e[23]=v,e[24]=C,e[25]=y.blockType,e[26]=y.collapsed,e[27]=y.id,e[28]=S,e[29]=w,e[30]=_,e[31]=D,e[32]=R,e[33]=k,e[34]=O,e[35]=T,e[36]=M}else M=e[36];return M};var Kr="blocks-field",aL=t=>{let e=nL(50),{i18n:o,t:n}=L(),{field:r,path:s,permissions:i,readOnly:l,schemaPath:a,validate:c}=t,{name:u,admin:d,blockReferences:f,blocks:m,label:h,labels:p,localized:g,maxRows:b,minRows:x,required:v}=r,C;e[0]!==d?(C=d===void 0?{}:d,e[0]=d,e[1]=C):C=e[1];let{className:y,description:S,isSortable:w}=C,_=w===void 0?!0:w,D=a??u,R=x??v?1:0,{setDocFieldPreferences:T}=Re(),{addFieldRow:I,dispatchFields:F,moveFieldRow:P,removeFieldRow:A,setModified:k}=ke(),{code:$}=we(),{config:j,config:N}=H(),{localization:E}=j,O=lc("blocks-drawer"),M=oo(),B={plural:n("fields:blocks"),singular:n("fields:block"),...p},V;e:{if(E&&E.fallback){let q=E.defaultLocale;V=$===q;break e}V=!0}let G=V,z;e[2]!==G||e[3]!==b||e[4]!==R||e[5]!==v||e[6]!==c?(z=(q,ne)=>{if(!G&&q===null)return!0;if(typeof c=="function")return c(q,{...ne,maxRows:b,minRows:R,required:v})},e[2]=G,e[3]=b,e[4]=R,e[5]=v,e[6]=c,e[7]=z):z=e[7];let U=z,oe;e[8]!==U||e[9]!==s?(oe={hasRows:!0,potentiallyStalePath:s,validate:U},e[8]=U,e[9]=s,e[10]=oe):oe=e[10];let{customComponents:X,disabled:Y,errorPaths:re,path:W,rows:ee,showError:ie,valid:de,value:xe}=Ne(oe),Q;e[11]!==X?(Q=X===void 0?{}:X,e[11]=X,e[12]=Q):Q=e[12];let{AfterInput:ae,BeforeInput:be,Description:ye,Error:J,Label:pe}=Q,te;e[13]!==ee?(te=ee===void 0?[]:ee,e[13]=ee,e[14]=te):te=e[14];let Z=te,le;e[15]!==I||e[16]!==W||e[17]!==D?(le=(q,ne)=>{I({blockType:ne,path:W,rowIndex:q,schemaPath:D}),setTimeout(()=>{Aa(`${W}-row-${q+1}`)},0)},e[15]=I,e[16]=W,e[17]=D,e[18]=le):le=e[18];let K=le,he;e[19]!==F||e[20]!==W||e[21]!==k?(he=q=>{F({type:"DUPLICATE_ROW",path:W,rowIndex:q}),k(!0),setTimeout(()=>{Aa(`${W}-row-${q+1}`)},0)},e[19]=F,e[20]=W,e[21]=k,e[22]=he):he=e[22];let Le=he,He;e[23]!==W||e[24]!==A?(He=q=>{A({path:W,rowIndex:q})},e[23]=W,e[24]=A,e[25]=He):He=e[25];let Ze=He,Ye;e[26]!==P||e[27]!==W?(Ye=(q,ne)=>{P({moveFromIndex:q,moveToIndex:ne,path:W})},e[26]=P,e[27]=W,e[28]=Ye):Ye=e[28];let At=Ye,lt;e[29]!==F||e[30]!==W||e[31]!==Z||e[32]!==T?(lt=q=>{let{collapsedIDs:ne,updatedRows:ge}=Dm({collapsed:q,rows:Z});F({type:"SET_ALL_ROWS_COLLAPSED",path:W,updatedRows:ge}),T(W,{collapsed:ne})},e[29]=F,e[30]=W,e[31]=Z,e[32]=T,e[33]=lt):lt=e[33];let it=lt,Et;e[34]!==F||e[35]!==W||e[36]!==Z||e[37]!==T?(Et=(q,ne)=>{let{collapsedIDs:ge,updatedRows:Fe}=_m({collapsed:ne,rowID:q,rows:Z});F({type:"SET_ROW_COLLAPSED",path:W,updatedRows:Fe}),T(W,{collapsed:ge})},e[34]=F,e[35]=W,e[36]=Z,e[37]=T,e[38]=Et):Et=e[38];let Ut=Et,We=b&&Z.length>=b,Be=re.length,Ke=M&&Be+(de?0:1)>0,Ct=Z.length<R||v&&Z.length===0,po=l&&Z.length===0,Ft=Ke?`${Kr}--has-error`:`${Kr}--has-no-error`,et;e[39]!==y||e[40]!==Ft?(et=[De,Kr,y,Ft].filter(Boolean),e[39]=y,e[40]=Ft,e[41]=et):et=e[41];let ve;e[42]!==J||e[43]!==W||e[44]!==ie?(ve=ie&&no(me,{CustomComponent:J,Fallback:no(ze,{path:W,showError:ie})}),e[42]=J,e[43]=W,e[44]=ie,e[45]=ve):ve=e[45];let fe;return e[46]!==Be||e[47]!==Ke||e[48]!==o?(fe=Ke&&Be>0&&no(ho,{count:Be,i18n:o,withMessage:!0}),e[46]=Be,e[47]=Ke,e[48]=o,e[49]=fe):fe=e[49],As("div",{className:et.join(" "),id:`field-${W?.replace(/\./g,"__")}`,children:[ve,As("header",{className:`${Kr}__header`,children:[As("div",{className:`${Kr}__header-wrap`,children:[As("div",{className:`${Kr}__heading-with-error`,children:[no("h3",{children:no(me,{CustomComponent:pe,Fallback:no(Se,{label:h,localized:g,path:W,required:v})})}),fe]}),Z.length>0&&As("ul",{className:`${Kr}__header-actions`,children:[no("li",{children:no("button",{className:`${Kr}__header-action`,onClick:()=>it(!0),type:"button",children:n("fields:collapseAll")})}),no("li",{children:no("button",{className:`${Kr}__header-action`,onClick:()=>it(!1),type:"button",children:n("fields:showAll")})})]})]}),no(me,{CustomComponent:ye,Fallback:no(Ge,{description:S,path:W})})]}),be,no(wc,{fieldValue:xe,localized:g,path:W}),(Z.length>0||!de&&(po||Ct))&&As(Fr,{className:`${Kr}__rows`,ids:Z.map(lL),onDragEnd:q=>{let{moveFromIndex:ne,moveToIndex:ge}=q;return At(ne,ge)},children:[Z.map((q,ne)=>{let{blockType:ge,isLoading:Fe}=q,je=N.blocksMap[ge]??(f??m).find(Oe=>typeof Oe!="string"&&Oe.slug===ge);if(je){let Oe=`${W}.${ne}`,Ee=re.filter($e=>$e.startsWith(Oe+".")).length;return no(bn,{disabled:l||Y||!_,id:q.id,children:$e=>no(x2,{...$e,addRow:K,block:je,blocks:f??m,duplicateRow:Le,errorCount:Ee,fields:je.fields,hasMaxRows:We,isLoading:Fe,isSortable:_,Label:Z?.[ne]?.customComponents?.RowLabel,labels:B,moveRow:At,parentPath:W,path:Oe,permissions:i,readOnly:l||Y,removeRow:Ze,row:q,rowCount:Z.length,rowIndex:ne,schemaPath:D+je.slug,setCollapse:Ut})},q.id)}return null}),!G&&As(sL.Fragment,{children:[Ct&&no(Hr,{type:"error",children:n("validation:requiresAtLeast",{count:R,label:l1(R>1?B.plural:B.singular,o)||n(R>1?"general:row":"general:rows")})}),po&&no(Hr,{children:n("validation:fieldHasNo",{label:l1(B.plural,o)})})]})]}),!We&&As(iL,{children:[no(Vn,{className:`${Kr}__drawer-toggler`,disabled:l||Y,slug:O,children:no(se,{buttonStyle:"icon-label",disabled:l||Y,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:n("fields:addLabel",{label:l1(B.singular,o)})})}),no(Dc,{addRow:K,addRowIndex:Z?.length||0,blocks:f??m,drawerSlug:O,labels:B})]}),ae]})},Fc=Me(aL);function lL(t){return t.id}import{jsx as Di,jsxs as C2}from"react/jsx-runtime";import{useCallback as mL,useMemo as fL}from"react";import{jsx as c1}from"react/jsx-runtime";import{lazy as cL,Suspense as uL}from"react";var dL=cL(()=>import("./CodeEditor-YP63NRLU.js")),Tc=t=>c1(uL,{fallback:c1(yt,{}),children:c1(dL,{...t})});var pL={js:"javascript",ts:"typescript"},hL="code-field",gL=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r={},language:s="javascript"}={},label:i,localized:l,required:a},onMount:c,path:u,readOnly:d,validate:f}=t,m=mL((D,R)=>{if(typeof f=="function")return f(D,{...R,required:a})},[f,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:x}={},disabled:v,path:C,setValue:y,showError:S,value:w}=Ne({potentiallyStalePath:u,validate:m}),_=fL(()=>rt(e),[e]);return C2("div",{className:[De,hL,o,S&&"error",(d||v)&&"read-only"].filter(Boolean).join(" "),style:_,children:[Di(me,{CustomComponent:x,Fallback:Di(Se,{label:i,localized:l,path:C,required:a})}),C2("div",{className:`${De}__wrap`,children:[Di(me,{CustomComponent:b,Fallback:Di(ze,{path:C,showError:S})}),p,Di(Tc,{defaultLanguage:pL[s]||s,onChange:d||v?()=>null:D=>y(D),onMount:c,options:r,readOnly:d||v,value:w||""}),h]}),Di(me,{CustomComponent:g,Fallback:Di(Ge,{description:n,path:C})})]})},Rc=Me(gL);import{jsx as Ti,jsxs as u1}from"react/jsx-runtime";import{getTranslation as vL}from"@payloadcms/translations";import{Fragment as xL,useCallback as CL,useEffect as yL,useMemo as wL,useState as w2}from"react";import{c as bL}from"react/compiler-runtime";import{fieldAffectsData as y2}from"payload/shared";var Bm=t=>t.reduce((e,o)=>{let n="fields"in o?o.fields:void 0;return n?y2(o)?e.push(`${o.name}.`):e.push(...Bm(n)):o.type==="tabs"?"tabs"in o&&o.tabs?.forEach(r=>{"name"in r?e.push(`${r.name}.`):e.push(...Bm(r.fields))}):y2(o)&&e.push(o.name),e},[]);var Fi=t=>{let e=bL(12),{fields:o,path:n,setErrorCount:r}=t,[s]=ws(),i=oo(),l;e[0]!==o?(l=Bm(o),e[0]=o,e[1]=l):l=e[1];let a=l,c;e[2]!==s||e[3]!==i||e[4]!==n||e[5]!==a||e[6]!==r?(c=()=>{if(i){let d=0;Object.entries(s).forEach(f=>{let[m]=f;if(a?.some(p=>{let g=[...n,p].join(".");return g.endsWith(".")?m.startsWith(g):m===g})){let p=s[m];"valid"in p&&!p.valid&&(d=d+1)}}),r(d)}},e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=r,e[7]=c):c=e[7];let u;return e[8]!==o||e[9]!==s||e[10]!==i?(u=[s,i,o],e[8]=o,e[9]=s,e[10]=i,e[11]=u):u=e[11],xi(c,250,u),null};var Pc="collapsible-field",SL=t=>{let{field:e,field:{admin:{className:o,description:n,initCollapsed:r=!1}={},fields:s,label:i}={},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:f}=t,{i18n:m}=L(),{getPreference:h,setPreference:p}=Zt(),{preferencesKey:g}=Re(),[b,x]=w2(),v=`collapsible-${u?.replace(/\./g,"__")}`,[C,y]=w2(0),S=C>0,{customComponents:{AfterInput:w,BeforeInput:_,Description:D,Label:R}={},disabled:T}=Ne({path:u}),I=CL(async P=>{let A=await h(g);g&&p(g,{...A,...u?{fields:{...A?.fields||{},[u]:{...A?.fields?.[u],collapsed:P}}}:{fields:{...A?.fields||{},[v]:{...A?.fields?.[v],collapsed:P}}}})},[g,v,h,p,u]);yL(()=>{(async()=>{if(g){let A=await h(g),k=u?A?.fields?.[u]?.collapsed:A?.fields?.[v]?.collapsed;x(k!==void 0?!!k:typeof r=="boolean"?r:!1)}else x(typeof r=="boolean"?r:!1)})()},[h,g,v,r,u]);let F=wL(()=>rt(e),[e]);return typeof b!="boolean"?null:u1(xL,{children:[Ti(Fi,{fields:s,path:u.split(".").slice(0,-1),setErrorCount:y}),u1("div",{className:[De,Pc,o,S?`${Pc}--has-error`:`${Pc}--has-no-error`].filter(Boolean).join(" "),id:`field-${v}`,style:F,children:[_,Ti(Ii,{className:`${Pc}__collapsible`,collapsibleStyle:S?"error":"default",header:u1("div",{className:`${Pc}__row-label-wrap`,children:[Ti(Ln,{CustomComponent:R,label:vL(i,m),path:u}),S&&Ti(ho,{count:C,i18n:m,withMessage:!0})]}),initCollapsed:b,onToggle:I,children:Ti(_o,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:f||T})}),w,Ti(me,{CustomComponent:D,Fallback:Ti(Ge,{description:n,path:u})})]})]})},Ac=Me(SL);import{jsx as $s,jsxs as fI}from"react/jsx-runtime";import{getTranslation as yj}from"@payloadcms/translations";import{useCallback as K1,useMemo as pI}from"react";import{jsx as d1}from"react/jsx-runtime";import{lazy as IL,Suspense as _L}from"react";var DL=IL(()=>import("./DatePicker-QBWPYX2E.js")),Na=t=>d1(_L,{fallback:d1(yt,{height:50}),children:d1(DL,{...t})});import{jsx as mI,jsxs as xj}from"react/jsx-runtime";import{useMemo as Cj}from"react";import{jsx as Ni}from"react/jsx-runtime";import{getTranslation as cI}from"@payloadcms/translations";import uI,{useEffect as hj,useId as gj}from"react";function en(t){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(t)}function S2(t,e){if(en(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(en(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Om(t){var e=S2(t,"string");return en(e)=="symbol"?e:e+""}function Ri(t,e,o){return(e=Om(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function I2(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Pe(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(o),!0).forEach(function(n){Ri(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):I2(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function _2(t){if(Array.isArray(t))return t}function D2(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var n,r,s,i,l=[],a=!0,c=!1;try{if(s=(o=o.call(t)).next,e===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(n=s.call(o)).done)&&(l.push(n.value),l.length!==e);a=!0);}catch(u){c=!0,r=u}finally{try{if(!a&&o.return!=null&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}function Ec(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function Vm(t,e){if(t){if(typeof t=="string")return Ec(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ec(t,e):void 0}}function F2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(t,e){return _2(t)||D2(t,e)||Vm(t,e)||F2()}function Jo(t,e){if(t==null)return{};var o,n,r=ya(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)o=s[n],e.includes(o)||{}.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}import{useState as m1,useCallback as Gm}from"react";var FL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function zm(t){var e=t.defaultInputValue,o=e===void 0?"":e,n=t.defaultMenuIsOpen,r=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,a=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,m=t.value,h=Jo(t,FL),p=m1(l!==void 0?l:o),g=tn(p,2),b=g[0],x=g[1],v=m1(a!==void 0?a:r),C=tn(v,2),y=C[0],S=C[1],w=m1(m!==void 0?m:i),_=tn(w,2),D=_[0],R=_[1],T=Gm(function(j,N){typeof c=="function"&&c(j,N),R(j)},[c]),I=Gm(function(j,N){var E;typeof u=="function"&&(E=u(j,N)),x(E!==void 0?E:j)},[u]),F=Gm(function(){typeof f=="function"&&f(),S(!0)},[f]),P=Gm(function(){typeof d=="function"&&d(),S(!1)},[d]),A=l!==void 0?l:b,k=a!==void 0?a:y,$=m!==void 0?m:D;return Pe(Pe({},h),{},{inputValue:A,menuIsOpen:k,onChange:T,onInputChange:I,onMenuClose:P,onMenuOpen:F,value:$})}import*as GS from"react";import{forwardRef as qk,useMemo as Jpe}from"react";function T2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Om(n.key),n)}}function P2(t,e,o){return e&&R2(t.prototype,e),o&&R2(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function A2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wa(t,e)}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nc(t)}function f1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f1=function(){return!!t})()}function E2(t,e){if(e&&(en(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ly(t)}function N2(t){var e=f1();return function(){var o,n=Nc(t);if(e){var r=Nc(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return E2(this,o)}}function L2(t){if(Array.isArray(t))return Ec(t)}function $2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Es(t){return L2(t)||$2(t)||Vm(t)||k2()}import*as dt from"react";import{useMemo as Gc,Fragment as k1,useRef as Xa,useCallback as Ls,useEffect as AS,Component as fk}from"react";import*as Lr from"react";import{useContext as s$,forwardRef as i$}from"react";var TL=!1;function RL(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function PL(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var j2=function(){function t(o){var n=this;this._insertTag=function(r){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,s),n.tags.push(r)},this.isSpeedy=o.speedy===void 0?!TL:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(PL(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=RL(r);try{s.insertRule(n,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t}();var Do="-ms-",Lc="-moz-",nt="-webkit-",Wm="comm",La="rule",$a="decl";var M2="@import";var Hm="@keyframes";var B2="@layer";var O2=Math.abs,Pi=String.fromCharCode,V2=Object.assign;function G2(t,e){return Jt(t,0)^45?(((e<<2^Jt(t,0))<<2^Jt(t,1))<<2^Jt(t,2))<<2^Jt(t,3):0}function Um(t){return t.trim()}function p1(t,e){return(t=e.exec(t))?t[0]:t}function Qe(t,e,o){return t.replace(e,o)}function $c(t,e){return t.indexOf(e)}function Jt(t,e){return t.charCodeAt(e)|0}function Ns(t,e,o){return t.slice(e,o)}function Bo(t){return t.length}function ka(t){return t.length}function ja(t,e){return e.push(t),t}function h1(t,e){return t.map(e).join("")}var Xm=1,Ma=1,z2=0,Oo=0,so=0,Oa="";function kc(t,e,o,n,r,s,i){return{value:t,root:e,parent:o,type:n,props:r,children:s,line:Xm,column:Ma,length:i,return:""}}function Va(t,e){return V2(kc("",null,null,"",null,null,0),t,{length:-t.length},e)}function W2(){return so}function H2(){return so=Oo>0?Jt(Oa,--Oo):0,Ma--,so===10&&(Ma=1,Xm--),so}function Vo(){return so=Oo<z2?Jt(Oa,Oo++):0,Ma++,so===10&&(Ma=1,Xm++),so}function Nr(){return Jt(Oa,Oo)}function jc(){return Oo}function Ga(t,e){return Ns(Oa,t,e)}function Ba(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zm(t){return Xm=Ma=1,z2=Bo(Oa=t),Oo=0,[]}function Ym(t){return Oa="",t}function za(t){return Um(Ga(Oo-1,g1(t===91?t+2:t===40?t+1:t)))}function U2(t){for(;(so=Nr())&&so<33;)Vo();return Ba(t)>2||Ba(so)>3?"":" "}function X2(t,e){for(;--e&&Vo()&&!(so<48||so>102||so>57&&so<65||so>70&&so<97););return Ga(t,jc()+(e<6&&Nr()==32&&Vo()==32))}function g1(t){for(;Vo();)switch(so){case t:return Oo;case 34:case 39:t!==34&&t!==39&&g1(so);break;case 40:t===41&&g1(t);break;case 92:Vo();break}return Oo}function Z2(t,e){for(;Vo()&&t+so!==57;)if(t+so===84&&Nr()===47)break;return"/*"+Ga(e,Oo-1)+"*"+Pi(t===47?t:Vo())}function Y2(t){for(;!Ba(Nr());)Vo();return Ga(t,Oo)}function Q2(t){return Ym(Jm("",null,null,null,[""],t=Zm(t),0,[0],t))}function Jm(t,e,o,n,r,s,i,l,a){for(var c=0,u=0,d=i,f=0,m=0,h=0,p=1,g=1,b=1,x=0,v="",C=r,y=s,S=n,w=v;g;)switch(h=x,x=Vo()){case 40:if(h!=108&&Jt(w,d-1)==58){$c(w+=Qe(za(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:w+=za(x);break;case 9:case 10:case 13:case 32:w+=U2(h);break;case 92:w+=X2(jc()-1,7);continue;case 47:switch(Nr()){case 42:case 47:ja(AL(Z2(Vo(),jc()),e,o),a);break;default:w+="/"}break;case 123*p:l[c++]=Bo(w)*b;case 125*p:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+u:b==-1&&(w=Qe(w,/\f/g,"")),m>0&&Bo(w)-d&&ja(m>32?q2(w+";",n,o,d-1):q2(Qe(w," ","")+";",n,o,d-2),a);break;case 59:w+=";";default:if(ja(S=J2(w,e,o,c,u,r,l,v,C=[],y=[],d),s),x===123)if(u===0)Jm(w,e,S,S,C,s,d,l,y);else switch(f===99&&Jt(w,3)===110?100:f){case 100:case 108:case 109:case 115:Jm(t,S,S,n&&ja(J2(t,S,S,0,0,r,l,v,r,C=[],d),y),r,y,d,l,n?C:y);break;default:Jm(w,S,S,S,[""],y,0,l,y)}}c=u=m=0,p=b=1,v=w="",d=i;break;case 58:d=1+Bo(w),m=h;default:if(p<1){if(x==123)--p;else if(x==125&&p++==0&&H2()==125)continue}switch(w+=Pi(x),x*p){case 38:b=u>0?1:(w+="\f",-1);break;case 44:l[c++]=(Bo(w)-1)*b,b=1;break;case 64:Nr()===45&&(w+=za(Vo())),f=Nr(),u=d=Bo(v=w+=Y2(jc())),x++;break;case 45:h===45&&Bo(w)==2&&(p=0)}}return s}function J2(t,e,o,n,r,s,i,l,a,c,u){for(var d=r-1,f=r===0?s:[""],m=ka(f),h=0,p=0,g=0;h<n;++h)for(var b=0,x=Ns(t,d+1,d=O2(p=i[h])),v=t;b<m;++b)(v=Um(p>0?f[b]+" "+x:Qe(x,/&\f/g,f[b])))&&(a[g++]=v);return kc(t,e,o,r===0?La:l,a,c,u)}function AL(t,e,o){return kc(t,e,o,Wm,Pi(W2()),Ns(t,2,-2),0)}function q2(t,e,o,n){return kc(t,e,o,$a,Ns(t,0,n),Ns(t,n+1,-1),n)}function Ai(t,e){for(var o="",n=ka(t),r=0;r<n;r++)o+=e(t[r],r,t,e)||"";return o}function K2(t,e,o,n){switch(t.type){case B2:if(t.children.length)break;case M2:case $a:return t.return=t.return||t.value;case Wm:return"";case Hm:return t.return=t.value+"{"+Ai(t.children,n)+"}";case La:t.value=t.props.join(",")}return Bo(o=Ai(t.children,n))?t.return=t.value+"{"+o+"}":""}function e3(t){var e=ka(t);return function(o,n,r,s){for(var i="",l=0;l<e;l++)i+=t[l](o,n,r,s)||"";return i}}function t3(t){return function(e){e.root||(e=e.return)&&t(e)}}function o3(t){var e=Object.create(null);return function(o){return e[o]===void 0&&(e[o]=t(o)),e[o]}}var EL=function(e,o,n){for(var r=0,s=0;r=s,s=Nr(),r===38&&s===12&&(o[n]=1),!Ba(s);)Vo();return Ga(e,Oo)},NL=function(e,o){var n=-1,r=44;do switch(Ba(r)){case 0:r===38&&Nr()===12&&(o[n]=1),e[n]+=EL(Oo-1,o,n);break;case 2:e[n]+=za(r);break;case 4:if(r===44){e[++n]=Nr()===58?"&\f":"",o[n]=e[n].length;break}default:e[n]+=Pi(r)}while(r=Vo());return e},LL=function(e,o){return Ym(NL(Zm(e),o))},r3=new WeakMap,$L=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var o=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&o.charCodeAt(0)!==58&&!r3.get(n))&&!r){r3.set(e,!0);for(var s=[],i=LL(o,s),l=n.props,a=0,c=0;a<i.length;a++)for(var u=0;u<l.length;u++,c++)e.props[c]=s[a]?i[a].replace(/&\f/g,l[u]):l[u]+" "+i[a]}}},kL=function(e){if(e.type==="decl"){var o=e.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(e.return="",e.value="")}};function n3(t,e){switch(G2(t,e)){case 5103:return nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+t+Lc+t+Do+t+t;case 6828:case 4268:return nt+t+Do+t+t;case 6165:return nt+t+Do+"flex-"+t+t;case 5187:return nt+t+Qe(t,/(\w+).+(:[^]+)/,nt+"box-$1$2"+Do+"flex-$1$2")+t;case 5443:return nt+t+Do+"flex-item-"+Qe(t,/flex-|-self/,"")+t;case 4675:return nt+t+Do+"flex-line-pack"+Qe(t,/align-content|flex-|-self/,"")+t;case 5548:return nt+t+Do+Qe(t,"shrink","negative")+t;case 5292:return nt+t+Do+Qe(t,"basis","preferred-size")+t;case 6060:return nt+"box-"+Qe(t,"-grow","")+nt+t+Do+Qe(t,"grow","positive")+t;case 4554:return nt+Qe(t,/([^-])(transform)/g,"$1"+nt+"$2")+t;case 6187:return Qe(Qe(Qe(t,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),t,"")+t;case 5495:case 3959:return Qe(t,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return Qe(Qe(t,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+Do+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+t+t;case 4095:case 3583:case 4068:case 2532:return Qe(t,/(.+)-inline(.+)/,nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bo(t)-1-e>6)switch(Jt(t,e+1)){case 109:if(Jt(t,e+4)!==45)break;case 102:return Qe(t,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+Lc+(Jt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$c(t,"stretch")?n3(Qe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Jt(t,e+1)!==115)break;case 6444:switch(Jt(t,Bo(t)-3-(~$c(t,"!important")&&10))){case 107:return Qe(t,":",":"+nt)+t;case 101:return Qe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(Jt(t,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+Do+"$2box$3")+t}break;case 5936:switch(Jt(t,e+11)){case 114:return nt+t+Do+Qe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return nt+t+Do+Qe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return nt+t+Do+Qe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return nt+t+Do+t+t}return t}var jL=function(e,o,n,r){if(e.length>-1&&!e.return)switch(e.type){case $a:e.return=n3(e.value,e.length);break;case Hm:return Ai([Va(e,{value:Qe(e.value,"@","@"+nt)})],r);case La:if(e.length)return h1(e.props,function(s){switch(p1(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ai([Va(e,{props:[Qe(s,/:(read-\w+)/,":"+Lc+"$1")]})],r);case"::placeholder":return Ai([Va(e,{props:[Qe(s,/:(plac\w+)/,":"+nt+"input-$1")]}),Va(e,{props:[Qe(s,/:(plac\w+)/,":"+Lc+"$1")]}),Va(e,{props:[Qe(s,/:(plac\w+)/,Do+"input-$1")]})],r)}return""})}},ML=[jL],b1=function(e){var o=e.key;if(o==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||ML,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)s[g[b]]=!0;l.push(p)});var a,c=[$L,kL];{var u,d=[K2,t3(function(p){u.insert(p)})],f=e3(c.concat(r,d)),m=function(g){return Ai(Q2(g),f)};a=function(g,b,x,v){u=x,m(g?g+"{"+b.styles+"}":b.styles),v&&(h.inserted[b.name]=!0)}}var h={key:o,sheet:new j2({key:o,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return h.sheet.hydrate(l),h};var qL=!0;function S1(t,e,o){var n="";return o.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(n+=r+" ")}),n}var lf=function(e,o,n){var r=e.key+"-"+o.name;(n===!1||qL===!1)&&e.registered[r]===void 0&&(e.registered[r]=o.styles)},I1=function(e,o,n){lf(e,o,n);var r=e.key+"-"+o.name;if(e.inserted[o.name]===void 0){var s=o;do e.insert(o===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function g3(t){for(var e=0,o,n=0,r=t.length;r>=4;++n,r-=4)o=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,e=(o&65535)*1540483477+((o>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var b3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var QL=!1,KL=/[A-Z]|^ms/g,e$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y3=function(e){return e.charCodeAt(1)===45},v3=function(e){return e!=null&&typeof e!="boolean"},_1=o3(function(t){return y3(t)?t:t.replace(KL,"-$&").toLowerCase()}),x3=function(e,o){switch(e){case"animation":case"animationName":if(typeof o=="string")return o.replace(e$,function(n,r,s){return Cn={name:r,styles:s,next:Cn},r})}return b3[e]!==1&&!y3(e)&&typeof o=="number"&&o!==0?o+"px":o},t$="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Mc(t,e,o){if(o==null)return"";var n=o;if(n.__emotion_styles!==void 0)return n;switch(typeof o){case"boolean":return"";case"object":{var r=o;if(r.anim===1)return Cn={name:r.name,styles:r.styles,next:Cn},r.name;var s=o;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Cn={name:i.name,styles:i.styles,next:Cn},i=i.next;var l=s.styles+";";return l}return o$(t,e,o)}case"function":{if(t!==void 0){var a=Cn,c=o(t);return Cn=a,Mc(t,e,c)}break}}var u=o;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function o$(t,e,o){var n="";if(Array.isArray(o))for(var r=0;r<o.length;r++)n+=Mc(t,e,o[r])+";";else for(var s in o){var i=o[s];if(typeof i!="object"){var l=i;e!=null&&e[l]!==void 0?n+=s+"{"+e[l]+"}":v3(l)&&(n+=_1(s)+":"+x3(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&QL)throw new Error(t$);if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var a=0;a<i.length;a++)v3(i[a])&&(n+=_1(s)+":"+x3(s,i[a])+";");else{var c=Mc(t,e,i);switch(s){case"animation":case"animationName":{n+=_1(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}}return n}var C3=/label:\s*([^\s;{]+)\s*(;|$)/g,Cn;function cf(t,e,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,r="";Cn=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,r+=Mc(o,e,s);else{var i=s;r+=i[0]}for(var l=1;l<t.length;l++)if(r+=Mc(o,e,t[l]),n){var a=s;r+=a[l]}C3.lastIndex=0;for(var c="",u;(u=C3.exec(r))!==null;)c+="-"+u[1];var d=g3(r)+c;return{name:d,styles:r,next:Cn}}import*as uf from"react";var r$=function(e){return e()},n$=uf.useInsertionEffect?uf.useInsertionEffect:!1,D1=n$||r$;var w3=!1,S3=Lr.createContext(typeof HTMLElement<"u"?b1({key:"css"}):null),rpe=S3.Provider;var I3=function(e){return i$(function(o,n){var r=s$(S3);return e(o,r,n)})},_3=Lr.createContext({});var df={}.hasOwnProperty,F1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",D3=function(e,o){var n={};for(var r in o)df.call(o,r)&&(n[r]=o[r]);return n[F1]=e,n},a$=function(e){var o=e.cache,n=e.serialized,r=e.isStringTag;return lf(o,n,r),D1(function(){return I1(o,n,r)}),null},l$=I3(function(t,e,o){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var r=t[F1],s=[n],i="";typeof t.className=="string"?i=S1(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=cf(s,void 0,Lr.useContext(_3));i+=e.key+"-"+l.name;var a={};for(var c in t)df.call(t,c)&&c!=="css"&&c!==F1&&!w3&&(a[c]=t[c]);return a.className=i,o&&(a.ref=o),Lr.createElement(Lr.Fragment,null,Lr.createElement(a$,{cache:e,serialized:l,isStringTag:typeof r=="string"}),Lr.createElement(r,a))}),F3=l$;import*as Wa from"react";var fpe=ai(h3()),Ae=function(e,o){var n=arguments;if(o==null||!df.call(o,"css"))return Wa.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=F3,s[1]=D3(e,o);for(var i=2;i<r;i++)s[i]=n[i];return Wa.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ae||(Ae={}));function Bc(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return cf(e)}function T3(){var t=Bc.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function R3(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}j5();import{useContext as u$,useRef as P1,useState as hf,useMemo as d$,useCallback as T1,createContext as m$}from"react";import{createPortal as f$}from"react-dom";import{useLayoutEffect as c$}from"react";var mf=c$;var p$=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Oc=function(){};function h$(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function A3(t,e){for(var o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(h$(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Ha=function(e){return y$(e)?e.filter(Boolean):en(e)==="object"&&e!==null?[e]:[]},E3=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var o=Jo(e,p$);return Pe({},o)},zt=function(e,o,n){var r=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(o,e),className:r(n??{},i(o,e),l)}};function Vc(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function g$(t){return Vc(t)?window.innerHeight:t.clientHeight}function N3(t){return Vc(t)?window.pageYOffset:t.scrollTop}function gf(t,e){if(Vc(t)){window.scrollTo(0,e);return}t.scrollTop=e}function b$(t){var e=getComputedStyle(t),o=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(o&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function v$(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e}function ff(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Oc,r=N3(t),s=e-r,i=10,l=0;function a(){l+=i;var c=v$(l,r,s,o);gf(t,c),l<o?window.requestAnimationFrame(a):n(t)}a()}function A1(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=e.offsetHeight/3;n.bottom+r>o.bottom?gf(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):n.top-r<o.top&&gf(t,Math.max(e.offsetTop-r,0))}function x$(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function E1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function L3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var $3=!1,C$={get passive(){return $3=!0}},pf=typeof window<"u"?window:{};pf.addEventListener&&pf.removeEventListener&&(pf.addEventListener("p",Oc,C$),pf.removeEventListener("p",Oc,!1));var k3=$3;function j3(t){return t!=null}function y$(t){return Array.isArray(t)}function Ei(t,e,o){return t?e:o}var M3=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];var s=Object.entries(e).filter(function(i){var l=tn(i,1),a=l[0];return!n.includes(a)});return s.reduce(function(i,l){var a=tn(l,2),c=a[0],u=a[1];return i[c]=u,i},{})},w$=["children","innerProps"],S$=["children","innerProps"];function I$(t){var e=t.maxHeight,o=t.menuEl,n=t.minHeight,r=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,a=b$(o),c={placement:"bottom",maxHeight:e};if(!o||!o.offsetParent)return c;var u=a.getBoundingClientRect(),d=u.height,f=o.getBoundingClientRect(),m=f.bottom,h=f.height,p=f.top,g=o.offsetParent.getBoundingClientRect(),b=g.top,x=i?window.innerHeight:g$(a),v=N3(a),C=parseInt(getComputedStyle(o).marginBottom,10),y=parseInt(getComputedStyle(o).marginTop,10),S=b-y,w=x-p,_=S+v,D=d-v-p,R=m-x+v+C,T=v+p-y,I=160;switch(r){case"auto":case"bottom":if(w>=h)return{placement:"bottom",maxHeight:e};if(D>=h&&!i)return s&&ff(a,R,I),{placement:"bottom",maxHeight:e};if(!i&&D>=n||i&&w>=n){s&&ff(a,R,I);var F=i?w-C:D-C;return{placement:"bottom",maxHeight:F}}if(r==="auto"||i){var P=e,A=i?S:_;return A>=n&&(P=Math.min(A-C-l,e)),{placement:"top",maxHeight:P}}if(r==="bottom")return s&&gf(a,R),{placement:"bottom",maxHeight:e};break;case"top":if(S>=h)return{placement:"top",maxHeight:e};if(_>=h&&!i)return s&&ff(a,T,I),{placement:"top",maxHeight:e};if(!i&&_>=n||i&&S>=n){var k=e;return(!i&&_>=n||i&&S>=n)&&(k=i?S-y:_-y),s&&ff(a,T,I),{placement:"top",maxHeight:k}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}function _$(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var B3=function(e){return e==="auto"?"bottom":e},O3=function(e,o){var n,r=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,a=s.colors;return Pe((n={label:"menu"},Ri(n,_$(r),"100%"),Ri(n,"position","absolute"),Ri(n,"width","100%"),Ri(n,"zIndex",1),n),o?{}:{backgroundColor:a.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},V3=m$(null),G3=function(e){var o=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,c=u$(V3)||{},u=c.setPortalPlacement,d=P1(null),f=hf(r),m=tn(f,2),h=m[0],p=m[1],g=hf(null),b=tn(g,2),x=b[0],v=b[1],C=a.spacing.controlHeight;return mf(function(){var y=d.current;if(y){var S=i==="fixed",w=l&&!S,_=I$({maxHeight:r,menuEl:y,minHeight:n,placement:s,shouldScroll:w,isFixedPosition:S,controlHeight:C});p(_.maxHeight),v(_.placement),u?.(_.placement)}},[r,s,i,l,n,u,C]),o({ref:d,placerProps:Pe(Pe({},e),{},{placement:x||B3(s),maxHeight:h})})},D$=function(e){var o=e.children,n=e.innerRef,r=e.innerProps;return Ae("div",Te({},zt(e,"menu",{menu:!0}),{ref:n},r),o)},F$=D$,z3=function(e,o){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Pe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:r,paddingTop:r})},T$=function(e){var o=e.children,n=e.innerProps,r=e.innerRef,s=e.isMulti;return Ae("div",Te({},zt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},n),o)},W3=function(e,o){var n=e.theme,r=n.spacing.baseUnit,s=n.colors;return Pe({textAlign:"center"},o?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},H3=W3,U3=W3,R$=function(e){var o=e.children,n=o===void 0?"No options":o,r=e.innerProps,s=Jo(e,w$);return Ae("div",Te({},zt(Pe(Pe({},s),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},P$=function(e){var o=e.children,n=o===void 0?"Loading...":o,r=e.innerProps,s=Jo(e,S$);return Ae("div",Te({},zt(Pe(Pe({},s),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},X3=function(e){var o=e.rect,n=e.offset,r=e.position;return{left:o.left,position:r,top:n,width:o.width,zIndex:1}},A$=function(e){var o=e.appendTo,n=e.children,r=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,a=P1(null),c=P1(null),u=hf(B3(i)),d=tn(u,2),f=d[0],m=d[1],h=d$(function(){return{setPortalPlacement:m}},[]),p=hf(null),g=tn(p,2),b=g[0],x=g[1],v=T1(function(){if(r){var w=x$(r),_=l==="fixed"?0:window.pageYOffset,D=w[f]+_;(D!==b?.offset||w.left!==b?.rect.left||w.width!==b?.rect.width)&&x({offset:D,rect:w})}},[r,l,f,b?.offset,b?.rect.left,b?.rect.width]);mf(function(){v()},[v]);var C=T1(function(){typeof c.current=="function"&&(c.current(),c.current=null),r&&a.current&&(c.current=qx(r,a.current,v,{elementResize:"ResizeObserver"in window}))},[r,v]);mf(function(){C()},[C]);var y=T1(function(w){a.current=w,C()},[C]);if(!o&&l!=="fixed"||!b)return null;var S=Ae("div",Te({ref:y},zt(Pe(Pe({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ae(V3.Provider,{value:h},o?f$(S,o):S)},Z3=function(e){var o=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},E$=function(e){var o=e.children,n=e.innerProps,r=e.isDisabled,s=e.isRtl;return Ae("div",Te({},zt(e,"container",{"--is-disabled":r,"--is-rtl":s}),n),o)},Y3=function(e,o){var n=e.theme.spacing,r=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Pe({alignItems:"center",display:r&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},N$=function(e){var o=e.children,n=e.innerProps,r=e.isMulti,s=e.hasValue;return Ae("div",Te({},zt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),n),o)},J3=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},L$=function(e){var o=e.children,n=e.innerProps;return Ae("div",Te({},zt(e,"indicatorsContainer",{indicators:!0}),n),o)},P3,$$=["size"],k$=["innerProps","isRtl","size"];var j$={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},q3=function(e){var o=e.size,n=Jo(e,$$);return Ae("svg",Te({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:j$},n))},N1=function(e){return Ae(q3,Te({size:20},e),Ae("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Q3=function(e){return Ae(q3,Te({size:20},e),Ae("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},K3=function(e,o){var n=e.isFocused,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Pe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},eS=K3,M$=function(e){var o=e.children,n=e.innerProps;return Ae("div",Te({},zt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),o||Ae(Q3,null))},tS=K3,B$=function(e){var o=e.children,n=e.innerProps;return Ae("div",Te({},zt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),o||Ae(N1,null))},oS=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Pe({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},O$=function(e){var o=e.innerProps;return Ae("span",Te({},o,zt(e,"indicatorSeparator",{"indicator-separator":!0})))},V$=T3(P3||(P3=R3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),rS=function(e,o){var n=e.isFocused,r=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Pe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},o?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},R1=function(e){var o=e.delay,n=e.offset;return Ae("span",{css:Bc({animation:"".concat(V$," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},G$=function(e){var o=e.innerProps,n=e.isRtl,r=e.size,s=r===void 0?4:r,i=Jo(e,k$);return Ae("div",Te({},zt(Pe(Pe({},i),{},{innerProps:o,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),Ae(R1,{delay:0,offset:n}),Ae(R1,{delay:160,offset:!0}),Ae(R1,{delay:320,offset:!n}))},nS=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,a=s.spacing;return Pe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},z$=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Ae("div",Te({ref:s},zt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),o)},W$=z$,H$=["data"],sS=function(e,o){var n=e.theme.spacing;return o?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},U$=function(e){var o=e.children,n=e.cx,r=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,a=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Ae("div",Te({},zt(e,"group",{group:!0}),a),Ae(i,Te({},l,{selectProps:d,theme:u,getStyles:r,getClassNames:s,cx:n}),c),Ae("div",null,o))},iS=function(e,o){var n=e.theme,r=n.colors,s=n.spacing;return Pe({label:"group",cursor:"default",display:"block"},o?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},X$=function(e){var o=E3(e);o.data;var n=Jo(o,H$);return Ae("div",Te({},zt(e,"groupHeading",{"group-heading":!0}),n))},Z$=U$,Y$=["innerRef","isDisabled","isHidden","inputClassName"],aS=function(e,o){var n=e.isDisabled,r=e.value,s=e.theme,i=s.spacing,l=s.colors;return Pe(Pe({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},J$),o?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},lS={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},J$={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Pe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},lS)},q$=function(e){return Pe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},lS)},Q$=function(e){var o=e.cx,n=e.value,r=E3(e),s=r.innerRef,i=r.isDisabled,l=r.isHidden,a=r.inputClassName,c=Jo(r,Y$);return Ae("div",Te({},zt(e,"input",{"input-container":!0}),{"data-value":n||""}),Ae("input",Te({className:o({input:!0},a),ref:s,style:q$(l),disabled:i},c)))},K$=Q$,cS=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors;return Pe({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},uS=function(e,o){var n=e.theme,r=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Pe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},dS=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Pe({alignItems:"center",display:"flex"},o?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},mS=function(e){var o=e.children,n=e.innerProps;return Ae("div",n,o)},ek=mS,tk=mS;function ok(t){var e=t.children,o=t.innerProps;return Ae("div",Te({role:"button"},o),e||Ae(N1,{size:14}))}var rk=function(e){var o=e.children,n=e.components,r=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,a=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return Ae(c,{data:r,innerProps:Pe(Pe({},zt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:a},Ae(u,{data:r,innerProps:Pe({},zt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},o),Ae(d,{data:r,innerProps:Pe(Pe({},zt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},l),selectProps:a}))},nk=rk,fS=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,a=i.colors;return Pe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:s?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?a.primary:a.primary50}})},sk=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Ae("div",Te({},zt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),o)},ik=sk,pS=function(e,o){var n=e.theme,r=n.spacing,s=n.colors;return Pe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},ak=function(e){var o=e.children,n=e.innerProps;return Ae("div",Te({},zt(e,"placeholder",{placeholder:!0}),n),o)},lk=ak,hS=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing,i=r.colors;return Pe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},ck=function(e){var o=e.children,n=e.isDisabled,r=e.innerProps;return Ae("div",Te({},zt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),o)},uk=ck,xo={ClearIndicator:B$,Control:W$,DropdownIndicator:M$,DownChevron:Q3,CrossIcon:N1,Group:Z$,GroupHeading:X$,IndicatorsContainer:L$,IndicatorSeparator:O$,Input:K$,LoadingIndicator:G$,Menu:F$,MenuList:T$,MenuPortal:A$,LoadingMessage:P$,NoOptionsMessage:R$,MultiValue:nk,MultiValueContainer:ek,MultiValueLabel:tk,MultiValueRemove:ok,Option:ik,Placeholder:lk,SelectContainer:E$,SingleValue:uk,ValueContainer:N$},gS=function(e){return Pe(Pe({},xo),e.components)};var bS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function dk(t,e){return!!(t===e||bS(t)&&bS(e))}function mk(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!dk(t[o],e[o]))return!1;return!0}function vS(t,e){e===void 0&&(e=mk);var o=null;function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(o&&o.lastThis===this&&e(r,o.lastArgs))return o.lastResult;var i=t.apply(this,r);return o={lastResult:i,lastArgs:r,lastThis:this},i}return n.clear=function(){o=null},n}var pk={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},hk=function(e){return Ae("span",Te({css:pk},e))},xS=hk,gk={guidance:function(e){var o=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var o=e.action,n=e.label,r=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var o=e.context,n=e.focused,r=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,a=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(p,g){return p&&p.length?"".concat(p.indexOf(g)+1," of ").concat(p.length):""};if(o==="value"&&l)return"value ".concat(i," focused, ").concat(d(l,n),".");if(o==="menu"&&u){var f=a?" disabled":"",m="".concat(c?" selected":"").concat(f);return"".concat(i).concat(m,", ").concat(d(r,n),".")}return""},onFilter:function(e){var o=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(o?" for search term "+o:"",".")}},bk=function(e){var o=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,a=e.selectProps,c=e.id,u=e.isAppleDevice,d=a.ariaLiveMessages,f=a.getOptionLabel,m=a.inputValue,h=a.isMulti,p=a.isOptionDisabled,g=a.isSearchable,b=a.menuIsOpen,x=a.options,v=a.screenReaderStatus,C=a.tabSelectsValue,y=a.isLoading,S=a["aria-label"],w=a["aria-live"],_=Gc(function(){return Pe(Pe({},gk),d||{})},[d]),D=Gc(function(){var A="";if(o&&_.onChange){var k=o.option,$=o.options,j=o.removedValue,N=o.removedValues,E=o.value,O=function(oe){return Array.isArray(oe)?null:oe},M=j||k||O(E),B=M?f(M):"",V=$||N||void 0,G=V?V.map(f):[],z=Pe({isDisabled:M&&p(M,l),label:B,labels:G},o);A=_.onChange(z)}return A},[o,_,p,l,f]),R=Gc(function(){var A="",k=n||r,$=!!(n&&l&&l.includes(n));if(k&&_.onFocus){var j={focused:k,label:f(k),isDisabled:p(k,l),isSelected:$,options:s,context:k===n?"menu":"value",selectValue:l,isAppleDevice:u};A=_.onFocus(j)}return A},[n,r,f,p,_,s,l,u]),T=Gc(function(){var A="";if(b&&x.length&&!y&&_.onFilter){var k=v({count:s.length});A=_.onFilter({inputValue:m,resultsMessage:k})}return A},[s,m,b,_,x,v,y]),I=o?.action==="initial-input-focus",F=Gc(function(){var A="";if(_.guidance){var k=r?"value":b?"menu":"input";A=_.guidance({"aria-label":S,context:k,isDisabled:n&&p(n,l),isMulti:h,isSearchable:g,tabSelectsValue:C,isInitialFocus:I})}return A},[S,n,r,h,p,g,b,_,l,C,I]),P=Ae(k1,null,Ae("span",{id:"aria-selection"},D),Ae("span",{id:"aria-focused"},R),Ae("span",{id:"aria-results"},T),Ae("span",{id:"aria-guidance"},F));return Ae(k1,null,Ae(xS,{id:c},I&&P),Ae(xS,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!I&&P))},vk=bk,j1=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],xk=new RegExp("["+j1.map(function(t){return t.letters}).join("")+"]","g"),ES={};for(bf=0;bf<j1.length;bf++)for(vf=j1[bf],xf=0;xf<vf.letters.length;xf++)ES[vf.letters[xf]]=vf.base;var vf,xf,bf,NS=function(e){return e.replace(xk,function(o){return ES[o]})},Ck=vS(NS),CS=function(e){return e.replace(/^\s+|\s+$/g,"")},yk=function(e){return"".concat(e.label," ").concat(e.value)},wk=function(e){return function(o,n){if(o.data.__isNew__)return!0;var r=Pe({ignoreCase:!0,ignoreAccents:!0,stringify:yk,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,i=r.ignoreAccents,l=r.stringify,a=r.trim,c=r.matchFrom,u=a?CS(n):n,d=a?CS(l(o)):l(o);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),i&&(u=Ck(u),d=NS(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},Sk=["innerRef"];function Ik(t){var e=t.innerRef,o=Jo(t,Sk),n=M3(o,"onExited","in","enter","exit","appear");return Ae("input",Te({ref:e},n,{css:Bc({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _k=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Dk(t){var e=t.isEnabled,o=t.onBottomArrive,n=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,i=Xa(!1),l=Xa(!1),a=Xa(0),c=Xa(null),u=Ls(function(g,b){if(c.current!==null){var x=c.current,v=x.scrollTop,C=x.scrollHeight,y=x.clientHeight,S=c.current,w=b>0,_=C-y-v,D=!1;_>b&&i.current&&(n&&n(g),i.current=!1),w&&l.current&&(s&&s(g),l.current=!1),w&&b>_?(o&&!i.current&&o(g),S.scrollTop=C,D=!0,i.current=!0):!w&&-b>v&&(r&&!l.current&&r(g),S.scrollTop=0,D=!0,l.current=!0),D&&_k(g)}},[o,n,r,s]),d=Ls(function(g){u(g,g.deltaY)},[u]),f=Ls(function(g){a.current=g.changedTouches[0].clientY},[]),m=Ls(function(g){var b=a.current-g.changedTouches[0].clientY;u(g,b)},[u]),h=Ls(function(g){if(g){var b=k3?{passive:!1}:!1;g.addEventListener("wheel",d,b),g.addEventListener("touchstart",f,b),g.addEventListener("touchmove",m,b)}},[m,f,d]),p=Ls(function(g){g&&(g.removeEventListener("wheel",d,!1),g.removeEventListener("touchstart",f,!1),g.removeEventListener("touchmove",m,!1))},[m,f,d]);return AS(function(){if(e){var g=c.current;return h(g),function(){p(g)}}},[e,h,p]),function(g){c.current=g}}var yS=["boxSizing","height","overflow","paddingRight","position"],wS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function SS(t){t.cancelable&&t.preventDefault()}function IS(t){t.stopPropagation()}function _S(){var t=this.scrollTop,e=this.scrollHeight,o=t+this.offsetHeight;t===0?this.scrollTop=1:o===e&&(this.scrollTop=t-1)}function DS(){return"ontouchstart"in window||navigator.maxTouchPoints}var FS=!!(typeof window<"u"&&window.document&&window.document.createElement),zc=0,Ua={capture:!1,passive:!1};function Fk(t){var e=t.isEnabled,o=t.accountForScrollbars,n=o===void 0?!0:o,r=Xa({}),s=Xa(null),i=Ls(function(a){if(FS){var c=document.body,u=c&&c.style;if(n&&yS.forEach(function(h){var p=u&&u[h];r.current[h]=p}),n&&zc<1){var d=parseInt(r.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+d||0;Object.keys(wS).forEach(function(h){var p=wS[h];u&&(u[h]=p)}),u&&(u.paddingRight="".concat(m,"px"))}c&&DS()&&(c.addEventListener("touchmove",SS,Ua),a&&(a.addEventListener("touchstart",_S,Ua),a.addEventListener("touchmove",IS,Ua))),zc+=1}},[n]),l=Ls(function(a){if(FS){var c=document.body,u=c&&c.style;zc=Math.max(zc-1,0),n&&zc<1&&yS.forEach(function(d){var f=r.current[d];u&&(u[d]=f)}),c&&DS()&&(c.removeEventListener("touchmove",SS,Ua),a&&(a.removeEventListener("touchstart",_S,Ua),a.removeEventListener("touchmove",IS,Ua)))}},[n]);return AS(function(){if(e){var a=s.current;return i(a),function(){l(a)}}},[e,i,l]),function(a){s.current=a}}var Tk=function(e){var o=e.target;return o.ownerDocument.activeElement&&o.ownerDocument.activeElement.blur()},Rk={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Pk(t){var e=t.children,o=t.lockEnabled,n=t.captureEnabled,r=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,a=t.onTopLeave,c=Dk({isEnabled:r,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:a}),u=Fk({isEnabled:o}),d=function(m){c(m),u(m)};return Ae(k1,null,o&&Ae("div",{onClick:Tk,css:Rk}),e(d))}var Ak={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ek=function(e){var o=e.name,n=e.onFocus;return Ae("input",{required:!0,name:o,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Ak,value:"",onChange:function(){}})},Nk=Ek;function M1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Lk(){return M1(/^iPhone/i)}function LS(){return M1(/^Mac/i)}function $k(){return M1(/^iPad/i)||LS()&&navigator.maxTouchPoints>1}function kk(){return Lk()||$k()}function jk(){return LS()||kk()}var Mk=function(e){return e.label},B1=function(e){return e.label},O1=function(e){return e.value},Bk=function(e){return!!e.isDisabled},Ok={clearIndicator:tS,container:Z3,control:nS,dropdownIndicator:eS,group:sS,groupHeading:iS,indicatorsContainer:J3,indicatorSeparator:oS,input:aS,loadingIndicator:rS,loadingMessage:U3,menu:O3,menuList:z3,menuPortal:X3,multiValue:cS,multiValueLabel:uS,multiValueRemove:dS,noOptionsMessage:H3,option:fS,placeholder:pS,singleValue:hS,valueContainer:Y3};var Vk={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Gk=4,$S=4,zk=38,Wk=$S*2,Hk={baseUnit:$S,controlHeight:zk,menuGutter:Wk},L1={borderRadius:Gk,colors:Vk,spacing:Hk},Uk={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:E1(),captureMenuScroll:!E1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:wk(),formatGroupLabel:Mk,getOptionLabel:B1,getOptionValue:O1,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Bk,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!L3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var o=e.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function TS(t,e,o,n){var r=MS(t,e,o),s=BS(t,e,o),i=jS(t,e),l=yf(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:i,value:l,index:n}}function Cf(t,e){return t.options.map(function(o,n){if("options"in o){var r=o.options.map(function(i,l){return TS(t,i,e,l)}).filter(function(i){return PS(t,i)});return r.length>0?{type:"group",data:o,options:r,index:n}:void 0}var s=TS(t,o,e,n);return PS(t,s)?s:void 0}).filter(j3)}function kS(t){return t.reduce(function(e,o){return o.type==="group"?e.push.apply(e,Es(o.options.map(function(n){return n.data}))):e.push(o.data),e},[])}function RS(t,e){return t.reduce(function(o,n){return n.type==="group"?o.push.apply(o,Es(n.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(n.index,"-").concat(r.index)}}))):o.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),o},[])}function Xk(t,e){return kS(Cf(t,e))}function PS(t,e){var o=t.inputValue,n=o===void 0?"":o,r=e.data,s=e.isSelected,i=e.label,l=e.value;return(!VS(t)||!s)&&OS(t,{label:i,value:l,data:r},n)}function Zk(t,e){var o=t.focusedValue,n=t.selectValue,r=n.indexOf(o);if(r>-1){var s=e.indexOf(o);if(s>-1)return o;if(r<e.length)return e[r]}return null}function Yk(t,e){var o=t.focusedOption;return o&&e.indexOf(o)>-1?o:e[0]}var $1=function(e,o){var n,r=(n=e.find(function(s){return s.data===o}))===null||n===void 0?void 0:n.id;return r||null},jS=function(e,o){return e.getOptionLabel(o)},yf=function(e,o){return e.getOptionValue(o)};function MS(t,e,o){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,o):!1}function BS(t,e,o){if(o.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,o);var n=yf(t,e);return o.some(function(r){return yf(t,r)===n})}function OS(t,e,o){return t.filterOption?t.filterOption(e,o):!0}var VS=function(e){var o=e.hideSelectedOptions,n=e.isMulti;return o===void 0?n:o},Jk=1,Wc=function(t){A2(o,t);var e=N2(o);function o(n){var r;if(T2(this,o),r=e.call(this,n),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=jk(),r.controlRef=null,r.getControlRef=function(a){r.controlRef=a},r.focusedOptionRef=null,r.getFocusedOptionRef=function(a){r.focusedOptionRef=a},r.menuListRef=null,r.getMenuListRef=function(a){r.menuListRef=a},r.inputRef=null,r.getInputRef=function(a){r.inputRef=a},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(a,c){var u=r.props,d=u.onChange,f=u.name;c.name=f,r.ariaOnChange(a,c),d(a,c)},r.setValue=function(a,c,u){var d=r.props,f=d.closeMenuOnSelect,m=d.isMulti,h=d.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:h}),f&&(r.setState({inputIsHiddenAfterUpdate:!m}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(a,{action:c,option:u})},r.selectOption=function(a){var c=r.props,u=c.blurInputOnSelect,d=c.isMulti,f=c.name,m=r.state.selectValue,h=d&&r.isOptionSelected(a,m),p=r.isOptionDisabled(a,m);if(h){var g=r.getOptionValue(a);r.setValue(m.filter(function(b){return r.getOptionValue(b)!==g}),"deselect-option",a)}else if(!p)d?r.setValue([].concat(Es(m),[a]),"select-option",a):r.setValue(a,"select-option");else{r.ariaOnChange(a,{action:"select-option",option:a,name:f});return}u&&r.blurInput()},r.removeValue=function(a){var c=r.props.isMulti,u=r.state.selectValue,d=r.getOptionValue(a),f=u.filter(function(h){return r.getOptionValue(h)!==d}),m=Ei(c,f,f[0]||null);r.onChange(m,{action:"remove-value",removedValue:a}),r.focusInput()},r.clearValue=function(){var a=r.state.selectValue;r.onChange(Ei(r.props.isMulti,[],null),{action:"clear",removedValues:a})},r.popValue=function(){var a=r.props.isMulti,c=r.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),f=Ei(a,d,d[0]||null);u&&r.onChange(f,{action:"pop-value",removedValue:u})},r.getFocusedOptionId=function(a){return $1(r.state.focusableOptionsWithIds,a)},r.getFocusableOptionsWithIds=function(){return RS(Cf(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return A3.apply(void 0,[r.props.classNamePrefix].concat(c))},r.getOptionLabel=function(a){return jS(r.props,a)},r.getOptionValue=function(a){return yf(r.props,a)},r.getStyles=function(a,c){var u=r.props.unstyled,d=Ok[a](c,u);d.boxSizing="border-box";var f=r.props.styles[a];return f?f(d,c):d},r.getClassNames=function(a,c){var u,d;return(u=(d=r.props.classNames)[a])===null||u===void 0?void 0:u.call(d,c)},r.getElementId=function(a){return"".concat(r.state.instancePrefix,"-").concat(a)},r.getComponents=function(){return gS(r.props)},r.buildCategorizedOptions=function(){return Cf(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return kS(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(a,c){r.setState({ariaSelection:Pe({value:a},c)})},r.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(a){r.blockOptionHover=!1},r.onControlMouseDown=function(a){if(!a.defaultPrevented){var c=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&r.onMenuClose():c&&r.openMenu("first"):(c&&(r.openAfterFocus=!0),r.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},r.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!r.props.isDisabled){var c=r.props,u=c.isMulti,d=c.menuIsOpen;r.focusInput(),d?(r.setState({inputIsHiddenAfterUpdate:!u}),r.onMenuClose()):r.openMenu("first"),a.preventDefault()}},r.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(r.clearValue(),a.preventDefault(),r.openAfterFocus=!1,a.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(a){typeof r.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Vc(a.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(a)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(a){var c=a.touches,u=c&&c.item(0);u&&(r.initialTouchX=u.clientX,r.initialTouchY=u.clientY,r.userIsDragging=!1)},r.onTouchMove=function(a){var c=a.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-r.initialTouchX),f=Math.abs(u.clientY-r.initialTouchY),m=5;r.userIsDragging=d>m||f>m}},r.onTouchEnd=function(a){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(a.target)&&r.menuListRef&&!r.menuListRef.contains(a.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(a){r.userIsDragging||r.onControlMouseDown(a)},r.onClearIndicatorTouchEnd=function(a){r.userIsDragging||r.onClearIndicatorMouseDown(a)},r.onDropdownIndicatorTouchEnd=function(a){r.userIsDragging||r.onDropdownIndicatorMouseDown(a)},r.handleInputChange=function(a){var c=r.props.inputValue,u=a.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(u,{action:"input-change",prevInputValue:c}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(a){r.props.onFocus&&r.props.onFocus(a),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(a){var c=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(a),r.onInputChange("",{action:"input-blur",prevInputValue:c}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(a){if(!(r.blockOptionHover||r.state.focusedOption===a)){var c=r.getFocusableOptions(),u=c.indexOf(a);r.setState({focusedOption:a,focusedOptionId:u>-1?r.getFocusedOptionId(a):null})}},r.shouldHideSelectedOptions=function(){return VS(r.props)},r.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),r.focus()},r.onKeyDown=function(a){var c=r.props,u=c.isMulti,d=c.backspaceRemovesValue,f=c.escapeClearsValue,m=c.inputValue,h=c.isClearable,p=c.isDisabled,g=c.menuIsOpen,b=c.onKeyDown,x=c.tabSelectsValue,v=c.openMenuOnFocus,C=r.state,y=C.focusedOption,S=C.focusedValue,w=C.selectValue;if(!p&&!(typeof b=="function"&&(b(a),a.defaultPrevented))){switch(r.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||m)return;r.focusValue("previous");break;case"ArrowRight":if(!u||m)return;r.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(S)r.removeValue(S);else{if(!d)return;u?r.popValue():h&&r.clearValue()}break;case"Tab":if(r.isComposing||a.shiftKey||!g||!x||!y||v&&r.isOptionSelected(y,w))return;r.selectOption(y);break;case"Enter":if(a.keyCode===229)break;if(g){if(!y||r.isComposing)return;r.selectOption(y);break}return;case"Escape":g?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:m}),r.onMenuClose()):h&&f&&r.clearValue();break;case" ":if(m)return;if(!g){r.openMenu("first");break}if(!y)return;r.selectOption(y);break;case"ArrowUp":g?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":g?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!g)return;r.focusOption("pageup");break;case"PageDown":if(!g)return;r.focusOption("pagedown");break;case"Home":if(!g)return;r.focusOption("first");break;case"End":if(!g)return;r.focusOption("last");break;default:return}a.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++Jk),r.state.selectValue=Ha(n.value),n.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),l=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=i[l],r.state.focusedOptionId=$1(s,i[l])}return r}return P2(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&A1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,a=this.state.isFocused;(a&&!i&&r.isDisabled||a&&l&&!r.menuIsOpen)&&this.focusInput(),a&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(A1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,i=this.state,l=i.selectValue,a=i.isFocused,c=this.buildFocusableOptions(),u=r==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(l[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=i.indexOf(l);l||(a=-1);var c=i.length-1,u=-1;if(i.length){switch(r){case"previous":a===0?u=0:a===-1?u=c:u=a-1;break;case"next":a>-1&&a<c&&(u=a+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,c=l.indexOf(i);i||(c=-1),r==="up"?a=c>0?c-1:l.length-1:r==="down"?a=(c+1)%l.length:r==="pageup"?(a=c-s,a<0&&(a=0)):r==="pagedown"?(a=c+s,a>l.length-1&&(a=l.length-1)):r==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(L1):Pe(Pe({},L1),this.props.theme):L1}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,a=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,f=d.isMulti,m=d.isRtl,h=d.options,p=this.hasValue();return{clearValue:r,cx:s,getStyles:i,getClassNames:l,getValue:a,hasValue:p,isMulti:f,isRtl:m,options:h,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,i=r.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(r,s){return MS(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return BS(this.props,r,s)}},{key:"filterOption",value:function(r,s){return OS(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,i=r.isSearchable,l=r.inputId,a=r.inputValue,c=r.tabIndex,u=r.form,d=r.menuIsOpen,f=r.required,m=this.getComponents(),h=m.Input,p=this.state,g=p.inputIsHidden,b=p.ariaSelection,x=this.commonProps,v=l||this.getElementId("input"),C=Pe(Pe(Pe({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?dt.createElement(h,Te({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:a},C)):dt.createElement(Ik,Te({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Oc,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,a=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,f=this.commonProps,m=this.props,h=m.controlShouldRenderValue,p=m.isDisabled,g=m.isMulti,b=m.inputValue,x=m.placeholder,v=this.state,C=v.selectValue,y=v.focusedValue,S=v.isFocused;if(!this.hasValue()||!h)return b?null:dt.createElement(d,Te({},f,{key:"placeholder",isDisabled:p,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),x);if(g)return C.map(function(_,D){var R=_===y,T="".concat(r.getOptionLabel(_),"-").concat(r.getOptionValue(_));return dt.createElement(i,Te({},f,{components:{Container:l,Label:a,Remove:c},isFocused:R,isDisabled:p,key:T,index:D,removeProps:{onClick:function(){return r.removeValue(_)},onTouchEnd:function(){return r.removeValue(_)},onMouseDown:function(F){F.preventDefault()}},data:_}),r.formatOptionLabel(_,"value"))});if(b)return null;var w=C[0];return dt.createElement(u,Te({},f,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return dt.createElement(s,Te({},i,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return dt.createElement(s,Te({},i,{innerProps:d,isDisabled:a,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,i=r.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused;return dt.createElement(i,Te({},l,{isDisabled:a,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return dt.createElement(s,Te({},i,{innerProps:c,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,a=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,h=this.commonProps,p=this.state.focusedOption,g=this.props,b=g.captureMenuScroll,x=g.inputValue,v=g.isLoading,C=g.loadingMessage,y=g.minMenuHeight,S=g.maxMenuHeight,w=g.menuIsOpen,_=g.menuPlacement,D=g.menuPosition,R=g.menuPortalTarget,T=g.menuShouldBlockScroll,I=g.menuShouldScrollIntoView,F=g.noOptionsMessage,P=g.onMenuScrollToTop,A=g.onMenuScrollToBottom;if(!w)return null;var k=function(B,V){var G=B.type,z=B.data,U=B.isDisabled,oe=B.isSelected,X=B.label,Y=B.value,re=p===z,W=U?void 0:function(){return r.onOptionHover(z)},ee=U?void 0:function(){return r.selectOption(z)},ie="".concat(r.getElementId("option"),"-").concat(V),de={id:ie,onClick:ee,onMouseMove:W,onMouseOver:W,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:oe};return dt.createElement(m,Te({},h,{innerProps:de,data:z,isDisabled:U,isSelected:oe,key:ie,label:X,type:G,value:Y,isFocused:re,innerRef:re?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(B.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var B=M.data,V=M.options,G=M.index,z="".concat(r.getElementId("group"),"-").concat(G),U="".concat(z,"-heading");return dt.createElement(i,Te({},h,{key:z,data:B,options:V,Heading:l,headingProps:{id:U,data:M.data},label:r.formatGroupLabel(M.data)}),M.options.map(function(oe){return k(oe,"".concat(G,"-").concat(oe.index))}))}else if(M.type==="option")return k(M,"".concat(M.index))});else if(v){var j=C({inputValue:x});if(j===null)return null;$=dt.createElement(d,h,j)}else{var N=F({inputValue:x});if(N===null)return null;$=dt.createElement(f,h,N)}var E={minMenuHeight:y,maxMenuHeight:S,menuPlacement:_,menuPosition:D,menuShouldScrollIntoView:I},O=dt.createElement(G3,Te({},h,E),function(M){var B=M.ref,V=M.placerProps,G=V.placement,z=V.maxHeight;return dt.createElement(a,Te({},h,E,{innerRef:B,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:v,placement:G}),dt.createElement(Pk,{captureEnabled:b,onTopArrive:P,onBottomArrive:A,lockEnabled:T},function(U){return dt.createElement(c,Te({},h,{innerRef:function(X){r.getMenuListRef(X),U(X)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:r.getElementId("listbox")},isLoading:v,maxHeight:z,focusedOption:p}),$)}))});return R||D==="fixed"?dt.createElement(u,Te({},h,{appendTo:R,controlElement:this.controlRef,menuPlacement:_,menuPosition:D}),O):O}},{key:"renderFormField",value:function(){var r=this,s=this.props,i=s.delimiter,l=s.isDisabled,a=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!l)return dt.createElement(Nk,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(a)if(i){var f=d.map(function(p){return r.getOptionValue(p)}).join(i);return dt.createElement("input",{name:c,type:"hidden",value:f})}else{var m=d.length>0?d.map(function(p,g){return dt.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:r.getOptionValue(p)})}):dt.createElement("input",{name:c,type:"hidden",value:""});return dt.createElement("div",null,m)}else{var h=d[0]?this.getOptionValue(d[0]):"";return dt.createElement("input",{name:c,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,a=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return dt.createElement(vk,Te({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:a,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,i=r.IndicatorsContainer,l=r.SelectContainer,a=r.ValueContainer,c=this.props,u=c.className,d=c.id,f=c.isDisabled,m=c.menuIsOpen,h=this.state.isFocused,p=this.commonProps=this.getCommonProps();return dt.createElement(l,Te({},p,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:h}),this.renderLiveRegion(),dt.createElement(s,Te({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:h,menuIsOpen:m}),dt.createElement(a,Te({},p,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),dt.createElement(i,Te({},p,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,f=s.instancePrefix,m=r.options,h=r.value,p=r.menuIsOpen,g=r.inputValue,b=r.isMulti,x=Ha(h),v={};if(i&&(h!==i.value||m!==i.options||p!==i.menuIsOpen||g!==i.inputValue)){var C=p?Xk(r,x):[],y=p?RS(Cf(r,x),"".concat(f,"-option")):[],S=l?Zk(s,x):null,w=Yk(s,C),_=$1(y,w);v={selectValue:x,focusedOption:w,focusedOptionId:_,focusableOptionsWithIds:y,focusedValue:S,clearFocusValueOnUpdate:!1}}var D=a!=null&&r!==i?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},R=c,T=u&&d;return u&&!T&&(R={value:Ei(b,x,x[0]||null),options:x,action:"initial-input-focus"},T=!d),c?.action==="initial-input-focus"&&(R=null),Pe(Pe(Pe({},v),D),{},{prevProps:r,ariaSelection:R,prevWasFocused:T})}}]),o}(fk);Wc.defaultProps=Uk;import"react-dom";var Qk=qk(function(t,e){var o=zm(t);return GS.createElement(Wc,Te({ref:e},o))}),zS=Qk;import*as XS from"react";import{forwardRef as tj}from"react";import{useMemo as WS,useCallback as Kk}from"react";var ej=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],HS=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),s=String(n.getOptionValue(o)).toLowerCase(),i=String(n.getOptionLabel(o)).toLowerCase();return s===r||i===r},V1={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,o,n,r){return!(!e||o.some(function(s){return HS(e,s,r)})||n.some(function(s){return HS(e,s,r)}))},getNewOptionData:function(e,o){return{label:o,value:e,__isNew__:!0}}};function US(t){var e=t.allowCreateWhileLoading,o=e===void 0?!1:e,n=t.createOptionPosition,r=n===void 0?"last":n,s=t.formatCreateLabel,i=s===void 0?V1.formatCreateLabel:s,l=t.isValidNewOption,a=l===void 0?V1.isValidNewOption:l,c=t.getNewOptionData,u=c===void 0?V1.getNewOptionData:c,d=t.onCreateOption,f=t.options,m=f===void 0?[]:f,h=t.onChange,p=Jo(t,ej),g=p.getOptionValue,b=g===void 0?O1:g,x=p.getOptionLabel,v=x===void 0?B1:x,C=p.inputValue,y=p.isLoading,S=p.isMulti,w=p.value,_=p.name,D=WS(function(){return a(C,Ha(w),m,{getOptionValue:b,getOptionLabel:v})?u(C,i(C)):void 0},[i,u,v,b,C,a,m,w]),R=WS(function(){return(o||!y)&&D?r==="first"?[D].concat(Es(m)):[].concat(Es(m),[D]):m},[o,r,y,D,m]),T=Kk(function(I,F){if(F.action!=="select-option")return h(I,F);var P=Array.isArray(I)?I:[I];if(P[P.length-1]===D){if(d)d(C);else{var A=u(C,C),k={action:"create-option",name:_,option:A};h(Ei(S,[].concat(Es(Ha(w)),[A]),A),k)}return}h(I,F)},[u,C,S,_,D,d,h,w]);return Pe(Pe({},p),{},{options:R,onChange:T})}import"react-dom";var oj=tj(function(t,e){var o=zm(t),n=US(o);return XS.createElement(Wc,Te({ref:e},n))}),ZS=oj;import{jsx as YS}from"react/jsx-runtime";import"react";var JS="clear-indicator",G1=t=>{let{clearValue:e,innerProps:{ref:o,...n}}=t;return YS("div",{className:JS,ref:typeof o=="string"?null:o,...n,onKeyDown:r=>{r.key==="Enter"&&(e(),r.stopPropagation())},role:"button",tabIndex:0,children:YS(ct,{className:`${JS}__icon`})})};import{jsx as qS}from"react/jsx-runtime";import rj from"react";var z1=t=>{let{children:e,innerProps:o,selectProps:{customProps:{disableKeyDown:n,disableMouseDown:r}={}}={}}=t;return qS(rj.Fragment,{children:qS(xo.Control,{...t,innerProps:{...o,onKeyDown:s=>{if(n){s.stopPropagation();let i=new CustomEvent("bypassKeyDown",{detail:s});document.dispatchEvent(i)}},onMouseDown:s=>{r||o.onMouseDown(s)}},children:e})})};import{jsx as QS}from"react/jsx-runtime";import"react";var KS="dropdown-indicator",W1=t=>{let{innerProps:{ref:e,...o}}=t;return QS("button",{className:KS,ref:e,...o,onKeyDown:n=>{n.key==="Enter"&&(n.key=" ")},type:"button",children:QS(Ve,{className:`${KS}__icon`})})};import{jsx as eI}from"react/jsx-runtime";import nj from"react";var H1=t=>eI(nj.Fragment,{children:eI(xo.Input,{...t,"aria-activedescendant":void 0})});import{c as sj}from"react/compiler-runtime";import{jsx as tI}from"react/jsx-runtime";import ij from"react";var oI="multi-value";function U1(t,e){return typeof e=="function"?e(t):t.value}var X1=t=>{let e=sj(26),{className:o,data:n,innerProps:r,isDisabled:s,selectProps:i}=t,l;e[0]!==i?(l=i===void 0?{}:i,e[0]=i,e[1]=l):l=e[1];let{customProps:a,getOptionValue:c,isSortable:u}=l,d;e[2]!==a?(d=a===void 0?{}:a,e[2]=a,e[3]=d):d=e[3];let{disableMouseDown:f}=d,m;e[4]!==n||e[5]!==c?(m=U1(n,c),e[4]=n,e[5]=c,e[6]=m):m=e[6];let h=!u,p;e[7]!==m||e[8]!==h?(p={id:m,disabled:h},e[7]=m,e[8]=h,e[9]=p):p=e[9];let{attributes:g,isDragging:b,listeners:x,setNodeRef:v,transform:C}=Ca(p),y=!s&&u&&"draggable",S=b&&`${oI}--is-dragging`,w;e[10]!==o||e[11]!==y||e[12]!==S?(w=[oI,o,y,S].filter(Boolean),e[10]=o,e[11]=y,e[12]=S,e[13]=w):w=e[13];let _=w.join(" "),D;if(e[14]!==g||e[15]!==_||e[16]!==f||e[17]!==r||e[18]!==u||e[19]!==x||e[20]!==t||e[21]!==v||e[22]!==C){let R;e[24]!==f?(R=T=>{f||T.stopPropagation()},e[24]=f,e[25]=R):R=e[25],D=tI(ij.Fragment,{children:tI(xo.MultiValue,{...t,className:_,innerProps:{...u?{...g,...x}:{},...r,onMouseDown:R,ref:v,style:u?{transform:C,...g?.style}:{}}})}),e[14]=g,e[15]=_,e[16]=f,e[17]=r,e[18]=u,e[19]=x,e[20]=t,e[21]=v,e[22]=C,e[23]=D}else D=e[23];return D};import{jsx as rI}from"react/jsx-runtime";import"react";var nI="multi-value-label",Z1=t=>{let{data:e,selectProps:{customProps:{draggableProps:o,editableProps:n}={}}={}}=t,r=`${nI}__text`;return rI("div",{className:nI,children:rI(xo.MultiValueLabel,{...t,innerProps:{className:r,...n&&n(e,r,t.selectProps)||{},...o||{}}})})};import{c as aj}from"react/compiler-runtime";import{jsx as sI,jsxs as lj}from"react/jsx-runtime";import cj from"react";var Y1="multi-value-remove",J1=t=>{let e=aj(12),{innerProps:o}=t,{className:n,onClick:r,onTouchEnd:s}=o,[i,l]=cj.useState(!1),{t:a}=L(),c;if(e[0]!==n||e[1]!==r||e[2]!==s||e[3]!==i||e[4]!==a){let u=a("general:remove"),d;e[6]!==n?(d=[Y1,n].filter(Boolean),e[6]=n,e[7]=d):d=e[7];let f;e[8]!==r?(f=p=>{l(!1),r(p)},e[8]=r,e[9]=f):f=e[9];let m,h;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=()=>l(!0),h=()=>l(!1),e[10]=m,e[11]=h):(m=e[10],h=e[11]),c=lj("button",{"aria-label":u,className:d.join(" "),onClick:f,onKeyDown:uj,onMouseDown:dj,onMouseEnter:m,onMouseLeave:h,onTouchEnd:s,type:"button",children:[sI(So,{className:`${Y1}__tooltip`,show:i,children:a("general:remove")}),sI(ct,{className:`${Y1}__icon`})]}),e[0]=n,e[1]=r,e[2]=s,e[3]=i,e[4]=a,e[5]=c}else c=e[5];return c};function uj(t){t.key==="Enter"&&t.stopPropagation()}function dj(t){return t.stopPropagation()}import{jsx as iI}from"react/jsx-runtime";import mj from"react";var fj="react-select--single-value",q1=t=>{let{children:e,className:o}=t;return iI(mj.Fragment,{children:iI(xo.SingleValue,{...t,className:[fj,o].filter(Boolean).join(" "),children:e})})};import{jsx as aI,jsxs as pj}from"react/jsx-runtime";import"react";var lI="value-container",Q1=t=>{let{selectProps:{customProps:e}={}}=t;return pj("div",{className:lI,ref:e?.droppableRef,children:[e?.valueContainerLabel&&aI("span",{className:`${lI}__label`,children:e?.valueContainerLabel}),aI(xo.ValueContainer,{...t})]})};var bj=t=>({label:t,value:t}),dI=t=>{let{i18n:e,t:o}=L(),[n,r]=uI.useState(""),s=gj(),[i,l]=uI.useState(!1);hj(()=>{l(!0)},[]);let{className:a,components:c,customProps:u,disabled:d=!1,filterOption:f=void 0,getOptionValue:m,isClearable:h=!0,isCreatable:p,isLoading:g,isSearchable:b=!0,noOptionsMessage:x=()=>o("general:noOptions"),numberOnly:v=!1,onChange:C,onMenuClose:y,onMenuOpen:S,options:w,placeholder:_=o("general:selectValue"),showError:D,value:R}=t,T=()=>o("general:loading")+"...",I=[a,"react-select",D&&"react-select--error"].filter(Boolean).join(" "),F={menu:A=>({...A,zIndex:void 0})};if(!i)return Ni(yt,{height:"calc(var(--base) * 2 + 2px)"});if(!p)return Ni(zS,{captureMenuScroll:!0,customProps:u,isLoading:g,...t,className:I,classNamePrefix:"rs",components:{ClearIndicator:G1,Control:z1,DropdownIndicator:W1,Input:H1,MultiValue:X1,MultiValueLabel:Z1,MultiValueRemove:J1,SingleValue:q1,ValueContainer:Q1,...c},filterOption:f,getOptionValue:m,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:x,onChange:C,onMenuClose:y,onMenuOpen:S,options:w,placeholder:cI(_,e),styles:F,unstyled:!0,value:R});let P=A=>{if(v===!0){let k=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],$=!/\D/.test(A.key),j=k.includes(A.key);if(!$&&!j){A.preventDefault();return}}if(!(!R||!n||n.trim()==="")&&!(f&&!f(null,n)))switch(A.key){case"Enter":case"Tab":C([...R,bj(n)]),r(""),A.preventDefault();break;default:break}};return Ni(ZS,{captureMenuScroll:!0,isLoading:g,...t,className:I,classNamePrefix:"rs",components:{ClearIndicator:G1,Control:z1,DropdownIndicator:W1,Input:H1,MultiValue:X1,MultiValueLabel:Z1,MultiValueRemove:J1,SingleValue:q1,ValueContainer:Q1,...c},filterOption:f,inputValue:n,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:T,menuPlacement:"auto",noOptionsMessage:x,onChange:C,onInputChange:A=>r(A),onKeyDown:P,onMenuClose:y,onMenuOpen:S,options:w,placeholder:cI(_,e),styles:F,unstyled:!0,value:R})},vj=t=>{let{getOptionValue:e,onChange:o,value:n}=t,r=[];return n&&(r=(Array.isArray(n)?n:[n]).map(s=>U1(s,e))),Ni(Fr,{className:"react-select-container",ids:r,onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{let l=n;n&&Array.isArray(n)&&(l=sm(n,s,i)),o(l)},children:Ni(dI,{...t})})},pt=t=>{let{isMulti:e,isSortable:o}=t;return e&&o?Ni(vj,{...t}):Ni(dI,{...t})};var Hc=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e});var Uc=t=>{let{id:e,onChange:o,options:n,required:r,selectedTimezone:s}=t,{t:i}=L(),l=Hc(n),a=Cj(()=>l.find(c=>(typeof c=="string"?c:c.value)===(s||"UTC")),[l,s]);return xj("div",{className:"timezone-picker-wrapper",children:[mI(Se,{htmlFor:e,label:`${i("general:timezone")} ${r?"*":""}`,required:r,unstyled:!0}),mI(pt,{className:"timezone-picker",inputId:e,isClearable:!0,isCreatable:!1,onChange:c=>{o&&o(c?.value||"")},options:l,value:a})]})};var hI="date-time-field",wj=t=>{let{field:e,field:{admin:{className:o,date:n,description:r,placeholder:s}={},label:i,localized:l,required:a,timezone:c},path:u,readOnly:d,validate:f}=t,m=n?.pickerAppearance||"default",h=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:p}=H(),{i18n:g}=L(),{dispatchFields:b,setModified:x}=ke(),v=K1((B,V)=>{if(typeof f=="function")return f(B,{...V,required:a})},[f,a]),{customComponents:{AfterInput:C,BeforeInput:y,Description:S,Error:w,Label:_}={},disabled:D,path:R,setValue:T,showError:I,value:F}=Ne({potentiallyStalePath:u,validate:v}),P=R+"_tz",A=Tt(([B,V])=>B?.[P]),k=p.admin.timezones.supportedTimezones,$=["dayOnly","default","monthOnly"].includes(m),j=A?.value,N=pI(()=>{if(c&&j&&h&&F){let B=Yt.tz(j),V=Yt.tz(h),G=new Yt(F).withTimeZone(j),z=Yr(G,B);return Yr(z,V).toISOString()}return F},[c,j,F,h]),E=pI(()=>rt(e),[e]),O=K1(B=>{if(!(d||D))if(c&&j&&B){let V=Yt.tz(j);if($){let G=B.getTimezoneOffset()/60,z=B.getHours()+G;B.setHours(z);let U=Yr(B,V);T(U.toISOString()||null)}else{let G=new Yt(B),z=Yr(G,V);T(z.toISOString()||null)}}else T(B?.toISOString()||null)},[d,D,c,j,$,T]),M=K1(B=>{P&&(b({type:"UPDATE",path:P,value:B}),x(!0))},[b,x,P]);return fI("div",{className:[De,hI,o,I&&`${hI}--has-error`,(d||D)&&"read-only"].filter(Boolean).join(" "),style:E,children:[$s(me,{CustomComponent:_,Fallback:$s(Se,{label:i,localized:l,path:R,required:a})}),fI("div",{className:`${De}__wrap`,id:`field-${R.replace(/\./g,"__")}`,children:[$s(me,{CustomComponent:w,Fallback:$s(ze,{path:R,showError:I})}),y,$s(Na,{...n,onChange:O,overrides:{...n?.overrides},placeholder:yj(s,g),readOnly:d||D,value:N}),c&&k.length>0&&$s(Uc,{id:`${R}-timezone-picker`,onChange:M,options:k,required:a,selectedTimezone:j}),C]}),$s(me,{CustomComponent:S,Fallback:$s(Ge,{description:r,path:R})})]})},Xc=Me(wj);import{jsx as Li,jsxs as gI}from"react/jsx-runtime";import{getTranslation as Sj}from"@payloadcms/translations";import{useCallback as Ij,useMemo as _j}from"react";var Dj=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s}={},label:i,localized:l,required:a}={},path:c,readOnly:u,validate:d}=t,{i18n:f}=L(),m=Ij((D,R)=>{if(typeof d=="function")return d(D,{...R,required:a})},[d,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:x}={},disabled:v,path:C,setValue:y,showError:S,value:w}=Ne({potentiallyStalePath:c,validate:m}),_=_j(()=>rt(e),[e]);return gI("div",{className:[De,"email",n,S&&"error",(u||v)&&"read-only"].filter(Boolean).join(" "),style:_,children:[Li(me,{CustomComponent:x,Fallback:Li(Se,{label:i,localized:l,path:C,required:a})}),gI("div",{className:`${De}__wrap`,children:[Li(me,{CustomComponent:b,Fallback:Li(ze,{path:C,showError:S})}),p,Li("input",{autoComplete:o,disabled:u||v,id:`field-${C.replace(/\./g,"__")}`,name:C,onChange:y,placeholder:Sj(s,f),required:a,type:"email",value:w||""}),h]}),Li(me,{CustomComponent:g,Fallback:Li(Ge,{description:r,path:C})})]})},$i=Me(Dj);import{jsx as Yn,jsxs as wf}from"react/jsx-runtime";import{getTranslation as kj}from"@payloadcms/translations";import{groupHasName as _I}from"payload/shared";import{useMemo as jj}from"react";import{jsx as Fj}from"react/jsx-runtime";import{createContext as Tj,use as Rj}from"react";var bI=Tj(!1),vI=({children:t,withinRow:e=!0})=>Fj(bI,{value:e,children:t}),xI=()=>Rj(bI);import{jsx as Pj}from"react/jsx-runtime";import{createContext as Aj,use as Ej}from"react";var CI=Aj(!1),eb=({children:t,withinTab:e=!0})=>Pj(CI,{value:e,children:t}),yI=()=>Ej(CI);import{jsx as Nj}from"react/jsx-runtime";import{createContext as Lj,use as $j}from"react";var wI=Lj(!1),SI=({children:t,withinGroup:e=!0})=>Nj(wI,{value:e,children:t}),II=()=>$j(wI);var on="group-field",Mj=t=>{let{field:e,field:{admin:{className:o,description:n,hideGutter:r}={},fields:s,label:i},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:f,schemaPath:m}=t,h=m??(e.type==="group"&&_I(e)?e.name:u),{i18n:p}=L(),{isWithinCollapsible:g}=Ts(),b=II(),x=xI(),v=yI(),{customComponents:{AfterInput:C,BeforeInput:y,Description:S,Label:w}={},errorPaths:_}=Ne({path:u}),D=oo(),R=_.length,T=D&&R>0,I=!(g||b||x),F=jj(()=>rt(e),[e]);return wf("div",{className:[De,on,I&&`${on}--top-level`,g&&`${on}--within-collapsible`,b&&`${on}--within-group`,x&&`${on}--within-row`,v&&`${on}--within-tab`,!r&&b&&`${on}--gutter`,T&&`${on}--has-error`,o].filter(Boolean).join(" "),id:`field-${u?.replace(/\./g,"__")}`,style:F,children:[Yn(SI,{children:wf("div",{className:`${on}__wrap`,children:[!!(w||S||i||T)&&wf("div",{className:`${on}__header`,children:[!!(w||S||i)&&wf("header",{children:[Yn(me,{CustomComponent:w,Fallback:Yn("h3",{className:`${on}__title`,children:Yn(Se,{as:"span",label:kj(i,p),localized:!1,path:u,required:!1})})}),Yn(me,{CustomComponent:S,Fallback:Yn(Ge,{description:n,path:u})})]}),T&&Yn(ho,{count:R,i18n:p,withMessage:!0})]}),y,_I(e)?Yn(_o,{fields:s,margins:"small",parentIndexPath:"",parentPath:u,parentSchemaPath:h,permissions:d===!0?d:d?.fields,readOnly:f}):Yn(_o,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:f})]})}),C]})};var Zc=Me(Mj);import{c as Bj}from"react/compiler-runtime";import{jsx as Oj}from"react/jsx-runtime";import{useEffect as Vj}from"react";var Gj=t=>{let e=Bj(12),{disableModifyingForm:o,path:n,value:r}=t,s=o===void 0?!0:o,i;e[0]!==n?(i={potentiallyStalePath:n},e[0]=n,e[1]=i):i=e[1];let{path:l,setValue:a,value:c}=Ne(i),u,d;e[2]!==s||e[3]!==a||e[4]!==r?(u=()=>{r!==void 0&&a(r,s)},d=[r,a,s],e[2]=s,e[3]=a,e[4]=r,e[5]=u,e[6]=d):(u=e[5],d=e[6]),Vj(u,d);let f=`field-${l?.replace(/\./g,"__")}`,m=c||"",h;return e[7]!==l||e[8]!==a||e[9]!==f||e[10]!==m?(h=Oj("input",{id:f,name:l,onChange:a,type:"hidden",value:m}),e[7]=l,e[8]=a,e[9]=f,e[10]=m,e[11]=h):h=e[11],h},Yc=Me(Gj);var Pb=ai(ob(),1);import{jsx as Oi,jsxs as kB}from"react/jsx-runtime";import{fieldAffectsData as jB,flattenTopLevelFields as MB}from"payload/shared";import{useMemo as E4}from"react";import{jsx as Qo,jsxs as Ka}from"react/jsx-runtime";import{getTranslation as P4}from"@payloadcms/translations";import{hoistQueryParamsToAnd as LB,transformColumnsToPreferences as A4}from"payload/shared";import{Fragment as $B,useCallback as Bf,useEffect as Tb,useState as Jn}from"react";import{jsx as kI}from"react/jsx-runtime";import{useRouter as Jj,useSearchParams as qj}from"next/navigation.js";import{isNumber as Qj,transformColumnsToSearchParams as Kj}from"payload/shared";import*as sb from"qs-esm";import eM,{useCallback as Za,useEffect as tM,useMemo as oM,useRef as rM,useState as jI}from"react";import{jsx as Uj}from"react/jsx-runtime";import{createContext as Xj,use as Zj}from"react";var EI=Xj({}),rb=({children:t,...e})=>Uj(EI,{value:{isInDrawer:!!e.drawerSlug,...e},children:t}),fr=()=>{let t=Zj(EI);if(!t)throw new Error("useListDrawerContext must be used within a ListDrawerContextProvider");return t};import*as NI from"qs-esm";function fo(t){let e=t.toString();return NI.parse(e,{depth:10,ignoreQueryPrefix:!0})}import{createContext as LI,use as Yj}from"react";var nb=LI({}),Lt=()=>Yj(nb),$I=LI(!1);var ib=({children:t,collectionSlug:e,columns:o,data:n,defaultLimit:r,defaultSort:s,listPreferences:i,modifySearchParams:l,onQueryChange:a,orderableFieldName:c})=>{"use no memo";let u=Jj(),d=qj(),{startRouteTransition:f}=Ue(),[m,h]=jI(!1),p=oM(()=>fo(d),[d]),g=rM({});g.current.modified=m;let{onQueryChange:b}=fr(),[x,v]=jI(()=>l?p:{limit:String(r),sort:s}),C=Za((I={})=>{let F="page"in I?I.page:x?.page;return("where"in I||"search"in I)&&(F="1"),{...x,...I,columns:"columns"in I?I.columns:x.columns,limit:"limit"in I?I.limit:x?.limit??String(r),page:F,preset:"preset"in I?I.preset:x?.preset,search:"search"in I?I.search:x?.search,sort:"sort"in I?I.sort:x?.sort??s,where:"where"in I?I.where:x?.where}},[x,r,s]),y=Za(async(I,F)=>{h(F!==void 0?F:!0);let P=C(I);l?f(()=>u.replace(`${sb.stringify({...P,columns:JSON.stringify(P.columns)},{addQueryPrefix:!0})}`)):(typeof b=="function"||typeof a=="function")&&(b||a)(P),v(P)},[C,l,b,a,f,u]),S=Za(async I=>{await y({page:String(I)})},[y]),w=eM.useCallback(async I=>{await y({limit:String(I),page:"1"})},[y]),_=Za(async I=>{await y({search:I===""?void 0:I})},[y]),D=Za(async I=>{await y({sort:I})},[y]),R=Za(async I=>{await y({where:I})},[y]),T=Gt(()=>{let I=!1,F={...x||{}};Qj(r)&&!("limit"in x)&&(F.limit=String(r),I=!0),s&&!("sort"in x)&&(F.sort=s,I=!0),o&&i?.columns&&!("columns"in x)&&(F.columns=Kj(o),I=!0),I&&(v(F),window.history.replaceState(null,"",`?${sb.stringify({...F,columns:JSON.stringify(F.columns)})}`))});return tM(()=>{l&&T()},[s,r,l,o]),kI(nb,{value:{collectionSlug:e,data:n,handlePageChange:S,handlePerPageChange:w,handleSearchChange:_,handleSortChange:D,handleWhereChange:R,orderableFieldName:c,query:x,refineListData:y,setModified:h,...g.current},children:kI($I,{value:m,children:t})})};import{jsx as nM}from"react/jsx-runtime";import sM,{createContext as iM,useCallback as ki}from"react";var MI=iM(void 0),Rt=()=>{let t=sM.use(MI);if(t===void 0)throw new Error("useServerFunctions must be used within a ServerFunctionsProvider");return t},ab=({children:t,serverFunction:e})=>{if(!e)throw new Error("ServerFunctionsProvider requires a serverFunction prop");let o=ki(async c=>await e({name:"render-document-slots",args:c}),[e]),n=ki(async c=>{let{signal:u,...d}=c;try{if(!u?.aborted){let m=await e({name:"schedule-publish",args:{...d}});if(!u?.aborted)return m}}catch(m){console.error(m)}let f=`Error scheduling ${d.type}`;return d.doc&&(f+=` for document with ID ${d.doc.value} in collection ${d.doc.relationTo}`),{error:f}},[e]),r=ki(async c=>{let{signal:u,...d}=c||{};try{if(!u?.aborted){let f=await e({name:"form-state",args:{fallbackLocale:!1,...d}});if(!u?.aborted)return f}}catch(f){console.error(f)}return{state:null}},[e]),s=ki(async c=>{let{signal:u,...d}=c||{};try{if(!u?.aborted){let f=await e({name:"table-state",args:{fallbackLocale:!1,...d}});if(!u?.aborted)return f}}catch(f){console.error(f)}},[e]),i=ki(async c=>{let{signal:u,...d}=c||{};try{return await e({name:"render-document",args:{fallbackLocale:!1,...d}})}catch(f){console.error(f)}},[e]),l=ki(async c=>{let{signal:u,...d}=c||{};try{let f=await e({name:"copy-data-from-locale",args:d});if(!u?.aborted)return f}catch(f){console.error(f)}},[e]),a=ki(async c=>{let{signal:u,...d}=c||{};try{let f=await e({name:"get-folder-results-component-and-data",args:d});if(!u?.aborted)return f}catch(f){console.error(f)}},[e]);return nM(MI,{value:{copyDataFromLocale:l,getDocumentSlots:o,getFolderResultsComponentAndData:a,getFormState:r,getTableState:s,renderDocument:i,schedulePublish:n,serverFunction:e},children:t})};import{jsx as cM}from"react/jsx-runtime";import{transformColumnsToSearchParams as BI}from"payload/shared";import OI,{startTransition as VI,useCallback as cb,useRef as uM}from"react";import{createContext as aM,use as lM}from"react";var lb=aM({}),Ya=()=>lM(lb);var qc=({children:t,collectionSlug:e,columnState:o,LinkedCellOverride:n})=>{let{getEntityConfig:r}=H(),{query:s,refineListData:i}=Lt(),{admin:{defaultColumns:l}={}}=r({collectionSlug:e}),[a,c]=OI.useOptimistic(o,(p,g)=>g),u=uM({}),d=cb(async p=>{let g=(a||[]).map(b=>b.accessor===p?{...b,active:!b.active}:b);VI(()=>{c(g)}),await i({columns:BI(g)})},[i,a,c]),f=cb(async p=>{let{fromIndex:g,toIndex:b}=p,x=[...a||[]],[v]=x.splice(g,1);x.splice(b,0,v),VI(()=>{c(x)}),await i({columns:BI(x)})},[a,i,c]),m=cb(async p=>{let g=s.columns;p.forEach(b=>{let x=g.findIndex(v=>b===v);x!==void 0&&g[x][0]==="-"&&(g[x]=b.slice(1))}),await i({columns:g})},[s,i]),h=OI.useCallback(async()=>{await i({columns:l||[]})},[l,i]);return cM(lb,{value:{columns:a,LinkedCellOverride:n,moveColumn:f,resetColumnsState:h,setActiveColumns:m,toggleColumn:d,...u.current},children:t})};import{jsx as GI}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as mM,fieldIsID as fM}from"payload/shared";import{useId as pM,useMemo as zI}from"react";import{jsx as ji}from"react/jsx-runtime";import dM from"react";var Qc="pill-selector",ub=({draggable:t,onClick:e,pills:o})=>{let n=dM.useMemo(()=>t?({children:r})=>ji(Fr,{className:Qc,ids:o.map(s=>s.name),onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{t.onDragEnd({moveFromIndex:s,moveToIndex:i})},children:r}):({children:r})=>ji("div",{className:Qc,children:r}),[t,o]);return ji(n,{children:o.map((r,s)=>ji(mt,{alignIcon:"left","aria-checked":r.selected,className:[`${Qc}__pill`,r.selected&&`${Qc}__pill--selected`].filter(Boolean).join(" "),draggable:!!t,icon:r.selected?ji(ct,{}):ji(Dr,{}),id:r.name,onClick:()=>{e&&e({pill:r})},size:"small",children:r.Label??ji("span",{className:`${Qc}__pill-label`,children:r.name})},r.key??`${r.name}-${s}`))})};var If=({collectionSlug:t})=>{let{columns:e,moveColumn:o,toggleColumn:n}=Ya(),r=pM(),s=ot(),i=zI(()=>e.filter(a=>!(mM(a.field)&&!fM(a.field))&&!a?.field?.admin?.disableListColumn),[e]),l=zI(()=>i?i.map((a,c)=>{let{accessor:u,active:d,field:f}=a,m="labelWithPrefix"in f&&f.labelWithPrefix!==void 0?f.labelWithPrefix:"label"in f&&f.label!==void 0?f.label:"name"in f&&f.name!==void 0?f.name:void 0;return{name:u,key:`${t}-${u}-${c}${s?`-${s}-`:""}${r}`,Label:GI(Se,{label:m,unstyled:!0}),selected:d}}):null,[t,s,i,r]);return l?GI(ub,{draggable:{onDragEnd:({moveFromIndex:a,moveToIndex:c})=>{o({fromIndex:a,toIndex:c})}},onClick:({pill:a})=>{n(a.name)},pills:l}):null};import{c as o4}from"react/compiler-runtime";import{jsx as Ff}from"react/jsx-runtime";import{createElement as PM}from"react";import{useEffect as AM,useId as EM,useState as NM}from"react";import{c as hM}from"react/compiler-runtime";import{useState as gM}from"react";var _f=t=>{let e=hM(3),{getEntityConfig:o}=H(),n;e[0]!==o||e[1]!==t?(n=()=>t?(typeof t=="string"?[t]:t).map(i=>o({collectionSlug:i})):[],e[0]=o,e[1]=t,e[2]=n):n=e[2];let[r]=gM(n);return r};import{jsx as KI}from"react/jsx-runtime";import TM,{useCallback as Kc,useEffect as e4,useRef as RM,useState as pb}from"react";import{c as fb}from"react/compiler-runtime";import{jsx as Mi,jsxs as YI}from"react/jsx-runtime";import{getTranslation as wM}from"@payloadcms/translations";import SM from"react";import{c as vM}from"react/compiler-runtime";import{jsx as xM,jsxs as CM}from"react/jsx-runtime";import UI,{createContext as yM}from"react";import{c as bM}from"react/compiler-runtime";import*as ks from"react";var db=t=>{let e=bM(13),{delayBeforeShow:o,inTimeout:n,minShowTime:r,outTimeout:s,show:i}=t,l=n+r+s,[a,c]=$h(o),[u,d]=ks.useState(!1),[f,m]=ks.useState(!1),h=ks.useRef(0),p=ks.useRef(void 0),g;e[0]!==s?(g=()=>{m(!0),p.current=setTimeout(()=>{d(!1),m(!1)},s)},e[0]=s,e[1]=g):g=e[1];let b=g,x,v;e[2]!==a||e[3]!==u||e[4]!==i||e[5]!==l||e[6]!==b?(x=()=>{let y=a&&!u&&i,S=u&&!i;if(y)h.current=Date.now(),d(!0);else if(S){let w=Date.now()-h.current,_=l-w;clearTimeout(p.current),p.current=setTimeout(b,Math.max(0,_))}},v=[u,i,b,l,a],e[2]=a,e[3]=u,e[4]=i,e[5]=l,e[6]=b,e[7]=x,e[8]=v):(x=e[7],v=e[8]),ks.useEffect(x,v);let C;return e[9]!==u||e[10]!==f||e[11]!==c?(C={isMounted:u,isUnmounting:f,triggerDelayedRender:c},e[9]=u,e[10]=f,e[11]=c,e[12]=C):C=e[12],C};var WI={isLoading:!1,loaders:[],loadingText:"",overlayType:null},HI=(t,e)=>{let o=[...t.loaders],{type:n="fullscreen",key:r="user",loadingText:s}=e.payload;if(e.type==="add")o.push({type:n,key:r,loadingText:s});else if(e.type==="remove"){let l=o.findIndex(a=>a.key===r&&a.type===n);o.splice(l,1)}let i=o?.length>0?o[o.length-1]:null;return{isLoading:!!i,loaders:o,loadingText:i?.loadingText||t?.loadingText,overlayType:i?.type||t?.overlayType}};var mb=250,XI=yM({isOnScreen:!1,toggleLoadingOverlay:void 0}),ZI=t=>{let e=vM(21),{children:o}=t,{t:n}=L(),r;e[0]!==n?(r=n("general:loading"),e[0]=n,e[1]=r):r=e[1];let s=r,[i,l]=UI.useReducer(HI,WI),a;e[2]!==i.isLoading?(a={delayBeforeShow:1e3,inTimeout:mb,minShowTime:500,outTimeout:mb,show:i.isLoading},e[2]=i.isLoading,e[3]=a):a=e[3];let{isMounted:c,isUnmounting:u,triggerDelayedRender:d}=db(a),f;e[4]!==s||e[5]!==d?(f=p=>{let{type:g,isLoading:b,key:x,loadingText:v}=p,C=v===void 0?s:v;b?(d(),l({type:"add",payload:{type:g,key:x,loadingText:C}})):l({type:"remove",payload:{type:g,key:x}})},e[4]=s,e[5]=d,e[6]=f):f=e[6];let m=f,h;if(e[7]!==o||e[8]!==s||e[9]!==c||e[10]!==u||e[11]!==i.loadingText||e[12]!==i.overlayType||e[13]!==m){let p;e[15]!==s||e[16]!==c||e[17]!==u||e[18]!==i.loadingText||e[19]!==i.overlayType?(p=c&&xM(rn,{animationDuration:`${mb}ms`,loadingText:i.loadingText||s,overlayType:i.overlayType,show:!u}),e[15]=s,e[16]=c,e[17]=u,e[18]=i.loadingText,e[19]=i.overlayType,e[20]=p):p=e[20],h=CM(XI,{value:{isOnScreen:c,toggleLoadingOverlay:m},children:[p,o]}),e[7]=o,e[8]=s,e[9]=c,e[10]=u,e[11]=i.loadingText,e[12]=i.overlayType,e[13]=m,e[14]=h}else h=e[14];return h},Df=()=>{let t=UI.use(XI);if(t===void 0)throw new Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return t};var nn="loading-overlay",rn=t=>{let e=fb(11),{animationDuration:o,loadingText:n,overlayType:r,show:s}=t,i=s===void 0?!0:s,{t:l}=L(),a=i?`${nn}--entering`:`${nn}--exiting`,c=r?`${nn}--${r}`:"",u;e[0]!==a||e[1]!==c?(u=[nn,a,c].filter(Boolean),e[0]=a,e[1]=c,e[2]=u):u=e[2];let d=u.join(" "),f=o||"500ms",m;if(e[3]!==n||e[4]!==l||e[5]!==d||e[6]!==f){let h;e[8]!==n||e[9]!==l?(h=n||l("general:loading"),e[8]=n,e[9]=l,e[10]=h):h=e[10],m=YI("div",{className:d,style:{animationDuration:f},children:[YI("div",{className:`${nn}__bars`,children:[Mi("div",{className:`${nn}__bar`}),Mi("div",{className:`${nn}__bar`}),Mi("div",{className:`${nn}__bar`}),Mi("div",{className:`${nn}__bar`}),Mi("div",{className:`${nn}__bar`})]}),Mi("span",{className:`${nn}__text`,children:h})]}),e[3]=n,e[4]=l,e[5]=d,e[6]=f,e[7]=m}else m=e[7];return m},JI=t=>{let e=fb(7),{name:o,type:n,loadingText:r,show:s}=t,i=n===void 0?"fullscreen":n,{toggleLoadingOverlay:l}=Df(),a,c;return e[0]!==o||e[1]!==r||e[2]!==s||e[3]!==l||e[4]!==i?(a=()=>(l({type:i,isLoading:s,key:o,loadingText:r||void 0}),()=>{l({type:i,isLoading:!1,key:o})}),c=[s,l,o,i,r],e[0]=o,e[1]=r,e[2]=s,e[3]=l,e[4]=i,e[5]=a,e[6]=c):(a=e[5],c=e[6]),SM.useEffect(a,c),null},IM=t=>{let e=fb(6),{name:o,type:n,action:r,formIsLoading:s,loadingSuffix:i}=t,l=n===void 0?"fullscreen":n,a=s===void 0?!1:s,c=_r(),{i18n:u,t:d}=L(),m=`${{create:d("general:creating"),loading:d("general:loading"),update:d("general:updating")}[r]} ${i?wM(i,u):""}`,h;return e[0]!==a||e[1]!==c||e[2]!==o||e[3]!==m||e[4]!==l?(h=Mi(JI,{loadingText:m.trim(),name:o,show:a||c,type:l}),e[0]=a,e[1]=c,e[2]=o,e[3]=m,e[4]=l,e[5]=h):h=e[5],h};function pr(t){if(t)try{t.abort()}catch{}}function hr(t){let e=new AbortController;if(t.current)try{t.current.abort()}catch{}return t.current=e,e}import{jsx as _M}from"react/jsx-runtime";import{createContext as DM,use as FM}from"react";var qI=DM({}),QI=({children:t,...e})=>_M(qI,{value:e,children:t}),Bi=()=>{let t=FM(qI);if(!t)throw new Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return t};var t4=({id:t,collectionSlug:e,disableActions:o,drawerSlug:n,initialData:r,onDelete:s,onDuplicate:i,onSave:l,overrideEntityVisibility:a=!0,redirectAfterCreate:c,redirectAfterDelete:u,redirectAfterDuplicate:d})=>{let{getEntityConfig:f}=H(),m=we(),[h]=pb(()=>f({collectionSlug:e})),p=TM.useRef(null),{closeModal:g}=ce(),{t:b}=L(),{renderDocument:x}=Rt(),[v,C]=pb(void 0),[y,S]=pb(!0),w=RM(!1),_=Kc((F,P=!1)=>{let A=hr(p);(async()=>{P&&S(!0);try{let $=await x({collectionSlug:e,disableActions:o,docID:F,drawerSlug:n,initialData:r,locale:m,overrideEntityVisibility:a,redirectAfterCreate:c,redirectAfterDelete:u!==void 0?u:!1,redirectAfterDuplicate:d!==void 0?d:!1,signal:A.signal});$?.Document&&(C($.Document),S(!1))}catch($){ue.error($?.message||b("error:unspecific")),g(n)}p.current=null})()},[e,o,n,r,u,d,x,c,g,a,b,m]),D=Kc(F=>{_(F.doc.id),typeof l=="function"&&l({...F,collectionConfig:h})},[l,h,_]),R=Kc(F=>{_(F.doc.id),typeof i=="function"&&i({...F,collectionConfig:h})},[i,h,_]),T=Kc(F=>{typeof s=="function"&&s({...F,collectionConfig:h}),g(n)},[s,g,n,h]),I=Kc(()=>{_(void 0,!0)},[_]);return e4(()=>{!v&&!w.current&&(_(t,!0),w.current=!0)},[v,_,t]),e4(()=>{let F=p.current;return()=>{pr(F)}},[]),y?KI(rn,{}):KI(QI,{clearDoc:I,drawerSlug:n,onDelete:T,onDuplicate:R,onSave:D,children:v})};var js="doc-drawer",LM=({id:t,collectionSlug:e,depth:o,uuid:n})=>`doc-drawer_${e}_${o}${t?`_${t}`:""}_${n}`,$M=t=>{let e=o4(21),o,n,r,s,i,l,a,c;e[0]!==t?({id:l,children:o,className:n,collectionSlug:r,disabled:s,drawerSlug:i,onClick:a,...c}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8]);let{t:u}=L(),[d]=_f(r),f=l?"general:editLabel":"fields:addNewLabel",m=d?.labels.singular,h;if(e[9]!==o||e[10]!==n||e[11]!==s||e[12]!==i||e[13]!==a||e[14]!==c||e[15]!==u||e[16]!==f||e[17]!==m){let p=u(f,{label:m}),g;e[19]!==n?(g=[n,`${js}__toggler`].filter(Boolean),e[19]=n,e[20]=g):g=e[20],h=Ff(Vn,{"aria-label":p,className:g.join(" "),disabled:s,onClick:a,slug:i,...c,children:o}),e[9]=o,e[10]=n,e[11]=s,e[12]=i,e[13]=a,e[14]=c,e[15]=u,e[16]=f,e[17]=m,e[18]=h}else h=e[18];return h},hb=t=>{let{drawerSlug:e}=t;return Ff(Nt,{className:js,gutter:!1,Header:null,slug:e,children:Ff(t4,{...t})})},vt=t=>{let e=o4(38),{id:o,collectionSlug:n,overrideEntityVisibility:r}=t,s=ot(),i=EM(),{closeModal:l,modalState:a,openModal:c,toggleModal:u}=ce(),[d,f]=NM(!1),m;e[0]!==n||e[1]!==s||e[2]!==o||e[3]!==i?(m=LM({id:o,collectionSlug:n,depth:s,uuid:i}),e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=m):m=e[4];let h=m,p,g;e[5]!==h||e[6]!==a?(p=()=>{f(!!a[h]?.isOpen)},g=[a,h],e[5]=h,e[6]=a,e[7]=p,e[8]=g):(p=e[7],g=e[8]),AM(p,g);let b;e[9]!==h||e[10]!==u?(b=()=>{u(h)},e[9]=h,e[10]=u,e[11]=b):b=e[11];let x=b,v;e[12]!==l||e[13]!==h?(v=()=>{l(h)},e[12]=l,e[13]=h,e[14]=v):v=e[14];let C=v,y;e[15]!==h||e[16]!==c?(y=()=>{c(h)},e[15]=h,e[16]=c,e[17]=y):y=e[17];let S=y,w,_;e[18]!==n||e[19]!==h||e[20]!==o||e[21]!==r?(_=$=>PM(hb,{...$,collectionSlug:n,drawerSlug:h,id:o,key:h,overrideEntityVisibility:r}),e[18]=n,e[19]=h,e[20]=o,e[21]=r,e[22]=_):_=e[22],w=_;let D=w,R,T;e[23]!==n||e[24]!==h||e[25]!==o?(T=$=>Ff($M,{...$,collectionSlug:n,drawerSlug:h,id:o}),e[23]=n,e[24]=h,e[25]=o,e[26]=T):T=e[26],R=T;let I=R,F,P;e[27]!==C||e[28]!==h||e[29]!==s||e[30]!==d||e[31]!==S||e[32]!==x?(P={closeDrawer:C,drawerDepth:s,drawerSlug:h,isDrawerOpen:d,openDrawer:S,toggleDrawer:x},e[27]=C,e[28]=h,e[29]=s,e[30]=d,e[31]=S,e[32]=x,e[33]=P):P=e[33],F=P;let A=F,k;return e[34]!==D||e[35]!==A||e[36]!==I?(k=[D,I,A],e[34]=D,e[35]=A,e[36]=I,e[37]=k):k=e[37],k};import{c as kM}from"react/compiler-runtime";import{jsx as jM}from"react/jsx-runtime";import{createContext as MM,use as BM,useEffect as OM,useReducer as VM,useRef as GM}from"react";function r4(t,e){switch(e.type){case"ADD_LOADED":{let o={...t};typeof o[e.relationTo]!="object"&&(o[e.relationTo]={});let n=[...e.idsToLoad];return Array.isArray(e.docs)&&e.docs.forEach(r=>{n.splice(n.indexOf(r.id),1),o[e.relationTo][r.id]=r}),n.forEach(r=>{o[e.relationTo][r]=!1}),o}case"REQUEST":{let o={...t};return e.docs.forEach(({relationTo:n,value:r})=>{typeof o[n]!="object"&&(o[n]={}),o[n][r]=null}),o}default:return t}}var n4=MM({}),eu=t=>{let e=kM(15),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=VM(r4,n),i=lr(r,100),{config:l}=H(),{routes:a,serverURL:c}=l,{api:u}=a,{i18n:d}=L(),{code:f}=we(),m=GM(f),h;e[1]!==u||e[2]!==i||e[3]!==d||e[4]!==f||e[5]!==c?(h=y=>{let S=y===void 0?!1:y;Object.entries(i).forEach(async w=>{let[_,D]=w,R=[];if(Object.entries(D).forEach(T=>{let[I,F]=T;(F===null||S)&&R.push(I)}),R.length>0){let T=`${c}${u}/${_}`,I=new URLSearchParams;if(I.append("depth","0"),I.append("limit","250"),f&&I.append("locale",f),R&&R.length>0){let A=R.map(zM);I.append("where[id][in]",A.join(","))}let F=`?${I.toString()}`,P=await fetch(`${T}${F}`,{credentials:"include",headers:{"Accept-Language":d.language}});if(P.ok){let A=await P.json();A.docs&&s({type:"ADD_LOADED",docs:A.docs,idsToLoad:R,relationTo:_})}else s({type:"ADD_LOADED",docs:[],idsToLoad:R,relationTo:_})}})},e[1]=u,e[2]=i,e[3]=d,e[4]=f,e[5]=c,e[6]=h):h=e[6];let p=h,g,b;e[7]!==p||e[8]!==f?(g=()=>{p(f&&m.current!==f),m.current=f},b=[f,p],e[7]=p,e[8]=f,e[9]=g,e[10]=b):(g=e[9],b=e[10]),OM(g,b);let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=y=>{s({type:"REQUEST",docs:y})},e[11]=x):x=e[11];let v=x,C;return e[12]!==o||e[13]!==r?(C=jM(n4,{value:{documents:r,getRelationships:v},children:o}),e[12]=o,e[13]=r,e[14]=C):C=e[14],C},gb=()=>BM(n4);function zM(t){return String(t)}import{jsx as Ja}from"react/jsx-runtime";import{getTranslation as WM}from"@payloadcms/translations";var bb=({allowCreate:t,baseClass:e,buttonStyle:o,className:n,collections:r,i18n:s,icon:i,label:l,onClick:a,permissions:c,relationTo:u})=>t?Array.isArray(u)?Ja("div",{className:`${e}__add-new-polymorphic-wrapper`,children:Ja(ut,{button:Ja(se,{buttonStyle:o,className:n,icon:i,children:l}),buttonType:"custom",horizontalAlign:"center",render:({close:f})=>Ja(Ce.ButtonGroup,{children:u.map(m=>c.collections[m]?.create?Ja(Ce.Button,{className:`${e}__relation-button--${m}`,onClick:()=>{f(),a(m)},children:WM(r.find(h=>h.slug===m).labels.singular,s)},m):null)}),size:"medium"})}):Ja(se,{buttonStyle:o,className:n,onClick:()=>a(),children:l}):null;import{c as DB}from"react/compiler-runtime";import{jsx as jf,jsxs as FB}from"react/jsx-runtime";import"react";import{c as SB}from"react/compiler-runtime";import{jsx as w4}from"react/jsx-runtime";import S4 from"react";import{c as gB}from"react/compiler-runtime";import{jsx as Qa,jsxs as bB}from"react/jsx-runtime";import{getTranslation as vB}from"@payloadcms/translations";import{fieldAffectsData as xB,fieldIsID as CB}from"payload/shared";import yB from"react";import{formatAdminURL as Tf}from"payload/shared";import{getTranslation as HM}from"@payloadcms/translations";import UM from"react";var s4=(t,e,o)=>{if((e?.type==="select"||e?.type==="radio")&&Array.isArray(e.options)){let n=e.options.find(r=>typeof r=="object"?r.value===t:r===t);if(n)return typeof n=="object"&&"label"in n?UM.isValidElement(n.label)?n.label:HM(n.label,o)||n.value:n}return t};import{jsx as i4}from"react/jsx-runtime";import"react";var Rf=({cellData:t,nowrap:e})=>{let o=t?.length>100?`${t.substring(0,100)}\u2026`:t;return i4("code",{className:"code-cell",style:e?{whiteSpace:"nowrap"}:{},children:i4("span",{children:o})})};import{c as XM}from"react/compiler-runtime";import{jsx as ZM}from"react/jsx-runtime";import{getTranslation as a4}from"@payloadcms/translations";import"react";var l4=t=>{let e=XM(2),{cellData:o,field:n}=t,{labels:r}=n,{i18n:s}=L(),i=o??[],l=i.length===1?`${i.length} ${a4(r?.singular||s.t("general:rows"),s)}`:`${i.length} ${a4(r?.plural||s.t("general:rows"),s)}`,a;return e[0]!==l?(a=ZM("span",{children:l}),e[0]=l,e[1]=a):a=e[1],a};import{c as YM}from"react/compiler-runtime";import{jsx as JM}from"react/jsx-runtime";import{getTranslation as Pf}from"@payloadcms/translations";import"react";var c4=t=>{let e=YM(2),{cellData:o,field:n}=t,{blockReferences:r,blocks:s,labels:i}=n,{i18n:l}=L(),{config:a}=H(),c=Array.isArray(o)?o.map(qM):[],u=(r??s)?.map(h=>{let p=typeof h=="string"?a.blocksMap[h]:h;return{slug:p.slug,label:Pf(p.labels.singular,l)}}),d=`0 ${Pf(i?.plural,l)}`,f=h=>h.map(p=>u.filter(b=>b.slug===p)?.[0]?.label).join(", ");if(c.length>5){let h=c.length-5;d=`${c.length} ${Pf(i?.plural,l)} - ${l.t("fields:itemsAndMore",{count:h,items:f(c.slice(0,5))})}`}else c.length>0&&(d=`${c.length} ${Pf(c.length===1?i?.singular:i?.plural,l)} - ${f(c)}`);let m;return e[0]!==d?(m=JM("span",{children:d}),e[0]=d,e[1]=m):m=e[1],m};function qM(t){let{blockType:e}=t;return e}import{c as QM}from"react/compiler-runtime";import{jsx as u4}from"react/jsx-runtime";import"react";var d4=t=>{let e=QM(3),{cellData:o}=t,{t:n}=L(),r=`general:${o}`,s;return e[0]!==n||e[1]!==r?(s=u4("code",{className:"bool-cell",children:u4("span",{children:n(r).toLowerCase()})}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};import{c as KM}from"react/compiler-runtime";import{jsx as eB}from"react/jsx-runtime";import"react";var vb=t=>{let e=KM(8),{cellData:o,field:n}=t,{admin:r}=n,s;e[0]!==r?(s=r===void 0?{}:r,e[0]=r,e[1]=s):s=e[1];let{date:i}=s,{config:l}=H(),{admin:a}=l,{dateFormat:c}=a,u=i?.displayFormat||c,{i18n:d}=L(),f;e[2]!==o||e[3]!==u||e[4]!==d?(f=o&&Rr({date:o,i18n:d,pattern:u}),e[2]=o,e[3]=u,e[4]=d,e[5]=f):f=e[5];let m;return e[6]!==f?(m=eB("span",{children:f}),e[6]=f,e[7]=m):m=e[7],m};import{jsx as Cb,jsxs as oB,Fragment as rB}from"react/jsx-runtime";import{getBestFitFromSizes as nB,isImage as sB}from"payload/shared";import"react";import{c as m4}from"react/compiler-runtime";import{jsx as qa,jsxs as f4}from"react/jsx-runtime";import Ef from"react";import{jsx as xb,jsxs as tB}from"react/jsx-runtime";import"react";var Af=()=>tB("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[xb("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),xb("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),xb("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]});var Nf="thumbnail",gr=t=>{let e=m4(17),{className:o,doc:n,fileSrc:r,imageCacheTag:s,size:i}=t,l=o===void 0?"":o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{filename:c}=a,[u,d]=Ef.useState(void 0),f=`${Nf}--size-${i||"medium"}`,m;e[2]!==l||e[3]!==f?(m=[Nf,f,l],e[2]=l,e[3]=f,e[4]=m):m=e[4];let h=m.join(" "),p,g;e[5]!==r?(p=()=>{if(!r){d(!1);return}d(void 0);let v=new Image;v.src=r,v.onload=()=>{d(!0)},v.onerror=()=>{d(!1)}},g=[r],e[5]=r,e[6]=p,e[7]=g):(p=e[6],g=e[7]),Ef.useEffect(p,g);let b=null;if(r){let v=r?.includes("?")?"&":"?";b=s?`${r}${v}${encodeURIComponent(s)}`:r}let x;if(e[8]!==h||e[9]!==u||e[10]!==c||e[11]!==b){let v;e[13]!==u||e[14]!==c||e[15]!==b?(v=u&&qa("img",{alt:c,src:b}),e[13]=u,e[14]=c,e[15]=b,e[16]=v):v=e[16],x=f4("div",{className:h,children:[u===void 0&&qa(yt,{height:"100%"}),v,u===!1&&qa(Af,{})]}),e[8]=h,e[9]=u,e[10]=c,e[11]=b,e[12]=x}else x=e[12];return x};function p4(t){let e=m4(17),{alt:o,className:n,filename:r,fileSrc:s,imageCacheTag:i,size:l}=t,a=n===void 0?"":n,[c,u]=Ef.useState(void 0),d=`${Nf}--size-${l||"medium"}`,f;e[0]!==a||e[1]!==d?(f=[Nf,d,a],e[0]=a,e[1]=d,e[2]=f):f=e[2];let m=f.join(" "),h,p;e[3]!==s?(h=()=>{if(!s){u(!1);return}u(void 0);let x=new Image;x.src=s,x.onload=()=>{u(!0)},x.onerror=()=>{u(!1)}},p=[s],e[3]=s,e[4]=h,e[5]=p):(h=e[4],p=e[5]),Ef.useEffect(h,p);let g="";if(s){let x=s?.includes("?")?"&":"?";g=i?`${s}${x}${encodeURIComponent(i)}`:s}let b;if(e[6]!==o||e[7]!==m||e[8]!==c||e[9]!==r||e[10]!==g){let x;e[12]!==o||e[13]!==c||e[14]!==r||e[15]!==g?(x=c&&qa("img",{alt:o||r,src:g}),e[12]=o,e[13]=c,e[14]=r,e[15]=g,e[16]=x):x=e[16],b=f4("div",{className:m,children:[c===void 0&&qa(yt,{height:"100%"}),x,c===!1&&qa(Af,{})]}),e[6]=o,e[7]=m,e[8]=c,e[9]=r,e[10]=g,e[11]=b}else b=e[11];return b}var yb="file",Lf=({cellData:t,collectionConfig:e,field:o,rowData:n})=>{if(("displayPreview"in o?o.displayPreview:void 0)??e.upload?.displayPreview??!0){let i=sB(n?.mimeType),l=i?n?.thumbnailURL||n?.url:n?.thumbnailURL;return i&&(l=nB({sizes:n?.sizes,thumbnailURL:n?.thumbnailURL,url:n?.url,width:n?.width})),oB("div",{className:yb,children:[Cb(gr,{className:`${yb}__thumbnail`,collectionSlug:e?.slug,doc:{...n,filename:t},fileSrc:l,size:"small",uploadConfig:e?.upload}),Cb("span",{className:`${yb}__filename`,children:String(t)})]})}else return Cb(rB,{children:String(t)})};import{jsx as h4}from"react/jsx-runtime";import"react";var g4=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return h4("code",{className:"json-cell",children:h4("span",{children:JSON.stringify(e)})})};import{c as iB}from"react/compiler-runtime";import{jsx as aB,jsxs as v4}from"react/jsx-runtime";import{getTranslation as lB}from"@payloadcms/translations";import cB,{useEffect as x4,useState as C4}from"react";var b4=!!(typeof window<"u"&&window.document&&window.document.createElement);var uB="relationship-cell",$f=3,kf=t=>{let e=iB(40),{cellData:o,customCellProps:n,field:r,field:s}=t,{label:i}=s,l="relationTo"in r&&r.relationTo||"collection"in r&&r.collection,a;a="collection"in r?o?.docs:o;let c=a,{config:u,getEntityConfig:d}=H(),{collections:f,routes:m}=u,[h,p]=$n(),g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[0]=g):g=e[0];let[b,x]=C4(g),{documents:v,getRelationships:C}=gb(),[y,S]=C4(!1),{i18n:w,t:_}=L(),D=b4?p?.boundingClientRect?.top<window.innerHeight:!1,R;e[1]!==c||e[2]!==C||e[3]!==y||e[4]!==D||e[5]!==l?(R=()=>{if((c||typeof c=="number")&&D&&!y){let A=[],k=Array.isArray(c)?c:[c];k.slice(0,k.length<$f?k.length:$f).forEach($=>{typeof $=="object"&&"relationTo"in $&&"value"in $&&A.push($),(typeof $=="number"||typeof $=="string")&&typeof l=="string"&&A.push({relationTo:l,value:$})}),C(A),S(!0),x(A)}},e[1]=c,e[2]=C,e[3]=y,e[4]=D,e[5]=l,e[6]=R):R=e[6];let T;e[7]!==c||e[8]!==f||e[9]!==C||e[10]!==y||e[11]!==D||e[12]!==l||e[13]!==m.api?(T=[c,l,f,D,m.api,y,C],e[7]=c,e[8]=f,e[9]=C,e[10]=y,e[11]=D,e[12]=l,e[13]=m.api,e[14]=T):T=e[14],x4(R,T);let I;e[15]!==y?(I=()=>{y&&S(!1)},e[15]=y,e[16]=I):I=e[16];let F;e[17]!==c?(F=[c],e[17]=c,e[18]=F):F=e[18],x4(I,F);let P;if(e[19]!==c||e[20]!==u.admin||e[21]!==n||e[22]!==v||e[23]!==r||e[24]!==d||e[25]!==w||e[26]!==h||e[27]!==i||e[28]!==_||e[29]!==b){let A;e[31]!==u.admin||e[32]!==n||e[33]!==v||e[34]!==r||e[35]!==d||e[36]!==w||e[37]!==_||e[38]!==b.length?(A=(k,$)=>{let{relationTo:j,value:N}=k,E=v[j][N],O=d({collectionSlug:j}),M=Mo({collectionConfig:O,data:E||null,dateFormat:u.admin.dateFormat,fallback:`${_("general:untitled")} - ID: ${N}`,i18n:w}),B=null;return r.type==="upload"&&(("displayPreview"in r?r.displayPreview:void 0)??O.upload?.displayPreview??!0)&&E&&(B=aB(Lf,{cellData:M,collectionConfig:O,collectionSlug:O.slug,customCellProps:n,field:r,rowData:E})),v4(cB.Fragment,{children:[E===!1&&`${_("general:untitled")} - ID: ${N}`,E===null&&`${_("general:loading")}...`,E?B||M:null,b.length>$+1&&", "]},$)},e[31]=u.admin,e[32]=n,e[33]=v,e[34]=r,e[35]=d,e[36]=w,e[37]=_,e[38]=b.length,e[39]=A):A=e[39],P=v4("div",{className:uB,ref:h,children:[b.map(A),Array.isArray(c)&&c.length>$f&&_("fields:itemsAndMore",{count:c.length-$f,items:""}),b.length===0&&_("general:noLabel",{label:lB(i||"",w)})]}),e[19]=c,e[20]=u.admin,e[21]=n,e[22]=v,e[23]=r,e[24]=d,e[25]=w,e[26]=h,e[27]=i,e[28]=_,e[29]=b,e[30]=P}else P=e[30];return P};import{c as dB}from"react/compiler-runtime";import{jsx as mB}from"react/jsx-runtime";import{getTranslation as fB}from"@payloadcms/translations";import{optionsAreObjects as pB}from"payload/shared";import"react";var wb=t=>{let e=dB(10),{cellData:o,field:n}=t,{options:r}=n,{i18n:s}=L(),i;e[0]!==s||e[1]!==r?(i=u=>u.map(d=>{let f=r.filter(m=>m.value===d)?.[0]?.label;return fB(f,s)}).join(", "),e[0]=s,e[1]=r,e[2]=i):i=e[2];let l=i,a;if(pB(r)){let u;e[3]!==o||e[4]!==l?(u=Array.isArray(o)?l(o):l([o]),e[3]=o,e[4]=l,e[5]=u):u=e[5],a=u}else{let u;e[6]!==o?(u=Array.isArray(o)?o.join(", "):o,e[6]=o,e[7]=u):u=e[7],a=u}let c;return e[8]!==a?(c=mB("span",{children:a}),e[8]=a,e[9]=c):c=e[9],c};import{jsx as hB}from"react/jsx-runtime";import"react";var y4=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return hB("span",{children:e})};var Sb={array:l4,blocks:c4,checkbox:d4,code:Rf,date:vb,File:Lf,join:kf,json:g4,radio:wb,relationship:kf,select:wb,textarea:y4,upload:kf};var tu=t=>{let e=gB(14),{cellData:o,className:n,collectionSlug:r,field:s,field:i,link:l,onClick:a,rowData:c}=t,{admin:u}=i,{i18n:d}=L(),{config:f,getEntityConfig:m}=H(),{routes:h}=f,{admin:p}=h,g,b;if(e[0]!==u||e[1]!==p||e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==m||e[7]!==d||e[8]!==l||e[9]!==a||e[10]!==t||e[11]!==c){b=Symbol.for("react.early_return_sentinel");e:{let x=m({collectionSlug:r}),v=u&&"className"in u?u.className:void 0,C=n||(s.admin&&"className"in s.admin?s.admin.className:null)||v,y=a,S="span",w={className:C};if(l&&(w.prefetch=!1,S=Vt,w.href=x?.slug?Tf({adminRoute:p,path:`/collections/${x?.slug}/${encodeURIComponent(c.id)}`}):""),typeof y=="function"&&(S="button",w.type="button",w.onClick=()=>{y({cellData:o,collectionSlug:x?.slug,rowData:c})}),CB(s)){b=Qa(S,{...w,children:Qa(Rf,{cellData:`ID: ${o}`,collectionConfig:x,collectionSlug:r,field:{...s,type:"code"},nowrap:!0,rowData:c})});break e}let _=s4(o,s,d),D=typeof o<"u"&&Sb[s.type],R=null;if(yB.isValidElement(_))R=_;else if(D)R=Qa(D,{cellData:o,rowData:c,...t});else if(!D)if(x?.upload&&xB(s)&&s.name==="filename"&&s.type==="text"){let T=Sb.File;R=Qa(T,{cellData:o,rowData:c,...t,collectionConfig:x,field:s})}else{b=bB(S,{...w,children:[(_===""||typeof _>"u"||_===null)&&d.t("general:noLabel",{label:vB(("label"in s?s.label:null)||"data",d)}),typeof _=="string"&&_,typeof _=="number"&&_,typeof _=="object"&&_!==null&&JSON.stringify(_)]});break e}if((s.type==="select"||s.type==="radio")&&s.options.length&&o){let T=Array.isArray(o)?o.map(wB).join(" "):`selected--${o}`,I=[w.className,T].filter(Boolean).join(" ");b=Qa(S,{...w,className:I,children:R});break e}g=Qa(S,{...w,children:R})}e[0]=u,e[1]=p,e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=m,e[7]=d,e[8]=l,e[9]=a,e[10]=t,e[11]=c,e[12]=g,e[13]=b}else g=e[12],b=e[13];return b!==Symbol.for("react.early_return_sentinel")?b:g};function wB(t){return`selected--${t}`}var IB="default-cell",I4=S4.createContext(null),Ib=()=>S4.use(I4),_B=t=>{let e=SB(9),{clientProps:o,columnIndex:n,isLinkedColumn:r}=t,{drawerSlug:s,onSelect:i}=fr(),{LinkedCellOverride:l}=Ya(),a;if(e[0]!==l||e[1]!==o||e[2]!==n||e[3]!==s||e[4]!==r||e[5]!==i){let c={...o,columnIndex:n};if(r&&s){c.className=`${IB}__first-cell`,c.link=!1;let u;e[7]!==i?(u=d=>{let{collectionSlug:f,rowData:m}=d;typeof i=="function"&&i({collectionSlug:f,doc:m,docID:m.id})},e[7]=i,e[8]=u):u=e[8],c.onClick=u}a=w4(I4,{value:c,children:r&&l?l:w4(tu,{...c})}),e[0]=l,e[1]=o,e[2]=n,e[3]=s,e[4]=r,e[5]=i,e[6]=a}else a=e[6];return a};var _4=t=>{let e=DB(15),{onDrawerDelete:o,onDrawerSave:n}=t,r=Ib(),s=r?.rowData.id,i=r?.collectionSlug,l;e[0]!==s||e[1]!==i?(l={id:s,collectionSlug:i},e[0]=s,e[1]=i,e[2]=l):l=e[2];let[a,c,u]=vt(l),{closeDrawer:d}=u,f;e[3]!==d||e[4]!==n?(f=b=>{d(),typeof n=="function"&&n(b)},e[3]=d,e[4]=n,e[5]=f):f=e[5];let m=f,h;e[6]!==d||e[7]!==o?(h=b=>{d(),typeof o=="function"&&o(b)},e[6]=d,e[7]=o,e[8]=h):h=e[8];let p=h,g;return e[9]!==a||e[10]!==c||e[11]!==r||e[12]!==p||e[13]!==m?(g=FB("div",{className:"drawer-link",children:[jf(tu,{...r,className:"drawer-link__cell",link:!1,onClick:null}),jf(c,{children:jf(Ur,{})}),jf(a,{onDelete:p,onSave:m})]}),e[9]=a,e[10]=c,e[11]=r,e[12]=p,e[13]=m,e[14]=g):g=e[14],g};import{c as EB}from"react/compiler-runtime";import{jsx as NB}from"react/jsx-runtime";import"react";import{jsx as Fb}from"react/jsx-runtime";import"react";import{jsx as D4}from"react/jsx-runtime";import"react";var _b="clickable-arrow",F4=t=>{let{direction:e="right",isDisabled:o=!1,updatePage:n}=t,r=[_b,o&&`${_b}--is-disabled`,e&&`${_b}--${e}`].filter(Boolean).join(" ");return D4("button",{className:r,disabled:o,onClick:o?void 0:n,type:"button",children:D4(Ve,{})})};import{jsx as TB}from"react/jsx-runtime";import"react";var Mf="paginator__page",Db=({isCurrent:t,isFirstPage:e=!1,isLastPage:o=!1,page:n=1,updatePage:r})=>{let s=[Mf,t&&`${Mf}--is-current`,e&&`${Mf}--is-first-page`,o&&`${Mf}--is-last-page`].filter(Boolean).join(" ");return TB("button",{className:s,onClick:()=>r(n),type:"button",children:n})};import{jsx as RB}from"react/jsx-runtime";import"react";var T4=()=>RB("span",{className:"paginator__separator",children:"\u2014"});var PB={ClickableArrow:F4,Page:Db,Separator:T4},AB="paginator",ou=t=>{let{hasNextPage:e=!1,hasPrevPage:o=!1,nextPage:n=null,numberOfNeighbors:r=1,onChange:s,page:i,prevPage:l=null,totalPages:a=null}=t;if(!e&&!o)return null;let c=h=>{typeof s=="function"&&s(h)},u=Array.from({length:a},(h,p)=>p+1),d=i-1-r;d<=0&&(d=0);let f=i-1+r+1,m=u.slice(d,f);return i-r-1>=2&&m.unshift({type:"Separator"}),i>r+1&&m.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),i+r+1<a&&m.push({type:"Separator"}),f<a&&m.push({type:"Page",props:{isLastPage:!0,page:a,updatePage:c}}),m.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!e,updatePage:()=>c(n??i+1)}}),m.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!o,updatePage:()=>c(l??Math.max(1,i-1))}}),Fb("div",{className:AB,children:m.map((h,p)=>{if(typeof h=="number")return Fb(Db,{isCurrent:i===h,page:h,updatePage:c},p);let g=PB[h.type];return Fb(g,{...h.props},p)})})};var R4=()=>{let t=EB(11),{data:e,handlePageChange:o}=Lt(),n=e.nextPage||2,r;t[0]!==o?(r=a=>{o(a)},t[0]=o,t[1]=r):r=t[1];let s=e.page||1,i=e.prevPage||void 0,l;return t[2]!==e.hasNextPage||t[3]!==e.hasPrevPage||t[4]!==e.limit||t[5]!==e.totalPages||t[6]!==n||t[7]!==r||t[8]!==s||t[9]!==i?(l=NB(ou,{hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,limit:e.limit,nextPage:n,numberOfNeighbors:1,onChange:r,page:s,prevPage:i,totalPages:e.totalPages}),t[2]=e.hasNextPage,t[3]=e.hasPrevPage,t[4]=e.limit,t[5]=e.totalPages,t[6]=n,t[7]=r,t[8]=s,t[9]=i,t[10]=l):l=t[10],l};var br="relationship-table",Rb=t=>{let{AfterInput:e,allowCreate:o=!0,BeforeInput:n,disableTable:r=!1,field:s,fieldPath:i,filterOptions:l,initialData:a,initialDrawerData:c,Label:u,parent:d,relationTo:f}=t,[m,h]=Jn(null),{config:p,getEntityConfig:g}=H(),{permissions:b}=_e(),[x]=Jn(()=>{if(a)return{...a,docs:Array.isArray(a.docs)?a.docs.reduce((Y,re)=>typeof re=="string"?[...Y,{id:re}]:[...Y,re],[]):[]}}),{i18n:v,t:C}=L(),[y,S]=Jn(),[w,_]=Jn(!1),[D]=Jn(()=>g({collectionSlug:f})),R=Array.isArray(f),[T,I]=Jn(R?void 0:f),[F,P]=Jn(!r),[A,k]=Jn(x),[$,j]=Jn(),{getTableState:N}=Rt(),E=Bf(async Y=>{let re={limit:String(s?.defaultLimit||D?.admin?.pagination?.defaultLimit),sort:s.defaultSort||D?.defaultSort,...y||{},where:{...y?.where||{}}};l&&(re.where=LB(re.where,l));let W=s.admin.defaultColumns?s.admin.defaultColumns.map(xe=>({accessor:xe,active:!0})):void 0,{data:ee,state:ie,Table:de}=await N({collectionSlug:f,columns:A4(y?.columns)||W,docs:Y,enableRowSelections:!1,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${s.name}_order`,parent:d,query:re,renderRowTypes:!0,tableAppearance:"condensed"});k(ee),h(de),j(ie),P(!1)},[s.defaultLimit,s.defaultSort,s.admin.defaultColumns,s.collection,s.name,s.orderable,D?.admin?.pagination?.defaultLimit,D?.defaultSort,y,l,N,f,d]),O=Gt((Y,re)=>{!re&&(!m||Y)&&E()});Tb(()=>{O(y,r)},[y,r]);let[M,,{closeDrawer:B,isDrawerOpen:V,openDrawer:G}]=vt({collectionSlug:T}),z=Bf(Y=>{let re=A?.docs?.findIndex(ee=>ee.id===Y.doc.id),W;if(re!==-1){let ee=[...A.docs];ee[re]=Y.doc,W=ee}else W=[Y.doc,...A.docs];E(W)},[A?.docs,E]),U=Bf(Y=>{B(),z(Y)},[B,z]),oe=Bf(Y=>{let re=A.docs.filter(W=>W.id!==Y.id);E(re)},[A?.docs,E]),X=o!==!1&&b?.collections?.[R?f[0]:f]?.create;return Tb(()=>{R&&T&&G()},[T,G,R]),Tb(()=>{R&&!V&&T&&I(void 0)},[V]),Ka("div",{className:br,children:[Ka("div",{className:`${br}__header`,children:[u,Ka("div",{className:`${br}__actions`,children:[Qo(bb,{allowCreate:o!==!1,baseClass:br,buttonStyle:"none",className:`${br}__add-new${R?"-polymorphic":" doc-drawer__toggler"}`,collections:p.collections,i18n:v,icon:R?"plus":void 0,label:v.t("fields:addNew"),onClick:R?I:G,permissions:b,relationTo:f}),Qo(mt,{"aria-controls":`${br}-columns`,"aria-expanded":w,className:`${br}__toggle-columns ${w?`${br}__buttons-active`:""}`,icon:Qo(Ve,{direction:w?"up":"down"}),onClick:()=>_(!w),pillStyle:"light",size:"small",children:C("general:columns")})]})]}),n,F?Qo("p",{children:C("general:loading")}):Ka($B,{children:[A?.docs&&A.docs.length===0&&Ka("div",{className:`${br}__no-results`,children:[Qo("p",{children:v.t("general:noResults",{label:R?v.t("general:documents"):P4(D?.labels?.plural,v)})}),Qo(bb,{allowCreate:X,baseClass:br,collections:p.collections,i18n:v,label:v.t("general:createNewLabel",{label:R?v.t("general:document"):P4(D?.labels?.singular,v)}),onClick:R?I:G,permissions:b,relationTo:f})]}),A?.docs&&A.docs.length>0&&Qo(eu,{children:Qo(ib,{columns:A4($),data:A,defaultLimit:s.defaultLimit??D?.admin?.pagination?.defaultLimit,defaultSort:s.defaultSort??D?.defaultSort,modifySearchParams:!1,onQueryChange:S,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${i.replaceAll(".","_")}_order`,children:Ka(qc,{collectionSlug:R?f[0]:f,columnState:$,LinkedCellOverride:Qo(_4,{onDrawerDelete:oe,onDrawerSave:z}),children:[Qo(Ar,{className:`${br}__columns`,height:w?"auto":0,id:`${br}-columns`,children:Qo("div",{className:`${br}__columns-inner`,children:D&&Qo(If,{collectionSlug:D.slug})})}),m,Qo(R4,{})]})})})]}),e,Qo(M,{initialData:c,onSave:U})]})};var N4=Pb.default.default||Pb.default,Of=({collectionSlug:t,config:e,docID:o,fields:n,segments:r})=>{let s=MB(n,{keepPresentationalFields:!0}),i=r[0],l=s.find(c=>c.name===i);if(!l)return null;if(l.type==="relationship"||l.type==="upload"){let c=o;return Array.isArray(l.relationTo)&&(c={relationTo:t,value:o}),{[l.name]:l.hasMany?[c]:c}}let a=r.slice(1,r.length);if(l.type==="tab"||l.type==="group"&&jB(l))return{[l.name]:Of({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a})};if(l.type==="array"){let c=Of({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a});return c.id=N4().toHexString(),{[l.name]:[c]}}if(l.type==="blocks")for(let c of l.blockReferences??l.blocks){let u=typeof c=="string"?e.blocksMap[c]:c,d=Of({collectionSlug:t,config:e,docID:o,fields:u.fields,segments:a});if(d)return d.id=N4().toHexString(),d.blockType=u.slug,{[l.name]:[d]}}},BB=t=>{let{field:e,field:{admin:{allowCreate:o,description:n},collection:r,label:s,localized:i,on:l,required:a},path:c}=t,{id:u,docConfig:d}=Re(),{config:f,getEntityConfig:m}=H(),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:x}={},path:v,showError:C,value:y}=Ne({potentiallyStalePath:c}),S=E4(()=>{if(!u)return null;let _=u;Array.isArray(e.targetField.relationTo)&&(_={relationTo:d.slug,value:_});let D=Array.isArray(r)?{}:{[l]:{equals:_}};return e.where?{and:[D,e.where]}:D},[u,r,e.targetField.relationTo,e.where,l,d?.slug]),w=E4(()=>{let _=m({collectionSlug:Array.isArray(e.collection)?e.collection[0]:e.collection});return Of({collectionSlug:d?.slug,config:f,docID:u,fields:_.fields,segments:e.on.split(".")})},[m,e.collection,e.on,d?.slug,u,f]);return d?kB("div",{className:[De,C&&"error","join"].filter(Boolean).join(" "),id:`field-${v?.replace(/\./g,"__")}`,children:[Oi(me,{CustomComponent:b,Fallback:Oi(ze,{path:v,showError:C})}),Oi(Rb,{AfterInput:h,allowCreate:typeof u<"u"&&o,BeforeInput:p,disableTable:S===null,field:e,fieldPath:v,filterOptions:S,initialData:u&&y?y:{docs:[]},initialDrawerData:w,Label:Oi("h4",{style:{margin:0},children:x||Oi(Se,{label:s,localized:i,path:v,required:a})}),parent:Array.isArray(r)?{id:u,collectionSlug:d.slug,joinPath:v}:void 0,relationTo:r}),Oi(me,{CustomComponent:g,Fallback:Oi(Ge,{description:n,path:v})})]}):null},ru=Me(BB);import{jsx as Vi,jsxs as L4}from"react/jsx-runtime";import OB,{useCallback as Ab,useEffect as VB,useMemo as GB,useState as Eb}from"react";var zB="json-field",WB=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,maxHeight:s}={},jsonSchema:i,label:l,localized:a,required:c},path:u,readOnly:d,validate:f}=t,[m,h]=Eb(),p=OB.useRef("system"),[g,b]=Eb(""),x=Ab((N,E)=>{if(typeof f=="function")return f(N,{...E,jsonError:m,required:c})},[f,c,m]),{customComponents:{AfterInput:v,BeforeInput:C,Description:y,Error:S,Label:w}={},disabled:_,initialValue:D,path:R,setValue:T,showError:I,value:F}=Ne({potentiallyStalePath:u,validate:x}),[P,A]=Eb(()=>(F||D)!==void 0?JSON.stringify(F??D,null,2):void 0),k=Ab((N,E)=>{if(!i)return;E.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...E.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let O=i.uri,M=O.includes("?")?`${O}&${crypto.randomUUID?crypto.randomUUID():Xn()}`:`${O}?${crypto.randomUUID?crypto.randomUUID():Xn()}`;N.setModel(E.editor.createModel(JSON.stringify(F,null,2),"json",E.Uri.parse(M)))},[i,F]),$=Ab(N=>{if(!(d||_)){p.current="user";try{T(N?JSON.parse(N):null),h(void 0)}catch(E){T(N||null),h(E)}}},[d,_,T]);VB(()=>{p.current==="system"&&(A((F||D)!==void 0?JSON.stringify(F??D,null,2):void 0),b(new Date().toString())),p.current="system"},[D,F]);let j=GB(()=>rt(e),[e]);return L4("div",{className:[De,zB,o,I&&"error",(d||_)&&"read-only"].filter(Boolean).join(" "),style:j,children:[Vi(me,{CustomComponent:w,Fallback:Vi(Se,{label:l,localized:a,path:R,required:c})}),L4("div",{className:`${De}__wrap`,children:[Vi(me,{CustomComponent:S,Fallback:Vi(ze,{message:m,path:R,showError:I})}),C,Vi(Tc,{defaultLanguage:"json",maxHeight:s,onChange:$,onMount:k,options:r,readOnly:d||_,value:P,wrapperProps:{id:`field-${R?.replace(/\./g,"__")}`}},g),v]}),Vi(me,{CustomComponent:y,Fallback:Vi(Ge,{description:n,path:R})})]})},nu=Me(WB);import{jsx as qn,jsxs as $4}from"react/jsx-runtime";import{getTranslation as HB}from"@payloadcms/translations";import{isNumber as UB}from"payload/shared";import{useCallback as Nb,useEffect as XB,useMemo as ZB,useState as YB}from"react";var JB=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s=1}={},hasMany:i=!1,label:l,localized:a,max:c=1/0,maxRows:u=1/0,min:d=-1/0,required:f},onChange:m,path:h,readOnly:p,validate:g}=t,{i18n:b,t:x}=L(),v=Nb((E,O)=>{if(typeof g=="function")return g(E,{...O,max:c,min:d,required:f})},[g,d,c,f]),{customComponents:{AfterInput:C,BeforeInput:y,Description:S,Error:w,Label:_}={},disabled:D,path:R,setValue:T,showError:I,value:F}=Ne({potentiallyStalePath:h,validate:v}),P=Nb(E=>{let O=parseFloat(E.target.value),M=O;Number.isNaN(O)&&(M=null),typeof m=="function"&&m(M),T(M)},[m,T]),[A,k]=YB([]),$=Nb(E=>{if(!(p||D)){let O;E?Array.isArray(E)?O=E.map(M=>Number(M.value?.value||M.value)):O=[Number(E.value?.value||E.value)]:O=[],T(O)}},[p,D,T]);XB(()=>{i&&Array.isArray(F)&&k(F.map((E,O)=>({id:`${E}${O}`,label:`${E}`,value:{toString:()=>`${E}${O}`,value:E?.value||E}})))},[F,i]);let j=ZB(()=>rt(e),[e]),N=HB(r,b);return $4("div",{className:[De,"number",o,I&&"error",(p||D)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:j,children:[qn(me,{CustomComponent:_,Fallback:qn(Se,{label:l,localized:a,path:R,required:f})}),$4("div",{className:`${De}__wrap`,children:[qn(me,{CustomComponent:w,Fallback:qn(ze,{path:R,showError:I})}),y,i?qn(pt,{className:`field-${R.replace(/\./g,"__")}`,disabled:p||D,filterOption:(E,O)=>{let M=Array.isArray(F)&&F.length>=u;return UB(O)&&!M},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(F)&&F.length>=u?x("validation:limitReached",{max:u,value:F.length+1}):null,onChange:$,options:[],placeholder:N,showError:I,value:A}):qn("div",{children:qn("input",{disabled:p||D,id:`field-${R.replace(/\./g,"__")}`,max:c,min:d,name:R,onChange:P,onWheel:E=>{E.target.blur()},placeholder:N,step:s,type:"number",value:typeof F=="number"?F:""})}),C,qn(me,{CustomComponent:S,Fallback:qn(Ge,{description:n,path:R})})]})]})},su=Me(JB);import{jsx as yn,jsxs as el}from"react/jsx-runtime";import{getTranslation as Lb}from"@payloadcms/translations";import{useCallback as k4,useMemo as qB}from"react";var j4="point",QB=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s}={},label:i,localized:l,required:a},path:c,readOnly:u,validate:d}=t,{i18n:f,t:m}=L(),h=k4((I,F)=>{if(typeof d=="function")return d(I,{...F,required:a})},[d,a]),{customComponents:{AfterInput:p,BeforeInput:g,Description:b,Error:x,Label:v}={},disabled:C,path:y,setValue:S,showError:w,value:_=[null,null]}=Ne({potentiallyStalePath:c,validate:h}),D=k4((I,F)=>{let P=parseFloat(I.target.value);Number.isNaN(P)&&(P=I.target.value);let A=[..._];A[F]=P,S(A)},[S,_]),R=I=>{let F=m(I==="longitude"?"fields:longitude":"fields:latitude"),P=i?Lb(i,f):"";return`${P}${P?" - ":""}${F}`},T=qB(()=>rt(e),[e]);return el("div",{className:[De,j4,o,w&&"error",(u||C)&&"read-only"].filter(Boolean).join(" "),style:T,children:[el("ul",{className:`${j4}__wrap`,children:[el("li",{children:[yn(me,{CustomComponent:v,Fallback:yn(Se,{label:R("longitude"),localized:l,path:y,required:a})}),el("div",{className:"input-wrapper",children:[g,yn("input",{disabled:u||C,id:`field-longitude-${y?.replace(/\./g,"__")}`,name:`${y}.longitude`,onChange:I=>D(I,0),placeholder:Lb(r,f),step:s,type:"number",value:_&&typeof _[0]=="number"?_[0]:""}),p]})]}),el("li",{children:[yn(me,{CustomComponent:v,Fallback:yn(Se,{label:R("latitude"),localized:l,path:y,required:a})}),el("div",{className:"input-wrapper",children:[yn(me,{CustomComponent:x,Fallback:yn(ze,{path:y,showError:w})}),g,yn("input",{disabled:u||C,id:`field-latitude-${y?.replace(/\./g,"__")}`,name:`${y}.latitude`,onChange:I=>D(I,1),placeholder:Lb(r,f),step:s,type:"number",value:_&&typeof _[1]=="number"?_[1]:""}),p]})]})]}),yn(me,{CustomComponent:b,Fallback:yn(Ge,{description:n,path:y})})]})},iu=Me(QB);import{jsx as Qn,jsxs as M4}from"react/jsx-runtime";import{optionIsObject as B4}from"payload/shared";import{useCallback as oO,useMemo as rO}from"react";import{c as KB}from"react/compiler-runtime";import{jsx as Vf,jsxs as eO}from"react/jsx-runtime";import{getTranslation as tO}from"@payloadcms/translations";import"react";var au="radio-input",lu=t=>{let e=KB(16),{isSelected:o,onChange:n,option:r,path:s,readOnly:i,uuid:l}=t,{i18n:a}=L(),c=ot(),u=`field-${s}-${r.value}${c>1?`-${c}`:""}${l?`-${l}`:""}`,d=o&&`${au}--is-selected`,f;e[0]!==d?(f=[au,d].filter(Boolean),e[0]=d,e[1]=f):f=e[1];let m=f.join(" "),h;e[2]!==n||e[3]!==r.value?(h=()=>typeof n=="function"?n(r.value):null,e[2]=n,e[3]=r.value,e[4]=h):h=e[4];let p;if(e[5]!==a||e[6]!==u||e[7]!==o||e[8]!==r.label||e[9]!==s||e[10]!==i||e[11]!==m||e[12]!==h){let g=Vf("input",{checked:o,disabled:i,id:u,name:s,onChange:h,type:"radio"}),b=i&&`${au}__styled-radio--disabled`,x;e[14]!==b?(x=[`${au}__styled-radio`,b].filter(Boolean),e[14]=b,e[15]=x):x=e[15],p=Vf("label",{htmlFor:u,children:eO("div",{className:m,children:[g,Vf("span",{className:x.join(" ")}),Vf("span",{className:`${au}__label`,children:tO(r.label,a)})]})}),e[5]=a,e[6]=u,e[7]=o,e[8]=r.label,e[9]=s,e[10]=i,e[11]=m,e[12]=h,e[13]=p}else p=e[13];return p};var Gf="radio-group",nO=t=>{let{disableModifyingForm:e,field:o,field:{admin:{className:n,description:r,layout:s="horizontal"}={},label:i,localized:l,options:a=[],required:c}={},onChange:u,path:d,readOnly:f,validate:m,value:h}=t,{uuid:p}=ke(),g=oO((F,P)=>{if(typeof m=="function")return m(F,{...P,options:a,required:c})},[m,a,c]),{customComponents:{AfterInput:b,BeforeInput:x,Description:v,Error:C,Label:y}={},disabled:S,path:w,setValue:_,showError:D,value:R}=Ne({potentiallyStalePath:d,validate:g}),T=R||h,I=rO(()=>rt(o),[o]);return M4("div",{className:[De,Gf,n,`${Gf}--layout-${s}`,D&&"error",(f||S)&&`${Gf}--read-only`].filter(Boolean).join(" "),style:I,children:[Qn(me,{CustomComponent:C,Fallback:Qn(ze,{path:w,showError:D})}),Qn(me,{CustomComponent:y,Fallback:Qn(Se,{label:i,localized:l,path:w,required:c})}),M4("div",{className:`${De}__wrap`,children:[x,Qn("ul",{className:`${Gf}--group`,id:`field-${w.replace(/\./g,"__")}`,children:a.map(F=>{let P="";B4(F)?P=F.value:P=F;let A=String(P)===String(T),k=`field-${w}-${P}${p?`-${p}`:""}`;return Qn("li",{children:Qn(lu,{id:k,isSelected:A,onChange:()=>{typeof u=="function"&&u(P),f||S||_(P,!!e)},option:B4(F)?F:{label:F,value:F},path:w,readOnly:f||S,uuid:p})},`${w} - ${P}`)})}),b,Qn(me,{CustomComponent:v,Fallback:Qn(Ge,{description:r,path:w})})]})]})},cu=Me(nO);import{jsx as kO}from"react/jsx-runtime";import zb,{useCallback as Wb,useMemo as jO}from"react";import{jsx as sn,jsxs as Ob}from"react/jsx-runtime";import{dequal as AO}from"dequal/lite";import{formatAdminURL as EO,wordBoundariesRegex as NO}from"payload/shared";import*as Vb from"qs-esm";import{useCallback as Ms,useEffect as Xf,useMemo as LO,useReducer as $O,useRef as mu,useState as Bs}from"react";import{c as sO}from"react/compiler-runtime";import{jsx as wn,jsxs as zf}from"react/jsx-runtime";import{getTranslation as O4}from"@payloadcms/translations";import{Fragment as $b,useEffect as Wf,useState as uu}from"react";var tl="relationship-add-new",V4=t=>{let e=sO(46),{Button:o,hasMany:n,onChange:r,path:s,relationTo:i,unstyled:l,value:a}=t,c=_f(i),{permissions:u}=_e(),[d,f]=uu(!1),[m,h]=uu(),p=c.length>1,g;e[0]!==c[0]||e[1]!==p?(g=()=>p?void 0:c[0],e[0]=c[0],e[1]=p,e[2]=g):g=e[2];let[b,x]=uu(g),[v,C]=uu(!1),{i18n:y,t:S}=L(),[w,_]=uu(!1),D=b?.slug,R;e[3]!==D?(R={collectionSlug:D},e[3]=D,e[4]=R):R=e[4];let[T,I,F]=vt(R),{isDrawerOpen:P,toggleDrawer:A}=F,k;e[5]!==b||e[6]!==n||e[7]!==r||e[8]!==c[0]||e[9]!==a?(k=Y=>{let{doc:re,operation:W}=Y,ee=typeof b?.versions?.drafts=="object"?b.versions.drafts.autosave:!1;if(W==="create"||W==="update"&&ee){let ie;a?ie=Array.isArray(a)?!a.some(de=>de&&de.value===re.id):a.value!==re.id:ie=!0,ie&&r(n===!0?[...Array.isArray(a)?a:[],{relationTo:b?.slug,value:re.id}]:{relationTo:c[0].slug,value:re.id}),h(void 0)}},e[5]=b,e[6]=n,e[7]=r,e[8]=c[0],e[9]=a,e[10]=k):k=e[10];let $=k,j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=Y=>{C(Y)},e[11]=j):j=e[11];let N=j,E,O;e[12]!==u||e[13]!==c?(E=()=>{u&&(c.length===1?f(u.collections[c[0]?.slug]?.create):f(c.some(Y=>u.collections[Y?.slug]?.create)))},O=[u,c],e[12]=u,e[13]=c,e[14]=E,e[15]=O):(E=e[14],O=e[15]),Wf(E,O);let M,B;e[16]!==c||e[17]!==p||e[18]!==m?(B=()=>{p&&m&&x(c.find(Y=>Y?.slug===m))},M=[m,p,c],e[16]=c,e[17]=p,e[18]=m,e[19]=M,e[20]=B):(M=e[19],B=e[20]),Wf(B,M);let V,G;e[21]!==b||e[22]!==p||e[23]!==A?(V=()=>{p&&b&&(A(),h(void 0))},G=[A,p,b],e[21]=b,e[22]=p,e[23]=A,e[24]=V,e[25]=G):(V=e[24],G=e[25]),Wf(V,G);let z,U;e[26]!==P||e[27]!==p?(z=()=>{p&&!P&&x(void 0)},U=[P,p],e[26]=P,e[27]=p,e[28]=z,e[29]=U):(z=e[28],U=e[29]),Wf(z,U);let oe=c[0]?.labels.singular,X;if(e[30]!==o||e[31]!==T||e[32]!==I||e[33]!==b||e[34]!==y||e[35]!==$||e[36]!==s||e[37]!==u||e[38]!==v||e[39]!==c||e[40]!==d||e[41]!==w||e[42]!==S||e[43]!==oe||e[44]!==l){X=Symbol.for("react.early_return_sentinel");e:{let Y=S("fields:addNewLabel",{label:O4(oe,y)});if(d){X=zf("div",{className:tl,id:`${s}-add-new`,children:[c.length===1&&zf($b,{children:[wn(I,{className:[`${tl}__add-button`,l&&`${tl}__add-button--unstyled`].filter(Boolean).join(" "),onClick:()=>_(!1),onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:o||zf($b,{children:[wn(So,{className:`${tl}__tooltip`,show:w,children:Y}),wn(Dr,{})]})}),wn(T,{onSave:$})]}),c.length>1&&zf($b,{children:[wn(ut,{button:o||wn(se,{buttonStyle:"none",className:`${tl}__add-button`,tooltip:v?void 0:S("fields:addNew"),children:wn(Dr,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:N,render:re=>{let{close:W}=re;return wn(og,{children:c.map(ee=>u.collections[ee?.slug].create?wn(rg,{className:`${tl}__relation-button--${ee?.slug}`,onClick:()=>{W(),h(ee?.slug)},children:O4(ee?.labels?.singular,y)},ee?.slug):null)})},size:"medium"}),b&&u.collections[b?.slug]?.create&&wn(T,{onSave:$})]})]});break e}}e[30]=o,e[31]=T,e[32]=I,e[33]=b,e[34]=y,e[35]=$,e[36]=s,e[37]=u,e[38]=v,e[39]=c,e[40]=d,e[41]=w,e[42]=S,e[43]=oe,e[44]=l,e[45]=X}else X=e[45];return X!==Symbol.for("react.early_return_sentinel")?X:null};import{c as lO}from"react/compiler-runtime";import{jsx as Uf}from"react/jsx-runtime";import{createElement as cO}from"react";import{useEffect as H4,useId as uO,useState as U4}from"react";import{jsx as G4,jsxs as iO}from"react/jsx-runtime";import{hoistQueryParamsToAnd as aO}from"payload/shared";import{useCallback as Hf,useEffect as z4,useState as kb}from"react";var W4=({allowCreate:t=!0,collectionSlugs:e,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,filterOptions:s,onBulkSelect:i,onSelect:l,overrideEntityVisibility:a=!0,selectedCollection:c})=>{let{closeModal:u,isModalOpen:d}=ce(),{serverFunction:f}=Rt(),[m,h]=kb(void 0),[p,g]=kb(!0),{config:{collections:b},getEntityConfig:x}=H(),v=d(n),C=b.filter(({slug:A})=>e.includes(A)),[y,S]=kb(()=>{let A=c||C[0]?.slug,k=x({collectionSlug:A});return k?{label:k.labels,value:k.slug}:void 0}),[w,_,{drawerSlug:D}]=vt({collectionSlug:y.value}),R=Gt(A=>{A&&A!==y?.value&&S({label:x({collectionSlug:A})?.labels,value:A})});z4(()=>{R(c)},[c]);let T=Hf(async({slug:A,query:k})=>{try{let $={...k||{},where:{...k?.where||{}}},j=s?.[A];if(s&&typeof j!="boolean"&&($.where=aO($.where,j)),A){let N=await f({name:"render-list",args:{allowCreate:t,collectionSlug:A,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,overrideEntityVisibility:a,query:$}});h(N?.List||null)}else h(null);g(!1)}catch($){console.error("Error rendering List View: ",$),v&&u(n)}},[f,u,t,n,v,r,s,a,o]);z4(()=>{m||T({slug:y?.value})},[T,m,y.value]);let I=Hf(({doc:A})=>{typeof l=="function"&&l({collectionSlug:y?.value,doc:A,docID:A.id}),u(D),u(n)},[u,D,n,l,y.value]),F=Hf(A=>{T({slug:y?.value,query:A})},[T,y.value]),P=Hf(A=>{S(A),T({slug:A?.value})},[T]);return p?G4(rn,{}):iO(rb,{allowCreate:t,createNewDrawerSlug:D,DocumentDrawerToggler:_,drawerSlug:n,enabledCollections:e,onBulkSelect:i,onQueryChange:F,onSelect:l,selectedOption:y,setSelectedOption:P,children:[m,G4(w,{onSave:I})]})};var X4="list-drawer",dO=({depth:t,uuid:e})=>`list-drawer_${t}_${e}`,mO=({children:t,className:e,disabled:o,drawerSlug:n,onClick:r,...s})=>Uf(Vn,{className:[e,`${X4}__toggler`].filter(Boolean).join(" "),disabled:o,onClick:r,slug:n,...s,children:t}),fO=t=>{let{drawerSlug:e}=t;return Uf(Nt,{className:X4,gutter:!1,Header:null,slug:e,children:Uf(W4,{...t})})},Gi=t=>{let e=lO(42),{collectionSlugs:o,filterOptions:n,selectedCollection:r,uploads:s}=t,{config:i}=H(),{collections:l}=i,a=ot(),c=uO(),{closeModal:u,modalState:d,openModal:f,toggleModal:m}=ce(),[h,p]=U4(!1),[g,b]=U4(o),x;e[0]!==a||e[1]!==c?(x=dO({depth:a,uuid:c}),e[0]=a,e[1]=c,e[2]=x):x=e[2];let v=x,C,y;e[3]!==v||e[4]!==d?(C=()=>{p(!!d[v]?.isOpen)},y=[d,v],e[3]=v,e[4]=d,e[5]=C,e[6]=y):(C=e[5],y=e[6]),H4(C,y);let S,w;e[7]!==g||e[8]!==l||e[9]!==s?(S=()=>{if(!g||g.length===0){let V=l.filter(G=>{let{upload:z}=G;return s?!!z:!0});b(V.map(pO))}},w=[g,s,l],e[7]=g,e[8]=l,e[9]=s,e[10]=S,e[11]=w):(S=e[10],w=e[11]),H4(S,w);let _;e[12]!==v||e[13]!==m?(_=()=>{m(v)},e[12]=v,e[13]=m,e[14]=_):_=e[14];let D=_,R;e[15]!==u||e[16]!==v?(R=()=>{u(v)},e[15]=u,e[16]=v,e[17]=R):R=e[17];let T=R,I;e[18]!==v||e[19]!==f?(I=()=>{f(v)},e[18]=v,e[19]=f,e[20]=I):I=e[20];let F=I,P,A;e[21]!==T||e[22]!==g||e[23]!==v||e[24]!==n||e[25]!==r||e[26]!==s?(A=V=>cO(fO,{...V,closeDrawer:T,collectionSlugs:g,drawerSlug:v,filterOptions:n,key:v,selectedCollection:r,uploads:s}),e[21]=T,e[22]=g,e[23]=v,e[24]=n,e[25]=r,e[26]=s,e[27]=A):A=e[27],P=A;let k=P,$,j;e[28]!==v?(j=V=>Uf(mO,{...V,drawerSlug:v}),e[28]=v,e[29]=j):j=e[29],$=j;let N=$,E,O;e[30]!==T||e[31]!==g||e[32]!==a||e[33]!==v||e[34]!==h||e[35]!==F||e[36]!==D?(O={closeDrawer:T,collectionSlugs:g,drawerDepth:a,drawerSlug:v,isDrawerOpen:h,openDrawer:F,setCollectionSlugs:b,toggleDrawer:D},e[30]=T,e[31]=g,e[32]=a,e[33]=v,e[34]=h,e[35]=F,e[36]=D,e[37]=O):O=e[37],E=O;let M=E,B;return e[38]!==k||e[39]!==M||e[40]!==N?(B=[k,N,M],e[38]=k,e[39]=M,e[40]=N,e[41]=B):B=e[41],B};function pO(t){let{slug:e}=t;return e}import{c as hO}from"react/compiler-runtime";import{useRef as gO}from"react";var jb=(t,e)=>{let o=hO(3),n=gO(void 0),r;return o[0]!==t||o[1]!==e?(r=(...s)=>{let i=s,l=()=>{clearTimeout(n.current),t(...i)};clearTimeout(n.current),n.current=setTimeout(l,e)},o[0]=t,o[1]=e,o[2]=r):r=o[2],r};import{useCallback as bO,useRef as Z4}from"react";function ol(){let t=Z4([]),e=Z4(!1);return{queueTask:bO((n,r)=>{t.current.push(n);async function s(){if(!e.current&&!(typeof r?.beforeProcess=="function"&&r.beforeProcess()===!1))for(;t.current.length>0;){let i=t.current.pop();t.current=[],e.current=!0;try{await i()}catch(l){console.error("Error in queued function:",l)}finally{e.current=!1,typeof r?.afterProcess=="function"&&r.afterProcess()}}}s()},[])}}var Mb=t=>{for(let e in t){let o=t[e];if((e.toLowerCase()==="and"||e.toLowerCase()==="or")&&Array.isArray(o))for(let n of o)Mb(n);else o&&typeof o=="object"&&"in"in o&&Array.isArray(o.in)&&o.in.length===0&&(t[e]={exists:!1})}return t};var Bb=({hasMany:t,relationTo:e,value:o})=>{let n=e.reduce((r,s)=>({...r,[s]:[]}),{});if(o===null)return n;if(o){let r=(s,i)=>{(typeof i=="string"||typeof i=="number")&&typeof s=="string"&&(n[s]?n[s].push(i):n[s]=[i])};t===!0?o.forEach(s=>{s&&r(s.relationTo,s.value)}):r(o.relationTo,o.value)}return n};var Y4=({allowEdit:t,options:e,value:o})=>{if(o||typeof o=="number"){if(Array.isArray(o))return o.map(r=>{let s;return e.forEach(i=>{s||(s=i.options.find(l=>l.value===r.value&&l.relationTo===r.relationTo))}),s?{allowEdit:t,...s}:void 0});let n;return e.forEach(r=>{n||(n=r.options.find(s=>s.value===o.value&&s.relationTo===o.relationTo))}),n?{allowEdit:t,...n}:void 0}};import{getTranslation as vO}from"@payloadcms/translations";var q4=t=>t.reduce((e,o)=>o.options?[...e,...q4(o.options)]:[...e,{id:o.value,relationTo:o.relationTo}],[]),J4=t=>t.sort((e,o)=>typeof e?.label?.localeCompare=="function"&&typeof o?.label?.localeCompare=="function"?e.label.localeCompare(o.label):0),Q4=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,config:n,docs:r,i18n:s,ids:i=[],sort:l}=e,a=o.slug,c=q4(t),u=[...t],d=u.find(m=>m.label===o.labels.plural),f=r.reduce((m,h)=>{if(c.filter(p=>p.id===h.id&&p.relationTo===a).length===0){c.push({id:h.id,relationTo:a});let p=Mo({collectionConfig:o,data:h,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${h.id}`,i18n:s});return[...m,{label:p,relationTo:a,value:h.id}]}return m},[]);if(i.forEach(m=>{c.filter(h=>h.id===m&&h.relationTo===a).length===0&&(c.push({id:m,relationTo:a}),f.push({allowEdit:!1,label:`${s.t("general:untitled")} - ID: ${m}`,relationTo:a,value:m}))}),d){let m=[...d.options,...f];d.options=l?J4(m):m}else u.push({label:vO(o.labels.plural,s),options:l?J4(f):f});return u}case"CLEAR":{let o=e.exemptValues?Array.isArray(e.exemptValues)?e.exemptValues:[e.exemptValues]:[];return t.filter(r=>{let s=r.options.filter(i=>o?o.some(l=>l&&i.value===l.value):!1);return r.options=s,s.length>0})}case"REMOVE":{let{id:o,collection:n}=e,r=[...t],s=r.findIndex(i=>i.label===n.labels.plural);return s===-1||(r[s]={...r[s],options:r[s].options.filter(i=>i.value!==o)}),r}case"UPDATE":{let{collection:o,config:n,doc:r,i18n:s}=e,i=o.slug,l=[...t],a=Mo({collectionConfig:o,data:r,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${r.id}`,i18n:s}),u=l.find(d=>d.label===o.labels.plural)?.options?.find(d=>d.value===r.id);return u&&(u.label=a,u.relationTo=i),l}default:return t}};import{c as xO}from"react/compiler-runtime";import{jsx as du,jsxs as K4}from"react/jsx-runtime";import{Fragment as CO,useState as yO}from"react";var rl="relationship--multi-value-label",e_=t=>{let e=xO(26),{data:o,selectProps:n}=t,{allowEdit:r,label:s,relationTo:i,value:l}=o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{customProps:c}=a,u;e[2]!==c?(u=c===void 0?{}:c,e[2]=c,e[3]=u):u=e[3];let{draggableProps:d,onDocumentOpen:f}=u,{permissions:m}=_e(),[h,p]=yO(!1),{t:g}=L(),b=!!m?.collections?.[i]?.read,x;e[4]!==d?(x=d||{},e[4]=d,e[5]=x):x=e[5];let v;if(e[6]!==r||e[7]!==b||e[8]!==s||e[9]!==f||e[10]!==t||e[11]!==i||e[12]!==h||e[13]!==g||e[14]!==x||e[15]!==l){let C;e[17]!==r||e[18]!==b||e[19]!==s||e[20]!==f||e[21]!==i||e[22]!==h||e[23]!==g||e[24]!==l?(C=i&&b&&r!==!1&&du(CO,{children:K4("button",{"aria-label":`Edit ${s}`,className:`${rl}__drawer-toggler`,onClick:y=>{p(!1),f({id:l,collectionSlug:i,hasReadPermission:b,openInNewTab:y.metaKey||y.ctrlKey})},onKeyDown:wO,onMouseDown:SO,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTouchEnd:IO,type:"button",children:[du(So,{className:`${rl}__tooltip`,show:h,children:g("general:editLabel",{label:""})}),du(Ur,{className:`${rl}__icon`})]})}),e[17]=r,e[18]=b,e[19]=s,e[20]=f,e[21]=i,e[22]=h,e[23]=g,e[24]=l,e[25]=C):C=e[25],v=K4("div",{className:rl,children:[du("div",{className:`${rl}__content`,children:du(xo.MultiValueLabel,{...t,innerProps:{className:`${rl}__text`,...x}})}),C]}),e[6]=r,e[7]=b,e[8]=s,e[9]=f,e[10]=t,e[11]=i,e[12]=h,e[13]=g,e[14]=x,e[15]=l,e[16]=v}else v=e[16];return v};function wO(t){t.key==="Enter"&&t.stopPropagation()}function SO(t){return t.stopPropagation()}function IO(t){return t.stopPropagation()}import{c as _O}from"react/compiler-runtime";import{jsx as nl,jsxs as t_}from"react/jsx-runtime";import{Fragment as DO,useState as FO}from"react";var sl="relationship--single-value",o_=t=>{let e=_O(24),{children:o,data:n,selectProps:r}=t,{allowEdit:s,label:i,relationTo:l,value:a}=n,c;e[0]!==r?(c=r===void 0?{}:r,e[0]=r,e[1]=c):c=e[1];let{customProps:u}=c,d;e[2]!==u?(d=u===void 0?{}:u,e[2]=u,e[3]=d):d=e[3];let{onDocumentOpen:f}=d,[m,h]=FO(!1),{t:p}=L(),{permissions:g}=_e(),b=!!g?.collections?.[l]?.read,x;if(e[4]!==s||e[5]!==o||e[6]!==b||e[7]!==i||e[8]!==f||e[9]!==t||e[10]!==l||e[11]!==m||e[12]!==p||e[13]!==a){let v;e[15]!==s||e[16]!==b||e[17]!==i||e[18]!==f||e[19]!==l||e[20]!==m||e[21]!==p||e[22]!==a?(v=l&&b&&s!==!1&&nl(DO,{children:t_("button",{"aria-label":p("general:editLabel",{label:i}),className:`${sl}__drawer-toggler`,onClick:C=>{h(!1),f({id:a,collectionSlug:l,hasReadPermission:b,openInNewTab:C.metaKey||C.ctrlKey})},onKeyDown:TO,onMouseDown:RO,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onTouchEnd:PO,type:"button",children:[nl(So,{className:`${sl}__tooltip`,show:m,children:p("general:edit")}),nl(Ur,{})]})}),e[15]=s,e[16]=b,e[17]=i,e[18]=f,e[19]=l,e[20]=m,e[21]=p,e[22]=a,e[23]=v):v=e[23],x=nl(xo.SingleValue,{...t,className:sl,children:nl("div",{className:`${sl}__label`,children:t_("div",{className:`${sl}__label-text`,children:[nl("div",{className:`${sl}__text`,children:o}),v]})})}),e[4]=s,e[5]=o,e[6]=b,e[7]=i,e[8]=f,e[9]=t,e[10]=l,e[11]=m,e[12]=p,e[13]=a,e[14]=x}else x=e[14];return x};function TO(t){t.key==="Enter"&&t.stopPropagation()}function RO(t){return t.stopPropagation()}function PO(t){return t.stopPropagation()}var fu="relationship",Gb=t=>{let{AfterInput:e,allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",BeforeInput:s,className:i,description:l,Description:a,Error:c,filterOptions:u,hasMany:d,initialValue:f,isSortable:m=!0,label:h,Label:p,localized:g,maxResultsPerRequest:b=10,onChange:x,path:v,placeholder:C,readOnly:y,relationTo:S,required:w,showError:_,sortOptions:D,style:R,value:T}=t,{config:I,getEntityConfig:F}=H(),{routes:{api:P},serverURL:A}=I,{i18n:k,t:$}=L(),{permissions:j}=_e(),{code:N}=we(),[E,O]=Bs({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[M,B]=Bs(-1),[V,G]=Bs({}),[z,U]=Bs(""),[oe,X]=Bs(""),[Y,re]=Bs(!1),[W,ee]=Bs(!1),[ie,de]=Bs(!1),xe=mu(!1),{queueTask:Q}=ol(),[ae,be]=$O(Q4,[]),ye=mu(T);ye.current=T;let[J,,{isDrawerOpen:pe,openDrawer:te}]=vt({id:E.id,collectionSlug:E.collectionSlug}),Z=LO(()=>{let ve=u;if(T){let fe=(d===!1?[T]:T).reduce((q,ne)=>(q[ne.relationTo]||(q[ne.relationTo]=[]),q[ne.relationTo].push(ne.value),q),{});(Array.isArray(S)?S:[S]).forEach(q=>{ve={...ve||{},[q]:{...typeof u?.[q]=="object"?u[q]:{},...fe[q]?{id:{not_in:fe[q]}}:{}}}})}return ve},[u,T,d,S]),[le,,{closeDrawer:K,isDrawerOpen:he,openDrawer:Le}]=Gi({collectionSlugs:S,filterOptions:Z}),He=Ms(({collectionSlug:ve,doc:fe})=>{d?x([...Array.isArray(T)?T:[],{relationTo:ve,value:fe.id}]):d===!1&&x({relationTo:ve,value:fe.id}),K()},[d,x,K,T]),Ze=mu(!1),Ye=Ms(({filterOptions:ve,hasMany:fe,lastFullyLoadedRelation:q,lastLoadedPage:ne,onSuccess:ge,search:Fe,sort:je,value:Oe})=>{j&&Q(async()=>{let Ee=typeof q<"u"?q:-1,$e=Array.isArray(S)?S:[S],Ro=Ee===-1?$e:$e.slice(Ee+1),rr=0,nr=Bb(fe===!0?{hasMany:!0,relationTo:S,value:Oe}:{hasMany:!1,relationTo:S,value:Oe});z||(await Ro.reduce(async(si,uo)=>{let pn=ve?.[uo],Xe;if(oe!==Fe?Xe=1:Xe=ne[uo]+1,await si,pn===!1)return B($e.indexOf(uo)),Promise.resolve();if(rr<10){let tt=F({collectionSlug:uo}),to=tt?.admin?.useAsTitle||"id",ht=tt?.defaultSort||"id";typeof D=="string"?ht=D:D?.[uo]&&(ht=D[uo]);let Xt={depth:0,draft:!0,limit:b,locale:N,page:Xe,select:{[to]:!0},sort:ht,where:{and:[{id:{not_in:nr[uo]}}]}};Fe&&Xt.where.and.push({[to]:{like:Fe}}),pn&&typeof pn!="boolean"&&Xt.where.and.push(pn),Mb(Xt.where);let hn=await fetch(`${A}${P}/${uo}`,{body:Vb.stringify(Xt),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(hn.ok){let Nn=await hn.json();G(ii=>({...ii,[uo]:Xe})),Nn.nextPage||B($e.indexOf(uo)),Nn.docs.length>0&&(rr+=Nn.docs.length,be({type:"ADD",collection:tt,config:I,docs:Nn.docs,i18n:k,sort:je}))}else hn.status===403?(B($e.indexOf(uo)),be({type:"ADD",collection:tt,config:I,docs:[],i18n:k,ids:nr[uo],sort:je})):U($("error:unspecific"))}},Promise.resolve()),typeof ge=="function"&&ge())})},[j,Q,S,z,oe,F,D,b,N,A,P,k,I,$]),At=jb(({hasMany:ve,search:fe,value:q})=>{Ct({filterOptions:u,lastLoadedPage:{},search:fe,sort:!0,...ve===!0?{hasMany:ve,value:q}:{hasMany:ve,value:q}}),X(fe)},300),lt=Ms(ve=>{oe!==ve.search&&(G({}),At(ve))},[oe,At]),it=Gt(({hasMany:ve,value:fe})=>{let q=Bb(ve===!0?{hasMany:ve,relationTo:S,value:fe}:{hasMany:ve,relationTo:S,value:fe});Object.entries(q).reduce(async(ne,[ge,Fe])=>{await ne;let je=Fe.filter(Oe=>!ae.find(Ee=>Ee?.options?.find($e=>$e.value===Oe&&$e.relationTo===ge)));if(je.length>0){let Oe={depth:0,draft:!0,limit:je.length,locale:N,where:{id:{in:je}}};if(!z){let Ee=await fetch(`${A}${P}/${ge}`,{body:Vb.stringify(Oe),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),$e=F({collectionSlug:ge}),Ro=[];Ee.ok&&(Ro=(await Ee.json()).docs),be({type:"ADD",collection:$e,config:I,docs:Ro,i18n:k,ids:je,sort:!0})}}},Promise.resolve())}),Et=Ms(ve=>{be({type:"UPDATE",collection:ve.collectionConfig,config:I,doc:ve.doc,i18n:k});let fe=ve.doc.id;if(d){let ne=(ye.current?Array.isArray(ye.current)?ye.current:[ye.current]:[]).map(ge=>({relationTo:ge.value===fe?ve.collectionConfig.slug:ge.relationTo,value:ge.value}));x(ne)}else d===!1&&x({relationTo:ve.collectionConfig.slug,value:fe})},[k,I,d,x]),Ut=Ms(ve=>{be({type:"ADD",collection:ve.collectionConfig,config:I,docs:[ve.doc],i18n:k,sort:!0}),d?x(ye.current?ye.current.concat({relationTo:ve.collectionConfig.slug,value:ve.doc.id}):null):d===!1&&x({relationTo:ve.collectionConfig.slug,value:ve.doc.id})},[k,I,d,x]),We=Ms(ve=>{be({id:ve.id,type:"REMOVE",collection:ve.collectionConfig,config:I,i18n:k}),x(d&&ye.current?ye.current.filter(fe=>fe.value!==ve.id):null)},[k,I,d,x]),Be=Ms((ve,fe)=>{if(!fe)return!0;let q=NO(fe||""),ne=250,ge=String(ve.label);for(;ge.length>ne;){let Fe=ge.indexOf(" ",fe.length);if(q.test(ge.slice(0,Fe===-1?fe.length:Fe+1)))return!0;ge=ge.slice(Fe===-1?fe.length:Fe+1)}return q.test(ge.slice(-ne))},[]),Ke=Ms(({id:ve,collectionSlug:fe,hasReadPermission:q,openInNewTab:ne})=>{if(ne){if(q&&ve&&fe){let ge=EO({adminRoute:I.routes.admin,path:`/collections/${fe}/${ve}`});window.open(ge,"_blank")}}else Ze.current=!0,O({id:ve,collectionSlug:fe,hasReadPermission:q})},[I.routes.admin]),Ct=Gt(ve=>Ye(ve));Xf(()=>{xe.current&&ie&&(re(!0),Ct({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{xe.current=!0,re(!1)},...d===!0?{hasMany:d,value:ye.current}:{hasMany:d,value:ye.current}})),be({type:"CLEAR",exemptValues:ye.current}),B(-1),G({})},[S,u,N,v,ie,d]);let po=mu(T),Ft=mu(!0);Xf(()=>{(Ft.current||!AO(T,po.current))&&it(d===!0?{hasMany:d,value:T}:{hasMany:d,value:T}),Ft.current=!1,po.current=T},[T,d]),Xf(()=>{let fe=(Array.isArray(S)?S:[S]).reduce((q,ne)=>(F({collectionSlug:ne})?.admin?.useAsTitle||"id")==="id"&&q,!0);ee(!fe)},[S,F]),Xf(()=>{Ze.current&&(te(),Ze.current=!1)},[te,E]);let et=Y4({allowEdit:n,options:ae,value:T});return!Array.isArray(et)&&et?.value==="null"&&(et.value=null),Ob("div",{className:[De,fu,i,_&&"error",z&&"error-loading",y&&`${fu}--read-only`,!y&&o&&`${fu}--allow-create`].filter(Boolean).join(" "),id:`field-${v.replace(/\./g,"__")}`,style:R,children:[sn(me,{CustomComponent:p,Fallback:sn(Se,{label:h,localized:g,path:v,required:w})}),Ob("div",{className:`${De}__wrap`,children:[sn(me,{CustomComponent:c,Fallback:sn(ze,{path:v,showError:_})}),s,z?sn("div",{className:`${fu}__error-loading`,children:z}):Ob("div",{className:`${fu}__wrap`,children:[sn(pt,{backspaceRemovesValue:!(pe||he),components:{MultiValueLabel:e_,SingleValue:o_,...r!=="select"&&{DropdownIndicator:null}},customProps:{disableKeyDown:pe||he,disableMouseDown:pe||he,onDocumentOpen:Ke,onSave:Et},disabled:y||pe||he,filterOption:W?Be:void 0,getOptionValue:ve=>{if(ve)return d&&Array.isArray(S)?`${ve.relationTo}_${ve.value}`:ve.value},isLoading:r==="select"&&Y,isMulti:d,isSearchable:r==="select",isSortable:m,menuIsOpen:r==="select"?ie:!1,onChange:y?void 0:ve=>{d?x(ve===null?[]:ve):d===!1&&x(ve===null?null:ve)},onInputChange:ve=>lt({search:ve,...d===!0?{hasMany:d,value:T}:{hasMany:d,value:T}}),onMenuClose:()=>{de(!1)},onMenuOpen:()=>{r==="drawer"?setTimeout(()=>{Le()},100):r==="select"&&(de(!0),xe.current||(re(!0),Ct({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{xe.current=!0,re(!1)},...d===!0?{hasMany:d,value:T}:{hasMany:d,value:T}})))},onMenuScrollToBottom:()=>{Ct({filterOptions:u,lastFullyLoadedRelation:M,lastLoadedPage:V,search:oe,sort:!1,...d===!0?{hasMany:d,value:f}:{hasMany:d,value:f}})},options:ae,placeholder:C,showError:_,value:et??null}),!y&&o&&sn(V4,{path:v,relationTo:S,...d===!0?{hasMany:d,onChange:x,value:T}:{hasMany:d,onChange:x,value:T}})]}),e,sn(me,{CustomComponent:a,Fallback:sn(Ge,{description:l,path:v})})]}),E.collectionSlug&&E.hasReadPermission&&sn(J,{onDelete:We,onDuplicate:Ut,onSave:Et}),r==="drawer"&&!y&&sn(le,{allowCreate:o,enableRowSelections:!1,onSelect:He})]})};var MO=t=>{let{field:e,field:{admin:{allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",className:s,description:i,isSortable:l=!0,placeholder:a,sortOptions:c}={},hasMany:u,label:d,localized:f,relationTo:m,required:h},path:p,readOnly:g,validate:b}=t,x=Wb((M,B)=>{if(typeof b=="function")return b(M,{...B,required:h})},[b,h]),{customComponents:{AfterInput:v,BeforeInput:C,Description:y,Error:S,Label:w}={},disabled:_,filterOptions:D,initialValue:R,path:T,setValue:I,showError:F,value:P}=Ne({potentiallyStalePath:p,validate:x}),A=jO(()=>rt(e),[e]),k=Array.isArray(m),[$]=zb.useState(()=>Array.isArray(m)?m:[m]),j=Wb(M=>{if(!M){I(null,M===P);return}let B=!1;k?B=Array.isArray(P)&&Array.isArray(M)&&P.length===M.length&&P.every((G,z)=>{let U=M[z];return G.value===U.value&&G.relationTo===U.relationTo}):B=Array.isArray(P)&&Array.isArray(M)&&P.length===M.length&&P.every((G,z)=>G===M[z].value);let V=M.map(G=>k?G:G.value);I(V,B)},[k,I,P]),N=Wb(M=>{if(!M){I(null,M===P);return}let B=!1;k?B=P&&M&&P.value===M.value&&P.relationTo===M.relationTo:B=P&&M&&P===M.value;let V=k?M:M.value;I(V,B)},[k,I,P]),E=zb.useMemo(()=>u===!0?Array.isArray(P)?P.map(M=>k?M:{relationTo:Array.isArray($)?$[0]:$,value:M}):P:P&&(k?P:{relationTo:Array.isArray($)?$[0]:$,value:P}),[u,P,k,$]),O=zb.useMemo(()=>u===!0?Array.isArray(R)?R.map(M=>k?M:{relationTo:Array.isArray($)?$[0]:$,value:M}):R:R&&(k?R:{relationTo:Array.isArray($)?$[0]:$,value:R}),[R,k,$,u]);return kO(Gb,{AfterInput:v,allowCreate:o,allowEdit:n,appearance:r,BeforeInput:C,className:s,Description:y,description:i,Error:S,filterOptions:D,isSortable:l,Label:w,label:d,localized:f,maxResultsPerRequest:10,maxRows:e?.maxRows,minRows:e?.minRows,path:T,placeholder:a,readOnly:g||_,relationTo:$,required:h,showError:F,sortOptions:c,style:A,...u===!0?{hasMany:!0,initialValue:O,onChange:j,value:E}:{hasMany:!1,initialValue:O,onChange:N,value:E}})},pu=Me(MO);var hu=()=>null;import{jsx as Hb}from"react/jsx-runtime";import"react";var r_="row",BO=t=>{let{field:{admin:{className:e,style:o}={},fields:n},forceRender:r=!1,indexPath:s="",parentPath:i="",parentSchemaPath:l="",permissions:a,readOnly:c}=t;return Hb(vI,{children:Hb("div",{className:[De,r_,e].filter(Boolean).join(" "),style:o||void 0,children:Hb(_o,{className:`${r_}__fields`,fields:n,forceRender:r,margins:!1,parentIndexPath:s,parentPath:i,parentSchemaPath:l,permissions:a,readOnly:c})})})},gu=Me(BO);import{jsx as VO}from"react/jsx-runtime";import GO,{useCallback as s_,useMemo as zO}from"react";import{c as OO}from"react/compiler-runtime";import{jsx as zi,jsxs as n_}from"react/jsx-runtime";import{getTranslation as Ub}from"@payloadcms/translations";import"react";var il=t=>{let e=OO(41),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,filterOption:a,hasMany:c,isClearable:u,isSortable:d,label:f,Label:m,localized:h,onChange:p,onInputChange:g,options:b,path:x,placeholder:v,readOnly:C,required:y,showError:S,style:w,value:_}=t,D=c===void 0?!1:c,R=u===void 0?!0:u,T=d===void 0?!0:d,{i18n:I}=L(),F;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==l||e[4]!==m||e[5]!==r||e[6]!==i||e[7]!==a||e[8]!==D||e[9]!==I||e[10]!==R||e[11]!==T||e[12]!==f||e[13]!==h||e[14]!==p||e[15]!==g||e[16]!==b||e[17]!==x||e[18]!==v||e[19]!==C||e[20]!==y||e[21]!==S||e[22]!==w||e[23]!==_){let P;if(D&&Array.isArray(_)){let N;e[25]!==I||e[26]!==b?(N=E=>{let O=b.find(M=>M.value===E);return{label:O?Ub(O.label,I):E,value:O?.value??E}},e[25]=I,e[26]=b,e[27]=N):N=e[27],P=_.map(N)}else if(_){let N,E;if(e[28]!==I||e[29]!==b||e[30]!==_){let O;e[33]!==_?(O=M=>M.value===_,e[33]=_,e[34]=O):O=e[34],N=b.find(O),E=N?Ub(N.label,I):_,e[28]=I,e[29]=b,e[30]=_,e[31]=N,e[32]=E}else N=e[31],E=e[32];P={label:E,value:N?.value??_}}else P=null;let A=S&&"error",k=C&&"read-only",$;e[35]!==r||e[36]!==A||e[37]!==k?($=[De,"select",r,A,k].filter(Boolean),e[35]=r,e[36]=A,e[37]=k,e[38]=$):$=e[38];let j;e[39]!==I?(j=N=>({...N,label:Ub(N.label,I)}),e[39]=I,e[40]=j):j=e[40],F=n_("div",{className:$.join(" "),id:`field-${x.replace(/\./g,"__")}`,style:w,children:[zi(me,{CustomComponent:m,Fallback:zi(Se,{label:f,localized:h,path:x,required:y})}),n_("div",{className:`${De}__wrap`,children:[zi(me,{CustomComponent:l,Fallback:zi(ze,{path:x,showError:S})}),n,zi(pt,{disabled:C,filterOption:a,isClearable:R,isMulti:D,isSortable:T,onChange:p,onInputChange:g,options:b.map(j),placeholder:v,showError:S,value:P}),o]}),zi(me,{CustomComponent:s,Fallback:zi(Ge,{description:i,path:x})})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=l,e[4]=m,e[5]=r,e[6]=i,e[7]=a,e[8]=D,e[9]=I,e[10]=R,e[11]=T,e[12]=f,e[13]=h,e[14]=p,e[15]=g,e[16]=b,e[17]=x,e[18]=v,e[19]=C,e[20]=y,e[21]=S,e[22]=w,e[23]=_,e[24]=F}else F=e[24];return F};var WO=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e}),HO=t=>{let{field:e,field:{name:o,admin:{className:n,description:r,isClearable:s=!0,isSortable:i=!0,placeholder:l}={},hasMany:a=!1,label:c,localized:u,options:d=[],required:f},onChange:m,path:h,readOnly:p,validate:g}=t,b=GO.useMemo(()=>WO(d),[d]),x=s_((k,$)=>{if(typeof g=="function")return g(k,{...$,hasMany:a,options:b,required:f})},[g,f,a,b]),{customComponents:{AfterInput:v,BeforeInput:C,Description:y,Error:S,Label:w}={},disabled:_,path:D,selectFilterOptions:R,setValue:T,showError:I,value:F}=Ne({potentiallyStalePath:h,validate:x}),P=s_(k=>{if(!p||_){let $=null;k&&a?Array.isArray(k)?$=k.map(j=>j.value):$=[]:k&&!Array.isArray(k)&&($=k.value),typeof m=="function"&&m($),T($)}},[p,_,a,T,m]),A=zO(()=>rt(e),[e]);return VO(il,{AfterInput:v,BeforeInput:C,className:n,Description:y,description:r,Error:S,filterOption:R?({value:k})=>R?.some($=>(typeof $=="string"?$:$.value)===k):void 0,hasMany:a,isClearable:s,isSortable:i,Label:w,label:c,localized:u,name:o,onChange:P,options:b,path:D,placeholder:l,readOnly:p||_,required:f,showError:I,style:A,value:F})},bu=Me(HO);import{c as S_}from"react/compiler-runtime";import{jsx as es,jsxs as I_}from"react/jsx-runtime";import{getTranslation as A7}from"@payloadcms/translations";import{tabHasName as qf,toKebabCase as E7}from"payload/shared";import{useEffect as w_,useState as ov}from"react";var v_=ai(Yb(),1);import{jsx as an}from"react/jsx-runtime";import{dequal as b_}from"dequal/lite";import{useRouter as C7}from"next/navigation.js";import{deepCopyObjectSimpleWithoutReactComponents as Kb,getDataByPath as y7,getSiblingData as w7,reduceFieldsToValues as ev,wait as S7}from"payload/shared";import I7,{useCallback as Ko,useEffect as Hi,useReducer as _7,useRef as Cu,useState as Vs}from"react";import{c as JO}from"react/compiler-runtime";import{jsx as c_,jsxs as qO}from"react/jsx-runtime";import QO from"react";function KO(t){let e=[];for(let o of t)if(o){let n=o.split(" \u2192 "),r=!1;for(let s=0;s<e.length;s++)if(e[s].startsWith(n[0])){e.splice(s+1,0,o),r=!0;break}r||e.push(o)}return e}function e7(t){let[e,o]=t.split(":");if(!o)return{message:e};let n=o.split(",").map(r=>r.replaceAll(" > "," \u2192 ").trim());return n.length===1?{errors:n,message:`${e}:`}:{errors:KO(n),message:`${e} (${n.length}):`}}function u_(t){let e=JO(5),{errorMessage:o}=t,n;e[0]!==o?(n=()=>e7(o),e[0]=o,e[1]=n):n=e[1];let[r]=QO.useState(n),{errors:s,message:i}=r,l;return e[2]!==s||e[3]!==i?(l=qO("div",{children:[i,Array.isArray(s)&&s.length>0?c_("ul",{"data-testid":"field-errors",children:s.map(t7)}):null]}),e[2]=s,e[3]=i,e[4]=l):l=e[4],l}function t7(t,e){return c_("li",{children:t},e)}import{c as o7}from"react/compiler-runtime";import{useEffect as d_,useState as r7}from"react";function Jb(t,e,o){let n=o7(11),r;n[0]!==t?(r=()=>t,n[0]=t,n[1]=r):r=n[1];let[s,i]=r7(r),l;n[2]!==o||n[3]!==t?(l=()=>{let d=setTimeout(()=>{i(()=>t)},o);return()=>{clearTimeout(d)}},n[2]=o,n[3]=t,n[4]=l):l=n[4];let a;n[5]!==o||n[6]!==e?(a=[...e,o],n[5]=o,n[6]=e,n[7]=a):a=n[7],d_(l,a);let c,u;n[8]!==s?(c=()=>{s()},u=[s],n[8]=s,n[9]=c,n[10]=u):(c=n[9],u=n[10]),d_(c,u)}import{c as n7}from"react/compiler-runtime";import{jsx as s7}from"react/jsx-runtime";import m_,{useState as i7}from"react";var f_=m_.createContext(null),qb=t=>{let e=n7(6),{children:o}=t,[n,r]=i7(a7),s;e[0]!==n?(s=u=>{let{collectionSlug:d}=u;return n.get(d)},e[0]=n,e[1]=s):s=e[1];let i=s,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=u=>{let{collectionSlug:d,handler:f}=u;r(m=>{let h=new Map(m);return h.set(d,f),h})},e[2]=l):l=e[2];let a=l,c;return e[3]!==o||e[4]!==i?(c=s7(f_,{value:{getUploadHandler:i,setUploadHandler:a},children:o}),e[3]=o,e[4]=i,e[5]=c):c=e[5],c},vu=()=>{let t=m_.use(f_);if(t===null)throw new Error("useUploadHandlers must be used within UploadHandlersProvider");return t};function a7(){return new Map}var p_={413:"Your request was too large to submit successfully."};var Qb=ai(ob(),1);import{dequal as c7}from"dequal/lite";import{deepCopyObjectSimpleWithoutReactComponents as g_}from"payload/shared";import{dequal as l7}from"dequal/lite";var h_=({acceptValues:t,currentState:e={},incomingState:o})=>{let n={...e};for(let[r,s]of Object.entries(o||{}))!(r in e)&&!s.addedByServer||(!t&&!s.addedByServer&&(delete s.value,delete s.initialValue),n[r]={...e[r],...s},Array.isArray(s.rows)&&r in e&&(n[r].rows=[...e[r]?.rows||[]],s.rows.forEach(i=>{let l=e[r].rows?.findIndex(a=>a.id===i.id);l>-1&&(n[r].rows[l]={...e[r].rows[l],...i})})),s.valid!==!1&&(n[r].valid=!0),s.passesCondition!==!1&&(n[r].passesCondition=!0),delete n[r].addedByServer);return l7(n,e)?e:n};var al=(t,e)=>{let o={},n=Object.entries(e).reduce((r,[s,i])=>{let l=r;if(s.indexOf(`${t}.`)===0){let[a]=s.replace(`${t}.`,"").split(".");l[a]||(l[a]={}),l[a][s.replace(`${t}.${String(a)}.`,"")]={...i}}else o[s]=i;return l},[]);return{remainingFields:o,rows:n}},ll=(t,e)=>e.reduce((o,n,r)=>({...o,...Object.entries(n).reduce((s,[i,l])=>({...s,[`${t}.${r}.${i}`]:{...l}}),{})}),{});var Os=Qb.default.default||Qb.default;function xu(t,e){switch(e.type){case"ADD_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,i=typeof r=="number"?r:t[n]?.rows?.length||0,l=[...t[n]?.rows||[]],a={id:s?.id?.value||new Os().toHexString(),isLoading:!0};o&&(a.blockType=o),l.splice(i,0,a),o&&(s.blockType={initialValue:o,valid:!0,value:o});let{remainingFields:c,rows:u}=al(n,t);return u.splice(i,0,s),{...c,...ll(n,u),[`${n}.${i}.id`]:{initialValue:a.id,passesCondition:!0,valid:!0,value:a.id},[n]:{...t[n],disableFormData:!0,rows:l,value:u.length}}}case"ADD_SERVER_ERRORS":{let o={...t},n=[];return e.errors.forEach(({message:r,path:s})=>{o[s]={...o[s]||{initialValue:null,value:null},errorMessage:r,valid:!1};let i=s.split(".");i.length>1&&n.push({fieldErrorPath:s,parentPath:i.slice(0,i.length-1).join(".")})}),o=Object.entries(o).reduce((r,[s,i])=>{let l=n.reduce((c,{fieldErrorPath:u,parentPath:d})=>(d.startsWith(s)&&c.push(u),c),[]),a=!1;if(l.length>0){let c=Array.isArray(i.errorPaths)?i.errorPaths:[];l.forEach(u=>{c.includes(u)||(c.push(u),a=!0)}),a&&(r[s]={...i,errorPaths:c})}return a||(r[s]=i),r},{}),o}case"DUPLICATE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=al(o,t),i=[...t[o].rows||[]],l=g_(i[n]);l.id&&(l.id=new Os().toHexString()),i[n]?.customComponents?.RowLabel&&(l.customComponents={RowLabel:i[n].customComponents.RowLabel});let a=g_(s[n]);a.id&&(a.id.value=new Os().toHexString(),a.id.initialValue=new Os().toHexString());for(let u of Object.keys(a).filter(d=>d.endsWith(".id"))){let d=a[u];d&&typeof d.value=="string"&&Os.isValid(d.value)&&(a[u].value=new Os().toHexString(),a[u].initialValue=new Os().toHexString())}return Object.keys(a).length>0&&(s.splice(n+1,0,a),i.splice(n+1,0,l)),{...r,...ll(o,s),[o]:{...t[o],disableFormData:!0,rows:i,value:s.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:o,prevStateRef:n,serverState:r}=e,s=h_({acceptValues:o,currentState:t||{},incomingState:r});return n.current=s,s}case"MOVE_ROW":{let{moveFromIndex:o,moveToIndex:n,path:r}=e,{remainingFields:s,rows:i}=al(r,t),l=i[o];i.splice(o,1),i.splice(n,0,l);let a=[...t[r]?.rows||[]],c={...a[o]};return a.splice(o,1),a.splice(n,0,c),{...s,...ll(r,i),[r]:{...t[r],rows:a}}}case"REMOVE":{let o={...t};return o[e.path]&&delete o[e.path],o}case"REMOVE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=al(o,t),i=[...t[o]?.rows||[]];return s.splice(n,1),i.splice(n,1),{...r,[o]:{...t[o],disableFormData:s.length>0,rows:i,value:s.length},...ll(o,s)}}case"REPLACE_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,{remainingFields:i,rows:l}=al(n,t),a=Math.max(0,Math.min(r,l?.length-1||0)),c=[...t[n]?.rows||[]];return c[a]={id:new Os().toHexString(),blockType:o||void 0,collapsed:!1},o&&(s.blockType={initialValue:o,valid:!0,value:o}),l[a]=s,{...i,...ll(n,l),[n]:{...t[n],disableFormData:!0,rows:c,value:l.length}}}case"REPLACE_STATE":{if(e.optimize!==!1){let o={};for(let[n,r]of Object.entries(e.state)){let s=t[n];r.valid!==!1&&(r.valid=!0),r.passesCondition!==!1&&(r.passesCondition=!0),c7(s,r)?s&&(o[n]=s):o[n]=r}return o}if(e.sanitize)for(let o of Object.values(e.state))o.valid!==!1&&(o.valid=!0),o.passesCondition!==!1&&(o.passesCondition=!0);return e.state}case"SET_ALL_ROWS_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"SET_ROW_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"UPDATE":{let o=Object.entries(e).reduce((r,[s,i])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(s)?{...r,[s]:i}:r,t?.[e.path]||{});return{...t,[e.path]:o}}case"UPDATE_MANY":{let o={...t};return Object.entries(e.formState).forEach(([n,r])=>{o[n]=r}),o}default:return t}}var u7=()=>{},d7=()=>{},m7=()=>{},f7=()=>{},p7=()=>{},h7=()=>{},g7=()=>{},b7=()=>{},v7=()=>{},x7=()=>{},Yf={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:p7,disabled:!1,dispatchFields:m7,fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:d7,initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:x7,setBackgroundProcessing:b7,setDisabled:()=>{},setIsValid:()=>{},setModified:h7,setProcessing:g7,setSubmitted:v7,submit:u7,validateForm:f7};var D7="form",Kn=t=>{let{id:e,collectionSlug:o,docConfig:n,docPermissions:r,getDocPreferences:s,globalSlug:i}=Re(),{action:l,beforeSubmit:a,children:c,className:u,disabled:d,disableSuccessStatus:f,disableValidationOnSubmit:m,el:h,handleResponse:p,initialState:g,isDocumentForm:b,isInitializing:x,onChange:v,onSubmit:C,onSuccess:y,redirect:S,submitted:w,uuid:_,waitForAutocomplete:D}=t,R="method"in t?t?.method:void 0,T=C7(),I=ba(),{code:F}=we(),{i18n:P,t:A}=L(),{refreshCookie:k,user:$}=_e(),j=ur(),{queueTask:N}=ol(),{getFormState:E}=Rt(),{startRouteTransition:O}=Ue(),{getUploadHandler:M}=vu(),{config:B}=H(),[V,G]=Vs(d||!1),[z,U]=Vs(!1),[oe,X]=Vs(!1),[Y,re]=Vs(!0),[W,ee]=Vs(x),[ie,de]=Vs(!1),[xe,Q]=Vs(!1),[ae,be]=Vs(!1),ye=Cu(null),J=Cu({}),pe=Cu(null),te=Cu(!0),Z=_7(xu,{},()=>g),[le,K]=Z;J.current.fields=le;let he=Cu(le),Le=Ko(async()=>{let ne={},ge=!0,Fe=J.current.getData(),je=Object.entries(J.current.fields).map(async([Oe,Ee])=>{let $e=Ee,Ro=Oe?Oe.split("."):[];if(Ee.passesCondition!==!1){let rr=$e.valid;if("validate"in Ee&&typeof Ee.validate=="function"){let nr=Ee.value;Ee?.rows&&Array.isArray(Ee.rows)&&(nr=J.current.getDataByPath(Oe)),rr=await Ee.validate(nr,{...Ee,id:e,collectionSlug:o,blockData:void 0,data:I?.getData?I.getData():Fe,event:"submit",operation:j,path:Ro,preferences:{},req:{payload:{config:B},t:A,user:$},siblingData:J.current.getSiblingData(Oe)}),typeof rr=="string"?($e.errorMessage=rr,$e.valid=!1):($e.valid=!0,$e.errorMessage=void 0)}$e.valid===!1&&(ge=!1)}ne[Oe]=$e});return await Promise.all(je),b_(J.current.fields,ne)||K({type:"REPLACE_STATE",state:ne}),re(ge),ge},[o,B,K,e,j,A,$,I]),He=Ko(async(ne={},ge)=>{let{action:Fe=l,method:je=R,overrides:Oe={},skipValidation:Ee}=ne;if(V){ge&&ge.preventDefault();return}let $e,Ro,rr=new Promise((Xe,tt)=>{Ro=Xe,$e=tt}),nr=Fe||typeof l=="string"||typeof l=="function";if(S||f||!nr?(Ro=Xe=>ue.success(Xe),$e=Xe=>ue.error(Xe)):ue.promise(rr,{error:Xe=>Xe,loading:A("general:submitting"),success:Xe=>Xe}),ge&&(ge.stopPropagation(),ge.preventDefault()),de(!0),G(!0),D&&await S7(100),Array.isArray(a)){let Xe,tt=Kb(J.current.fields);await a.reduce(async(ht,Xt)=>{await ht,Xe=await Xt({formState:tt})},Promise.resolve());let to=Object.entries(Xe).every(([,ht])=>ht.valid!==!1);if(re(to),!to)return de(!1),be(!0),G(!1),K({type:"REPLACE_STATE",state:Xe})}let si=Ee||m?!0:await J.current.validateForm();if(re(si),!si){$e(A("error:correctInvalidFields")),de(!1),be(!0),G(!1);return}let uo={};if(typeof Oe=="function"?uo=Oe(J.current.fields):typeof Oe=="object"&&(uo=Oe),C){let Xe=Kb(J.current.fields),tt=ev(Xe,!0);for(let[to,ht]of Object.entries(uo))tt[to]=ht;C(Xe,tt)}if(!nr){de(!1),be(!0),G(!1);return}let pn=await J.current.createFormData(uo,{mergeOverrideData:typeof Oe!="function"});try{let Xe;if(typeof Fe=="string"?Xe=await Je[je.toLowerCase()](Fe,{body:pn,headers:{"Accept-Language":P.language}}):typeof l=="function"&&(Xe=await l(pn)),X(!1),G(!1),typeof p=="function"){p(Xe,Ro,$e);return}let tt=Xe.headers.get("content-type"),to=tt&&tt.indexOf("application/json")!==-1,ht={};if(to&&(ht=await Xe.json()),Xe.status<400){if(typeof y=="function"){let Xt=await y(ht);Xt&&K({type:"MERGE_SERVER_STATE",acceptValues:!0,prevStateRef:he,serverState:Xt})}be(!1),de(!1),S?O(()=>T.push(S)):f||Ro(ht.message||A("general:submissionSuccessful"))}else{if(de(!1),be(!0),J.current={...J.current},ht.message){$e(ht.message);return}if(Array.isArray(ht.errors)){let[hn,Nn]=ht.errors.reduce(([ii,Ph],ha)=>{let Xx=[],Ah=[];return ha?.message&&Ah.push(ha),Array.isArray(ha?.data?.errors)&&ha.data?.errors.forEach(Eh=>{Eh?.path?Xx.push(Eh):Ah.push(Eh)}),[[...ii,...Xx],[...Ph,...Ah]]},[[],[]]);re(!1),K({type:"ADD_SERVER_ERRORS",errors:hn}),Nn.forEach(ii=>{$e(an(u_,{errorMessage:ii.message||A("error:unknown")}))});return}let Xt=p_?.[Xe.status]||Xe?.statusText||A("error:unknown");$e(Xt)}}catch(Xe){console.error("Error submitting form",Xe),de(!1),be(!0),G(!1),$e(Xe.message)}},[a,O,l,f,m,V,K,p,R,C,y,S,T,A,P,D]),Ze=Ko(()=>J.current.fields,[]),Ye=Ko(ne=>J.current.fields[ne],[]),At=Ko(()=>ev(J.current.fields,!0),[]),lt=Ko(ne=>w7(J.current.fields,ne),[]),it=Ko(ne=>y7(J.current.fields,ne),[]),Et=Ko(async(ne,{mergeOverrideData:ge=!0})=>{let Fe=ev(J.current.fields,!0),je=Fe?.file;if(n&&"upload"in n&&n.upload&&je){delete Fe.file;let $e=M({collectionSlug:o});if(typeof $e=="function"){let Ro=je.name,rr=await $e({file:je,updateFilename:nr=>{Ro=nr}});je=JSON.stringify({clientUploadContext:rr,collectionSlug:o,filename:Ro,mimeType:je.type,size:je.size})}}ge?Fe={...Fe,...ne}:Fe=ne;let Oe={_payload:JSON.stringify(Fe)};return n&&"upload"in n&&n.upload&&je&&(Oe.file=je),(0,v_.serialize)(Oe,{indices:!0,nullsAsUndefineds:!1})},[o,n,M]),Ut=Ko(async ne=>{let ge=hr(pe),Fe=await s(),{state:je}=await E({id:e,collectionSlug:o,data:ne,docPermissions:r,docPreferences:Fe,globalSlug:i,locale:F,operation:j,renderAllFields:!0,schemaPath:o||i,signal:ge.signal,skipValidation:!0});J.current={...Yf},X(!1),K({type:"REPLACE_STATE",state:je}),pe.current=null},[o,K,i,e,j,E,r,s,F]),We=Ko(ne=>{J.current={...Yf},X(!1),K({type:"REPLACE_STATE",state:ne})},[K]),Be=Ko(({blockType:ne,path:ge,rowIndex:Fe,subFieldState:je})=>{let Oe=it(ge)||[],Ee=Fe===void 0?Oe.length:Fe;K({type:"ADD_ROW",blockType:ne,path:ge,rowIndex:Ee,subFieldState:je}),X(!0)},[K,it]),Ke=Ko(({moveFromIndex:ne,moveToIndex:ge,path:Fe})=>{K({type:"MOVE_ROW",moveFromIndex:ne,moveToIndex:ge,path:Fe}),X(!0)},[K]),Ct=Ko(({path:ne,rowIndex:ge})=>{K({type:"REMOVE_ROW",path:ne,rowIndex:ge}),X(!0)},[K]),po=Ko(({blockType:ne,path:ge,rowIndex:Fe,subFieldState:je})=>{let Oe=it(ge),Ee=Fe===void 0?Oe.length:Fe;K({type:"REPLACE_ROW",blockType:ne,path:ge,rowIndex:Ee,subFieldState:je}),X(!0)},[K,it]);Hi(()=>{let ne=pe.current;return()=>{pr(ne)}},[]),Hi(()=>{x!==void 0&&ee(x)},[x]),J.current.submit=He,J.current.getFields=Ze,J.current.getField=Ye,J.current.getData=At,J.current.getSiblingData=lt,J.current.getDataByPath=it,J.current.validateForm=Le,J.current.createFormData=Et,J.current.setModified=X,J.current.setProcessing=de,J.current.setBackgroundProcessing=Q,J.current.setSubmitted=be,J.current.setIsValid=re,J.current.disabled=V,J.current.setDisabled=G,J.current.formRef=ye,J.current.reset=Ut,J.current.replaceState=We,J.current.dispatchFields=K,J.current.addFieldRow=Be,J.current.removeFieldRow=Ct,J.current.moveFieldRow=Ke,J.current.replaceFieldRow=po,J.current.uuid=_,J.current.initializing=W,J.current.isValid=Y,Hi(()=>{U(!0)},[]),Hi(()=>{typeof d=="boolean"&&G(d)},[d]),Hi(()=>{typeof w=="boolean"&&be(w)},[w]),Hi(()=>{g&&(J.current={...Yf},K({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:g}))},[g,K]),xi(()=>{k()},15e3,[le]),Hi(()=>{J.current={...J.current},X(!1)},[F]);let Ft=[u,D7].filter(Boolean).join(" "),et=Gt(ne=>{N(async()=>{if(Array.isArray(v)){let ge;for(let Fe of v)ge=await Fe({formState:Kb(le),submitted:ne});K({type:"MERGE_SERVER_STATE",prevStateRef:he,serverState:ge})}})});Jb(()=>{(te.current||!b_(le,he.current))&&oe&&et(ae),he.current=le,te.current=!1},[oe,ae,le],250);let ve=b?zd:I7.Fragment,fe=b?{value:J.current}:{};return an(h||"form",{action:typeof l=="function"?void 0:l,className:Ft,method:R,noValidate:!0,onSubmit:ne=>void J.current.submit({},ne),ref:ye,children:an(ve,{...fe,children:an(Gd,{value:J.current,children:an(Wd,{value:{fields:le,...J.current},children:an(Hd,{value:ae,children:an(Xh,{value:!z||z&&W,children:an(Ud,{value:ie,children:an(Uh,{value:xe,children:an(Xd,{value:oe,children:an(Ql.Provider,{value:Z,children:c})})})})})})})})})})};import{c as F7}from"react/compiler-runtime";import{jsx as x_,jsxs as C_}from"react/jsx-runtime";import{getTranslation as T7}from"@payloadcms/translations";import{tabHasName as y_}from"payload/shared";import R7,{useState as P7}from"react";var Jf="tabs-field__tab-button",tv=t=>{let e=F7(15),{hidden:o,isActive:n,parentPath:r,setIsActive:s,tab:i}=t,{i18n:l}=L(),[a,c]=P7(void 0),u;if(e[0]!==a||e[1]!==o||e[2]!==l||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i){let d=[...r?r.split(".").slice(0,-1):[],...y_(i)?[i.name]:[]],f=a>0,m=x_(Fi,{fields:i.fields,path:d,setErrorCount:c}),h=f&&`${Jf}--has-error`,p=n&&`${Jf}--active`,g=o&&`${Jf}--hidden`,b;e[8]!==h||e[9]!==p||e[10]!==g?(b=[Jf,h,p,g].filter(Boolean),e[8]=h,e[9]=p,e[10]=g,e[11]=b):b=e[11];let x;e[12]!==l||e[13]!==i?(x=i.label?T7(i.label,l):y_(i)?i.name:"",e[12]=l,e[13]=i,e[14]=x):x=e[14],u=C_(R7.Fragment,{children:[m,C_("button",{className:b.join(" "),onClick:s,type:"button",children:[x,f&&x_(ho,{count:a,i18n:l})]})]}),e[0]=a,e[1]=o,e[2]=l,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=u}else u=e[7];return u};var ts="tabs-field";function cl({activeTabConfig:t,path:e}){let o=e;return qf(t)&&t.name&&(e?o=`${e}.${t.name}`:o=t.name),o}var N7=t=>{let e=S_(89),{field:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c}=t,{admin:u,tabs:d}=o,f;e[0]!==u?(f=u===void 0?{}:u,e[0]=u,e[1]=f):f=e[1];let{className:m}=f,h;e[2]!==d?(h=d===void 0?[]:d,e[2]=d,e[3]=h):h=e[3];let p=h,g=n===void 0?!1:n,b=r===void 0?"":r,x=s===void 0?"":s,v=i===void 0?"":i,C=l===void 0?"":l,{getPreference:y,setPreference:S}=Zt(),{preferencesKey:w}=Re(),{i18n:_}=L(),{isWithinCollapsible:D}=Ts(),R;e[4]!==p?(R=te=>{let[Z]=te;return p.map((le,K)=>{let he=le?.id;return{index:K,passesCondition:Z?.[he]?.passesCondition??!0,tab:le}})},e[4]=p,e[5]=R):R=e[5];let T=Tt(R),I;e[6]!==T?(I=()=>T.filter($7)?.[0]?.index??0,e[6]=T,e[7]=I):I=e[7];let[F,P]=ov(I),A=`tabs-${b}`,k;e[8]!==F||e[9]!==x||e[10]!==p?(k=()=>cl({activeTabConfig:p[F],path:x}),e[8]=F,e[9]=x,e[10]=p,e[11]=k):k=e[11];let[$,j]=ov(k),N;e[12]!==v||e[13]!==p[0]?(N=()=>cl({activeTabConfig:p[0],path:v}),e[12]=v,e[13]=p[0],e[14]=N):N=e[14];let[E,O]=ov(N),M;e[15]!==F||e[16]!==$||e[17]!==x||e[18]!==p?(M=qf(p[F])?$:x,e[15]=F,e[16]=$,e[17]=x,e[18]=p,e[19]=M):M=e[19];let B=M,V=T[F],G=V?.tab,z;e[20]!==F||e[21]!==E||e[22]!==v||e[23]!==p?(z=qf(p[F])?E:v,e[20]=F,e[21]=E,e[22]=v,e[23]=p,e[24]=z):z=e[24];let U=z,oe=G.admin?.description??G.description,X;e[25]!==oe||e[26]!==_?(X=typeof oe=="function"?oe({i18n:_,t:_.t}):oe,e[25]=oe,e[26]=_,e[27]=X):X=e[27];let Y=X,re=T.some(k7),W;e[28]!==y||e[29]!==x||e[30]!==v||e[31]!==C||e[32]!==w||e[33]!==S||e[34]!==p||e[35]!==A?(W=async te=>{P(te),j(cl({activeTabConfig:p[te],path:x})),O(cl({activeTabConfig:p[te],path:v}));let Z=await y(w);w&&S(w,{...Z,...C?{fields:{...Z?.fields||{},[C]:{...Z?.fields?.[C],tabIndex:te}}}:{fields:{...Z?.fields,[A]:{...Z?.fields?.[A],tabIndex:te}}}})},e[28]=y,e[29]=x,e[30]=v,e[31]=C,e[32]=w,e[33]=S,e[34]=p,e[35]=A,e[36]=W):W=e[36];let ee=W,ie,de;e[37]!==y||e[38]!==x||e[39]!==v||e[40]!==C||e[41]!==w||e[42]!==p||e[43]!==A?(ie=()=>{w&&(async()=>{let Z=await y(w),K=(C?Z?.fields?.[C]?.tabIndex:Z?.fields?.[A]?.tabIndex)||0;P(K),j(cl({activeTabConfig:p[K],path:x})),O(cl({activeTabConfig:p[K],path:v}))})()},de=[C,y,w,A,p,x,v],e[37]=y,e[38]=x,e[39]=v,e[40]=C,e[41]=w,e[42]=p,e[43]=A,e[44]=ie,e[45]=de):(ie=e[44],de=e[45]),w_(ie,de);let xe;e[46]!==V?.passesCondition||e[47]!==ee||e[48]!==T?(xe=()=>{if(V?.passesCondition===!1){let te=T.find(j7);te&&ee(te.index)}},e[46]=V?.passesCondition,e[47]=ee,e[48]=T,e[49]=xe):xe=e[49];let Q;e[50]!==V||e[51]!==ee||e[52]!==T?(Q=[V,T,ee],e[50]=V,e[51]=ee,e[52]=T,e[53]=Q):Q=e[53],w_(xe,Q);let ae=D&&`${ts}--within-collapsible`,be=!re&&`${ts}--hidden`,ye;e[54]!==m||e[55]!==ae||e[56]!==be?(ye=[De,m,ts,ae,be].filter(Boolean),e[54]=m,e[55]=ae,e[56]=be,e[57]=ye):ye=e[57];let J=ye.join(" "),pe;if(e[58]!==B||e[59]!==U||e[60]!==G||e[61]!==F||e[62]!==V||e[63]!==$||e[64]!==Y||e[65]!==g||e[66]!==ee||e[67]!==b||e[68]!==C||e[69]!==a||e[70]!==c||e[71]!==J||e[72]!==T){let te;e[74]!==F||e[75]!==ee||e[76]!==C?(te=le=>{let{index:K,passesCondition:he,tab:Le}=le;return es(tv,{hidden:!he,isActive:F===K,parentPath:C,setIsActive:()=>{ee(K)},tab:Le},K)},e[74]=F,e[75]=ee,e[76]=C,e[77]=te):te=e[77];let Z;e[78]!==B||e[79]!==U||e[80]!==G||e[81]!==V||e[82]!==$||e[83]!==Y||e[84]!==g||e[85]!==b||e[86]!==a||e[87]!==c?(Z=G&&es(L7,{description:Y,fields:G.fields,forceRender:g,hidden:!1,parentIndexPath:qf(G)?"":`${b?b+"-":""}`+String(V.index),parentPath:B,parentSchemaPath:U,path:$,permissions:a&&typeof a=="object"&&"name"in G?a[G.name]&&typeof a[G.name]=="object"&&"fields"in a[G.name]?a[G.name].fields:a[G.name]:a,readOnly:c}),e[78]=B,e[79]=U,e[80]=G,e[81]=V,e[82]=$,e[83]=Y,e[84]=g,e[85]=b,e[86]=a,e[87]=c,e[88]=Z):Z=e[88],pe=es("div",{className:J,children:I_(eb,{children:[es("div",{className:`${ts}__tabs-wrap`,children:es("div",{className:`${ts}__tabs`,children:T.map(te)})}),es("div",{className:`${ts}__content-wrap`,children:Z})]})}),e[58]=B,e[59]=U,e[60]=G,e[61]=F,e[62]=V,e[63]=$,e[64]=Y,e[65]=g,e[66]=ee,e[67]=b,e[68]=C,e[69]=a,e[70]=c,e[71]=J,e[72]=T,e[73]=pe}else pe=e[73];return pe},yu=Me(N7);function L7(t){let e=S_(19),{description:o,fields:n,forceRender:r,hidden:s,label:i,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}=t,{i18n:f}=L(),{customComponents:m,path:h}=Ne(),p;e[0]!==m?(p=m===void 0?{}:m,e[0]=m,e[1]=p):p=e[1];let{AfterInput:g,BeforeInput:b,Description:x,Field:v}=p;if(v)return v;let C=s&&`${ts}__tab--hidden`,y=i&&`${ts}__tabConfigLabel-${E7(A7(i,f))}`,S;e[2]!==C||e[3]!==y?(S=[C,`${ts}__tab`,y].filter(Boolean),e[2]=C,e[3]=y,e[4]=S):S=e[4];let w=S.join(" "),_;return e[5]!==g||e[6]!==b||e[7]!==x||e[8]!==o||e[9]!==n||e[10]!==r||e[11]!==l||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==d||e[17]!==w?(_=I_("div",{className:w,children:[es(me,{CustomComponent:x,Fallback:es(Ge,{description:o,marginPlacement:"bottom",path:h})}),b,es(_o,{fields:n,forceRender:r,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}),g]}),e[5]=g,e[6]=b,e[7]=x,e[8]=o,e[9]=n,e[10]=r,e[11]=l,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=d,e[17]=w,e[18]=_):_=e[18],_}function $7(t){let{passesCondition:e}=t;return e}function k7(t){let{passesCondition:e}=t;return e}function j7(t){let{passesCondition:e}=t;return e}import{jsx as G7}from"react/jsx-runtime";import{useCallback as D_,useEffect as z7,useMemo as W7,useState as H7}from"react";import{c as M7}from"react/compiler-runtime";import{jsx as Gs,jsxs as __}from"react/jsx-runtime";import{getTranslation as B7}from"@payloadcms/translations";import"react";var rv=t=>{let e=M7(32),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,hasMany:a,htmlAttributes:c,inputRef:u,Label:d,label:f,localized:m,maxRows:h,onChange:p,onKeyDown:g,path:b,placeholder:x,readOnly:v,required:C,rtl:y,showError:S,style:w,value:_,valueToRender:D}=t,{i18n:R,t:T}=L(),I=V7,F;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==l||e[4]!==d||e[5]!==r||e[6]!==i||e[7]!==a||e[8]!==c||e[9]!==R||e[10]!==u||e[11]!==f||e[12]!==m||e[13]!==h||e[14]!==p||e[15]!==g||e[16]!==b||e[17]!==x||e[18]!==v||e[19]!==C||e[20]!==y||e[21]!==S||e[22]!==w||e[23]!==T||e[24]!==_||e[25]!==D){let P=B7(x,R),A=S&&"error",k=v&&"read-only",$=a&&"has-many",j;e[27]!==r||e[28]!==A||e[29]!==k||e[30]!==$?(j=[De,"text",r,A,k,$].filter(Boolean),e[27]=r,e[28]=A,e[29]=k,e[30]=$,e[31]=j):j=e[31],F=__("div",{className:j.join(" "),style:w,children:[Gs(me,{CustomComponent:d,Fallback:Gs(Se,{label:f,localized:m,path:b,required:C})}),__("div",{className:`${De}__wrap`,children:[Gs(me,{CustomComponent:l,Fallback:Gs(ze,{path:b,showError:S})}),n,a?Gs(pt,{className:`field-${b.replace(/\./g,"__")}`,components:{DropdownIndicator:null},customProps:{editableProps:I},disabled:v,filterOption:()=>h?!(Array.isArray(_)&&h&&_.length>=h):!0,isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(_)&&_.length>=h?T("validation:limitReached",{max:h,value:_.length+1}):null,onChange:p,options:[],placeholder:P,showError:S,value:D}):Gs("input",{"data-rtl":y,disabled:v,id:`field-${b?.replace(/\./g,"__")}`,name:b,onChange:p,onKeyDown:g,placeholder:P,ref:u,type:"text",value:_||"",...c??{}}),o,Gs(me,{CustomComponent:s,Fallback:Gs(Ge,{description:i,path:b})})]})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=l,e[4]=d,e[5]=r,e[6]=i,e[7]=a,e[8]=c,e[9]=R,e[10]=u,e[11]=f,e[12]=m,e[13]=h,e[14]=p,e[15]=g,e[16]=b,e[17]=x,e[18]=v,e[19]=C,e[20]=y,e[21]=S,e[22]=w,e[23]=T,e[24]=_,e[25]=D,e[26]=F}else F=e[26];return F};function O7(t){t.currentTarget.contentEditable="false"}function V7(t,e,o){let n=`${e}--editable`;return{onBlur:O7,onClick:r=>{r.currentTarget.contentEditable="true",r.currentTarget.classList.add(n),r.currentTarget.focus()},onKeyDown:r=>{if(r.key==="Enter"||r.key==="Tab"||r.key==="Escape"){if(r.currentTarget.contentEditable="false",r.currentTarget.classList.remove(n),t.value.value=r.currentTarget.innerText,t.label=r.currentTarget.innerText,t.value.value.replaceAll(`
`,""))o.onChange(o.value,{action:"create-option",option:t});else if(Array.isArray(o.value)){let s=o.value.filter(i=>i.id!==t.id);o.onChange(s,{action:"pop-value",removedValue:t})}r.preventDefault()}r.stopPropagation()}}}var U7=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s,rtl:i}={},hasMany:l,label:a,localized:c,maxLength:u,maxRows:d,minLength:f,minRows:m,required:h},inputRef:p,path:g,readOnly:b,validate:x}=t,v=we(),{config:{localization:C}}=H(),y=D_((O,M)=>{if(typeof x=="function")return x(O,{...M,maxLength:u,minLength:f,required:h})},[x,f,u,h]),{customComponents:{AfterInput:S,BeforeInput:w,Description:_,Error:D,Label:R}={},disabled:T,path:I,setValue:F,showError:P,value:A}=Ne({potentiallyStalePath:g,validate:y}),k=Pa({fieldLocalized:c,fieldRTL:i,locale:v,localizationConfig:C||void 0}),[$,j]=H7([]),N=D_(O=>{if(!(b||T)){let M;O?Array.isArray(O)?M=O.map(B=>B.value?.value||B.value):M=[O.value?.value||O.value]:M=[],F(M)}},[b,F,T]);z7(()=>{l&&Array.isArray(A)&&j(A.map((O,M)=>({id:`${O}${M}`,label:`${O}`,value:{toString:()=>`${O}${M}`,value:O?.value||O}})))},[A,l]);let E=W7(()=>rt(e),[e]);return G7(rv,{AfterInput:S,BeforeInput:w,className:n,Description:_,description:r,Error:D,hasMany:l,htmlAttributes:{autoComplete:o||void 0},inputRef:p,Label:R,label:a,localized:c,maxRows:d,minRows:m,onChange:l?N:O=>{F(O.target.value)},path:I,placeholder:s,readOnly:b||T,required:h,rtl:k,showError:P,style:E,value:A||"",valueToRender:$})},Ui=Me(U7);import{jsx as Y7}from"react/jsx-runtime";import{getTranslation as J7}from"@payloadcms/translations";import{useCallback as q7,useMemo as Q7}from"react";import{c as X7}from"react/compiler-runtime";import{jsx as zs,jsxs as F_}from"react/jsx-runtime";import{getTranslation as Z7}from"@payloadcms/translations";import"react";var nv=t=>{let e=X7(26),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,Label:a,label:c,localized:u,onChange:d,path:f,placeholder:m,readOnly:h,required:p,rows:g,rtl:b,showError:x,style:v,value:C}=t,{i18n:y}=L(),S=x&&"error",w=h&&"read-only",_;e[0]!==r||e[1]!==S||e[2]!==w?(_=[De,"textarea",r,S,w].filter(Boolean),e[0]=r,e[1]=S,e[2]=w,e[3]=_):_=e[3];let D=_.join(" "),R=`field-${f.replace(/\./g,"__")}`,T;return e[4]!==o||e[5]!==n||e[6]!==s||e[7]!==l||e[8]!==a||e[9]!==i||e[10]!==y||e[11]!==c||e[12]!==u||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==x||e[21]!==v||e[22]!==D||e[23]!==R||e[24]!==C?(T=F_("div",{className:D,style:v,children:[zs(me,{CustomComponent:a,Fallback:zs(Se,{htmlFor:R,label:c,localized:u,path:f,required:p})}),F_("div",{className:`${De}__wrap`,children:[zs(me,{CustomComponent:l,Fallback:zs(ze,{path:f,showError:x})}),n,zs("div",{className:"textarea-outer",children:zs("textarea",{"data-rtl":b,disabled:h,id:`field-${f.replace(/\./g,"__")}`,name:f,onChange:d,placeholder:Z7(m,y),rows:g,style:{"--rows":g},value:C||""})}),o,zs(me,{CustomComponent:s,Fallback:zs(Ge,{description:i,path:f})})]})]}),e[4]=o,e[5]=n,e[6]=s,e[7]=l,e[8]=a,e[9]=i,e[10]=y,e[11]=c,e[12]=u,e[13]=d,e[14]=f,e[15]=m,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=x,e[21]=v,e[22]=D,e[23]=R,e[24]=C,e[25]=T):T=e[25],T};var K7=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,rows:s,rtl:i}={},label:l,localized:a,maxLength:c,minLength:u,required:d},path:f,readOnly:m,validate:h}=t,{i18n:p}=L(),{config:{localization:g}}=H(),b=we(),x=Pa({fieldLocalized:a,fieldRTL:i,locale:b,localizationConfig:g||void 0}),v=q7((A,k)=>{if(typeof h=="function")return h(A,{...k,maxLength:c,minLength:u,required:d})},[h,d,c,u]),{customComponents:{AfterInput:C,BeforeInput:y,Description:S,Error:w,Label:_}={},disabled:D,path:R,setValue:T,showError:I,value:F}=Ne({potentiallyStalePath:f,validate:v}),P=Q7(()=>rt(e),[e]);return Y7(nv,{AfterInput:C,BeforeInput:y,className:o,Description:S,description:n,Error:w,Label:_,label:l,localized:a,onChange:A=>{T(A.target.value)},path:R,placeholder:J7(r,p),readOnly:m||D,required:d,rows:s,rtl:x,showError:I,style:P,value:F})},wu=Me(K7);var Su=()=>null;import{jsx as e6}from"react/jsx-runtime";import hG,{useMemo as gG}from"react";import{c as GD}from"react/compiler-runtime";import{jsx as ss,jsxs as eG}from"react/jsx-runtime";import{validateMimeType as tG}from"payload/shared";import ns from"react";import{c as e8}from"react/compiler-runtime";import{jsx as t8}from"react/jsx-runtime";import{createContext as o8,use as r8,useState as sv}from"react";var T_=o8(void 0),ul=t=>{let e=e8(5),{children:o}=t,[n,r]=sv(null),[s,i]=sv(""),[l,a]=sv(null),c;return e[0]!==o||e[1]!==l||e[2]!==n||e[3]!==s?(c=t8(T_,{value:{setUploadControlFile:a,setUploadControlFileName:r,setUploadControlFileUrl:i,uploadControlFile:l,uploadControlFileName:n,uploadControlFileUrl:s},children:o}),e[0]=o,e[1]=l,e[2]=n,e[3]=s,e[4]=c):c=e[4],c},iv=()=>{let t=r8(T_);if(!t)throw new Error("useUploadControls must be used within an UploadControlsProvider");return t};import{jsx as Kf,jsxs as av}from"react/jsx-runtime";import u8 from"react";import{jsx as n8}from"react/jsx-runtime";import Ws from"react";var R_=t=>{t.preventDefault(),t.stopPropagation()},s8="dropzone";function Xi({children:t,className:e,disabled:o=!1,dropzoneStyle:n="default",multipleFiles:r,onChange:s}){let i=Ws.useRef(null),[l,a]=Ws.useState(!1),c=Ws.useCallback(p=>{if(!r&&p.length>1){let g=new DataTransfer;g.items.add(p[0]),s(g.files)}else s(p)},[r,s]),u=Ws.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.clipboardData.files&&p.clipboardData.files.length>0&&c(p.clipboardData.files)},[c]),d=Ws.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!0)},[]),f=Ws.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1)},[]),m=Ws.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0&&(c(p.dataTransfer.files),a(!1),p.dataTransfer.clearData())},[c]);Ws.useEffect(()=>{let p=i.current;return p&&!o?(p.addEventListener("dragenter",d),p.addEventListener("dragleave",f),p.addEventListener("dragover",R_),p.addEventListener("drop",m),p.addEventListener("paste",u),()=>{p.removeEventListener("dragenter",d),p.removeEventListener("dragleave",f),p.removeEventListener("dragover",R_),p.removeEventListener("drop",m),p.removeEventListener("paste",u)}):()=>null},[o,d,f,m,u]);let h=[s8,e,l?"dragging":"",`dropzoneStyle--${n}`].filter(Boolean).join(" ");return n8("div",{className:h,ref:i,children:t})}import{jsx as A_,jsxs as l8}from"react/jsx-runtime";import"react";import{c as i8}from"react/compiler-runtime";import{jsx as P_}from"react/jsx-runtime";import"react";var a8="drawer-close-button";function Qf(t){let e=i8(3),{onClick:o}=t,{t:n}=L(),r;return e[0]!==o||e[1]!==n?(r=P_("button",{"aria-label":n("general:close"),className:a8,onClick:o,type:"button",children:P_(ct,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}var c8="bulk-upload--drawer-header";function dl({onClose:t,title:e}){return l8("div",{className:c8,children:[A_("h2",{title:e,children:e}),A_(Qf,{onClick:t})]})}var ep="bulk-upload--add-files";function tp({acceptMimeTypes:t,onCancel:e,onDrop:o}){let{t:n}=L(),r=u8.useRef(null);return av("div",{className:ep,children:[Kf(dl,{onClose:e,title:n("upload:addFiles")}),Kf("div",{className:`${ep}__dropArea`,children:av(Xi,{multipleFiles:!0,onChange:o,children:[Kf(se,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:n("upload:selectFile")}),Kf("input",{accept:t,"aria-hidden":"true",className:`${ep}__hidden-input`,hidden:!0,multiple:!0,onChange:s=>{s.target.files&&s.target.files.length>0&&o(s.target.files)},ref:r,type:"file"}),av("p",{className:`${ep}__dragAndDropText`,children:[n("general:or")," ",n("upload:dragAndDrop")]})]})})]})}import{c as qV}from"react/compiler-runtime";import{jsx as Ou,jsxs as Fv}from"react/jsx-runtime";import{getTranslation as QV}from"@payloadcms/translations";import{reduceFieldsToValues as KV}from"payload/shared";import"react";import{c as U_}from"react/compiler-runtime";import{jsx as ln,jsxs as _u}from"react/jsx-runtime";import"react";import{c as T8}from"react/compiler-runtime";import{jsx as ip,jsxs as R8}from"react/jsx-runtime";import"react";import{jsx as m8,jsxs as f8}from"react/jsx-runtime";import*as op from"qs-esm";import xt from"react";var E_=ai(Yb(),1);import{reduceFieldsToValues as d8}from"payload/shared";async function N_(t={},e={},o,n){let r=d8(t,!0),s=r?.file;if(s&&delete r.file,s&&typeof n=="function"){let a=s.name,c=await n({file:s,updateFilename:u=>{a=u}});s=JSON.stringify({clientUploadContext:c,collectionSlug:o,filename:a,mimeType:s.type,size:s.size})}let i={...r,...e},l={_payload:JSON.stringify(i),file:s};return(0,E_.serialize)(l,{indices:!0,nullsAsUndefineds:!1})}function L_(t,e){switch(e.type){case"ADD_FORMS":{let o=[];for(let n=0;n<e.files.length;n++)o[n]={errorCount:0,formID:crypto.randomUUID(),formState:{...e.initialState||{},file:{initialValue:e.files[n],valid:!0,value:e.files[n]}},uploadEdits:{}};return{...t,activeIndex:0,forms:[...o,...t.forms]}}case"REMOVE_FORM":{let o=[...t.forms],[n]=o.splice(e.index,1),r=t.activeIndex>=e.index,s=t.activeIndex===e.index?e.index:r?t.activeIndex-1:t.activeIndex,i=Math.min(o.length-1,s);return{...t,activeIndex:r?i:t.activeIndex,forms:o,totalErrorCount:t.totalErrorCount-n.errorCount}}case"REPLACE":return{...t,...e.state};case"SET_ACTIVE_INDEX":return{...t,activeIndex:e.index};case"UPDATE_ERROR_COUNT":{let o=[...t.forms];return o[e.index].errorCount=e.count,{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}case"UPDATE_FORM":{let o=[...t.forms];return o[e.index].errorCount=e.errorCount,o[e.index]={...o[e.index],formState:{...o[e.index].formState,...e.formState},uploadEdits:{...o[e.index].uploadEdits,...e.uploadEdits}},{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}default:return t}}var $_=xt.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),p8={activeIndex:0,forms:[],totalErrorCount:0};function k_({children:t}){let{config:e}=H(),{routes:{api:o},serverURL:n}=e,{code:r}=we(),{i18n:s,t:i}=L(),{getDocumentSlots:l,getFormState:a}=Rt(),{getUploadHandler:c}=vu(),[u,d]=xt.useState({}),[f,m]=xt.useState(!1),[h,p]=xt.useState(),[g,b]=xt.useState(!1),[x,v]=xt.useState(!1),[C,y]=xt.useState(!1),[S,w]=xt.useState(!1),[_,D]=xt.useState(!1),[R,T]=xt.useReducer(L_,p8),{activeIndex:I,forms:F,totalErrorCount:P}=R,A=xt.useRef(F);A.current=F;let{toggleLoadingOverlay:k}=Df(),{closeModal:$}=ce(),{collectionSlug:j,drawerSlug:N,initialFiles:E,onSuccess:O,setInitialFiles:M}=Go(),[B,V]=xt.useState(!1),[G,z]=xt.useState(""),U=xt.useRef(!1),oe=xt.useRef(null),X=xt.useRef(()=>({})),Y=`${o}/${j}`,re=xt.useCallback(async()=>{let J={locale:r||void 0},pe=`/${j}/access`,Z=await(await fetch(`${n}${o}${pe}?${op.stringify(J)}`,{credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"post"})).json(),le=await fetch(`${n}${o}${pe}?${op.stringify(J)}`,{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"POST"}).then(K=>K.json());p(Z),b(pc({collectionSlug:j,docPermissions:Z,isEditing:!1})),v(le?.update),w(!0)},[o,r,j,s.language,n]),W=xt.useCallback(async J=>{J?.signal&&J.abort("aborting previous fetch for initial form state without files");let pe=await l({collectionSlug:j});d(pe);try{let{state:te}=await a({collectionSlug:j,docPermissions:h,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:j,skipValidation:!0});oe.current=te,y(!0)}catch{}},[l,j,a,h,r]),ee=xt.useCallback(J=>{let pe=X.current();T({type:"REPLACE",state:{activeIndex:J,forms:F.map((te,Z)=>Z===I?{errorCount:te.errorCount,formID:te.formID,formState:pe,uploadEdits:te.uploadEdits}:te)}})},[F,I]),ie=xt.useCallback(async J=>{F.length&&T({type:"UPDATE_FORM",errorCount:F[I].errorCount,formState:X.current(),index:I}),k({isLoading:!0,key:"addingDocs"}),C||await W(),T({type:"ADD_FORMS",files:J,initialState:oe.current}),k({isLoading:!1,key:"addingDocs"})},[W,C,k,I,F]),de=xt.useCallback(J=>{T({type:"REMOVE_FORM",index:J})},[]),xe=xt.useCallback(({errorCount:J,index:pe})=>{T({type:"UPDATE_ERROR_COUNT",count:J,index:pe})},[]),Q=xt.useCallback(async({overrides:J}={})=>{let pe=X.current(),te=[...F];te[I]={errorCount:te[I].errorCount,formID:te[I].formID,formState:pe,uploadEdits:te[I].uploadEdits};let Z=[];V(!0);for(let Le=0;Le<te.length;Le++)try{let He=te[Le];z(i("general:uploadingBulk",{current:Le+1,total:te.length}));let Ze=`${Y}${op.stringify({uploadEdits:He?.uploadEdits||void 0},{addQueryPrefix:!0})}`,Ye=await fetch(Ze,{body:await N_(He.formState,J,j,c({collectionSlug:j})),method:"POST"}),At=await Ye.json();Ye.status===201&&At?.doc&&Z.push(At.doc);let[lt,it]=(At?.errors||[]).reduce(([Et,Ut],We)=>{let Be=[],Ke=[];return We?.message&&Ke.push(We),Array.isArray(We?.data?.errors)&&We.data?.errors.forEach(Ct=>{Ct?.path?Be.push(Ct):Ke.push(Ct)}),[[...Et,...Be],[...Ut,...Ke]]},[[],[]]);te[Le]={errorCount:lt.length,formID:te[Le].formID,formState:xu(te[Le].formState,{type:"ADD_SERVER_ERRORS",errors:lt})},(Ye.status===413||Ye.status===400)&&(te[Le]={...te[Le],errorCount:te[Le].errorCount+1},ue.error(it[0]?.message))}catch{}m(!0),z(""),V(!1);let le=[];te.forEach(({errorCount:Le},He)=>{Le&&le.push(te[He])});let K=Math.max(0,te.length-le.length),he=te.length-K;K&&(ue.success(`Successfully saved ${K} files`),typeof O=="function"&&O(Z,he)),he?ue.error(`Failed to save ${he} files`):$(N),T({type:"REPLACE",state:{activeIndex:0,forms:le,totalErrorCount:le.reduce((Le,{errorCount:He})=>Le+He,0)}}),le.length===0&&M(void 0)},[M,Y,j,c,i,F,I,$,N,O]),ae=xt.useCallback(async(J,pe)=>{for(let te=0;te<F.length;te++)if(Object.entries(J).forEach(([Z,le])=>{F[te].formState[Z]&&(F[te].formState[Z].value=le,T({type:"UPDATE_FORM",errorCount:F[te].errorCount,formState:F[te].formState,index:te}))}),typeof pe=="function"&&pe(),f){let{state:Z}=await a({collectionSlug:j,docPermissions:h,docPreferences:null,formState:F[te].formState,operation:"create",schemaPath:j}),le=Object.values(Z).reduce((K,he)=>he?.valid===!1?K+1:K,0);T({type:"UPDATE_FORM",errorCount:le,formState:Z,index:te})}},[j,h,F,a,f]),be=xt.useCallback(J=>{T({type:"UPDATE_FORM",errorCount:F[I].errorCount,formState:F[I].formState,index:I,uploadEdits:J})},[I,F]),ye=xt.useCallback(()=>{T({type:"REPLACE",state:{forms:F.map(J=>({...J,uploadEdits:{}}))}})},[F]);return xt.useEffect(()=>{j&&(C||W(),S||re(),E&&D(!C||!S),C&&E&&!U.current&&(ie(E),U.current=!0))},[ie,E,W,re,j,C,S]),f8($_,{value:{activeIndex:R.activeIndex,addFiles:ie,bulkUpdateForm:ae,collectionSlug:j,docPermissions:h,documentSlots:u,forms:F,getFormDataRef:X,hasPublishPermission:x,hasSavePermission:g,hasSubmitted:f,isInitializing:_,removeFile:de,resetUploadEdits:ye,saveAllDocs:Q,setActiveIndex:ee,setFormTotalErrorCount:xe,totalErrorCount:P,updateUploadEdits:be},children:[B&&m8(rn,{animationDuration:"250ms",loadingText:G,overlayType:"fullscreen",show:!0}),t]})}function No(){return xt.use($_)}import{jsx as $r,jsxs as lv}from"react/jsx-runtime";import{getTranslation as I8}from"@payloadcms/translations";import{unflatten as G_}from"payload/shared";import _8,{useCallback as cv,useEffect as D8,useMemo as F8,useState as z_}from"react";import{c as x8}from"react/compiler-runtime";import{jsx as V_,jsxs as C8}from"react/jsx-runtime";import{useState as y8}from"react";var j_=t=>{let e=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return t.filter(o=>!e.includes("name"in o&&o.name))};import{fieldAffectsData as h8,fieldHasSubFields as g8,fieldIsHiddenOrDisabled as b8,getFieldPermissions as v8}from"payload/shared";import{fieldAffectsData as M_}from"payload/shared";var ml=(t,e)=>t?M_(e)?`${t}.${e.name}`:t:M_(e)?e.name:"";import{jsx as rp,jsxs as B_}from"react/jsx-runtime";import{Fragment as O_}from"react";var Iu=({CustomLabel:t,field:e,prefix:o})=>B_(O_,{children:[o?B_(O_,{children:[rp("span",{style:{display:"inline-block"},children:o})," > "]}):null,rp("span",{style:{display:"inline-block"},children:rp(me,{CustomComponent:t,Fallback:rp(Se,{label:"label"in e&&e.label})})})]});var np=({fields:t,formState:e,labelPrefix:o=null,parentPath:n="",path:r="",permissions:s})=>{if(!t)return[];let i=e?.[r]?.customComponents?.Label;return t?.reduce((l,a)=>{let{operation:c,permissions:u,read:d}=v8({field:a,operation:"update",parentName:n?.includes(".")?n.split(".")[n.split(".").length-1]:n,permissions:s});if((h8(a)||a.type==="ui")&&(a.admin?.disableBulkEdit||a.unique||b8(a)||"readOnly"in a&&a.readOnly||!c||!d))return l;if(!(a.type==="array"||a.type==="blocks")&&g8(a))return[...l,...np({fields:a.fields,labelPrefix:Iu({CustomLabel:i,field:a,prefix:o}),parentPath:r,path:ml(r,a),permissions:u})];if(a.type==="tabs"&&"tabs"in a)return[...l,...a.tabs.reduce((m,h)=>{if("fields"in h){let p="name"in h&&h.name;return[...m,...np({fields:h.fields,labelPrefix:o,parentPath:r,path:p?ml(r,a):r,permissions:u})]}},[])];let f={label:Iu({CustomLabel:i,field:a,prefix:o}),value:{field:a,fieldPermissions:u,path:ml(r,a)}};return[...l,f]},[])};var w8="field-select",sp=t=>{let e=x8(14),{fields:o,onChange:n,permissions:r}=t,{t:s}=L(),{dispatchFields:i,getFields:l}=ke(),a;e[0]!==o||e[1]!==l||e[2]!==r?(a=()=>np({fields:j_(o),formState:l(),permissions:r}),e[0]=o,e[1]=l,e[2]=r,e[3]=a):a=e[3];let[c]=y8(a),u;if(e[4]!==i||e[5]!==l||e[6]!==n||e[7]!==c||e[8]!==s){let d;e[10]!==i||e[11]!==l||e[12]!==n?(d=f=>n({dispatchFields:i,formState:l(),selected:f}),e[10]=i,e[11]=l,e[12]=n,e[13]=d):d=e[13],u=C8("div",{className:w8,children:[V_(Se,{label:s("fields:selectFieldsToEdit")}),V_(pt,{getOptionValue:S8,isMulti:!0,onChange:d,options:c})]}),e[4]=i,e[5]=l,e[6]=n,e[7]=c,e[8]=s,e[9]=u}else u=e[9];return u};function S8(t){return typeof t.value=="object"&&"path"in t.value?String(t.value.path):String(t.value)}var W_=t=>{let{collection:{fields:e,labels:{plural:o,singular:n}}={},collection:r,drawerSlug:s,forms:i}=t,[l,a]=z_(!1),{permissions:c}=_e(),{i18n:u,t:d}=L(),{closeModal:f}=ce(),{bulkUpdateForm:m}=No(),{getFormState:h}=Rt(),p=_8.useRef(null),[g,b]=z_([]),x=c?.collections?.[r.slug],v=F8(()=>G_(g.reduce((w,_)=>(w[_.value.path]=!0,w),{})),[g]),C=cv(async({formState:w,submitted:_})=>{let D=hr(p),{state:R}=await h({collectionSlug:r.slug,docPermissions:x,docPreferences:null,formState:w,operation:"update",schemaPath:r.slug,select:v,signal:D.signal,skipValidation:!_});return p.current=null,R},[h,r,x,v]);D8(()=>{let w=p.current;return()=>{pr(w)}},[]);let y=cv(w=>{let _=g.reduce((D,R)=>(w[R.value.path]&&(D[R.value.path]=w[R.value.path].value),D),{});m(_,()=>f(s))},[f,s,m,g]),S=cv(async({dispatchFields:w,formState:_,selected:D})=>{a(!0),b(D||[]);let{state:R}=await h({collectionSlug:r.slug,docPermissions:x,docPreferences:null,formState:_,operation:"update",schemaPath:r.slug,select:G_(D.reduce((T,I)=>(T[I.value.path]=!0,T),{})),skipValidation:!0});w({type:"UPDATE_MANY",formState:R}),a(!1)},[h,r,x]);return lv("div",{className:`${kr}__main`,children:[lv("div",{className:`${kr}__header`,children:[$r("h2",{className:`${kr}__header__title`,children:d("general:editingLabel",{count:i.length,label:I8(i.length>1?o:n,u)})}),$r("button",{"aria-label":d("general:close"),className:`${kr}__header__close`,id:`close-drawer__${s}`,onClick:()=>f(s),type:"button",children:$r(ct,{})})]}),lv(Kn,{className:`${kr}__form`,isInitializing:l,onChange:[C],onSubmit:y,children:[$r(sp,{fields:e,onChange:S,permissions:x.fields}),g.length===0?null:$r("div",{className:"render-fields",children:$r(vc,{value:void 0,children:g.map((w,_)=>{let{value:{field:D,fieldPermissions:R,path:T}}=w;return $r(fl,{clientFieldConfig:D,indexPath:"",parentPath:"",parentSchemaPath:"",path:T,permissions:R},`${T}-${_}`)})})}),$r("div",{className:`${kr}__sidebar-wrap`,children:$r("div",{className:`${kr}__sidebar`,children:$r("div",{className:`${kr}__sidebar-sticky-wrap`,children:$r("div",{className:`${kr}__document-actions`,children:$r(se,{type:"submit",children:d("general:applyChanges")})})})})})]})]})};var kr="edit-many-bulk-uploads",H_=t=>{let e=T8(5),{collection:o,collection:n}=t,{slug:r}=o===void 0?{}:o,{permissions:s}=_e(),{t:i}=L(),{forms:l}=No(),c=s?.collections?.[r]?.update,u=`edit-${r}-bulk-uploads`;if(!c)return null;let d;return e[0]!==n||e[1]!==u||e[2]!==l||e[3]!==i?(d=R8("div",{className:kr,children:[ip(Vn,{"aria-label":i("general:editAll"),className:`${kr}__toggle`,slug:u,children:i("general:editAll")}),ip(kn,{children:ip(Nt,{Header:null,slug:u,children:ip(W_,{collection:n,drawerSlug:u,forms:l})})})]}),e[0]=n,e[1]=u,e[2]=l,e[3]=i,e[4]=d):d=e[4],d};var pl="bulk-upload--actions-bar";function X_(t){let e=U_(15),{collectionConfig:o}=t,{activeIndex:n,forms:r,setActiveIndex:s}=No(),{t:i}=L(),l=n+1,a;if(e[0]!==n||e[1]!==o||e[2]!==r.length||e[3]!==s||e[4]!==i||e[5]!==l){let c;e[7]!==n||e[8]!==r.length||e[9]!==s?(c=()=>{let d=n-1;d<0?s(r.length-1):s(d)},e[7]=n,e[8]=r.length,e[9]=s,e[10]=c):c=e[10];let u;e[11]!==n||e[12]!==r.length||e[13]!==s?(u=()=>{let d=n+1;d===r.length?s(0):s(d)},e[11]=n,e[12]=r.length,e[13]=s,e[14]=u):u=e[14],a=_u("div",{className:pl,children:[_u("div",{className:`${pl}__navigation`,children:[_u("p",{className:`${pl}__locationText`,children:[ln("strong",{children:l}),` ${i("general:of")} `,ln("strong",{children:r.length})]}),_u("div",{className:`${pl}__controls`,children:[ln(se,{"aria-label":i("general:previous"),buttonStyle:"none",onClick:c,type:"button",children:ln(Ve,{direction:"left"})}),ln(se,{"aria-label":i("general:next"),buttonStyle:"none",onClick:u,type:"button",children:ln(Ve,{direction:"right"})})]}),ln(H_,{collection:o})]}),ln(uv,{className:`${pl}__saveButtons`})]}),e[0]=n,e[1]=o,e[2]=r.length,e[3]=s,e[4]=i,e[5]=l,e[6]=a}else a=e[6];return a}function uv(t){let e=U_(12),{className:o}=t,{getEntityConfig:n}=H(),{t:r}=L(),{collectionSlug:s,hasPublishPermission:i,hasSavePermission:l,saveAllDocs:a}=No(),c;e[0]!==s||e[1]!==n?(c=n({collectionSlug:s}),e[0]=s,e[1]=n,e[2]=c):c=e[2];let u=c,d;e[3]!==o?(d=[`${pl}__buttons`,o].filter(Boolean),e[3]=o,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==u?.versions?.drafts||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==r||e[10]!==f?(m=_u("div",{className:f,children:[u?.versions?.drafts&&l?ln(se,{buttonStyle:"secondary",onClick:()=>void a({overrides:{_status:"draft"}}),children:r("version:saveDraft")}):null,u?.versions?.drafts&&i?ln(se,{onClick:()=>void a({overrides:{_status:"published"}}),children:r("version:publish")}):null,!u?.versions?.drafts&&l?ln(se,{onClick:()=>void a(),children:r("general:save")}):null]}),e[5]=u?.versions?.drafts,e[6]=i,e[7]=l,e[8]=a,e[9]=r,e[10]=f,e[11]=m):m=e[11],m}import{c as P8}from"react/compiler-runtime";import{jsx as A8}from"react/jsx-runtime";import"react";var Du="bulk-upload--discard-without-saving";function Z_(){let t=P8(9),{t:e}=L(),{closeModal:o}=ce(),{drawerSlug:n}=Go(),r;t[0]!==o?(r=()=>{o(Du)},t[0]=o,t[1]=r):r=t[1];let s=r,i;t[2]!==o||t[3]!==n?(i=()=>{o(n),o(Du)},t[2]=o,t[3]=n,t[4]=i):i=t[4];let l=i,a;return t[5]!==s||t[6]!==l||t[7]!==e?(a=A8(gt,{body:e("general:changesNotSaved"),cancelLabel:e("general:stayOnThisPage"),confirmLabel:e("general:leaveAnyway"),heading:e("general:leaveWithoutSaving"),modalSlug:Du,onCancel:s,onConfirm:l}),t[5]=s,t[6]=l,t[7]=e,t[8]=a):a=t[8],a}import{jsx as Js,jsxs as VV}from"react/jsx-runtime";import Bu,{useCallback as $D,useEffect as kD}from"react";import{c as E8}from"react/compiler-runtime";import{jsx as N8}from"react/jsx-runtime";import{createContext as L8,use as $8,useState as k8}from"react";var Y_=L8({mostRecentUpdate:null,reportUpdate:t=>null}),dv=t=>{let e=E8(3),{children:o}=t,[n,r]=k8(null),s;return e[0]!==o||e[1]!==n?(s=N8(Y_,{value:{mostRecentUpdate:n,reportUpdate:r},children:o}),e[0]=o,e[1]=n,e[2]=s):s=e[2],s},os=()=>$8(Y_);import{jsx as Hs,jsxs as J_}from"react/jsx-runtime";import{fieldIsSidebar as j8}from"payload/shared";import{useMemo as M8}from"react";var jr="document-fields",Fu=({AfterFields:t,BeforeFields:e,Description:o,docPermissions:n,fields:r,forceSidebarWrap:s,readOnly:i,schemaPathSegments:l})=>{let{hasSidebarFields:a,mainFields:c,sidebarFields:u}=M8(()=>r.reduce((d,f)=>(j8(f)?(d.sidebarFields.push(f),d.mainFields.push(null),d.hasSidebarFields=!0):(d.mainFields.push(f),d.sidebarFields.push(null)),d),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[r]);return J_("div",{className:[jr,a?`${jr}--has-sidebar`:`${jr}--no-sidebar`,s&&`${jr}--force-sidebar-wrap`].filter(Boolean).join(" "),children:[Hs("div",{className:`${jr}__main`,children:J_(go,{className:`${jr}__edit`,children:[o?Hs("header",{className:`${jr}__header`,children:Hs("div",{className:`${jr}__sub-header`,children:o})}):null,e,Hs(_o,{className:`${jr}__fields`,fields:c,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:n?.fields,readOnly:i}),t]})}),a?Hs("div",{className:`${jr}__sidebar-wrap`,children:Hs("div",{className:`${jr}__sidebar`,children:Hs("div",{className:`${jr}__sidebar-fields`,children:Hs(_o,{fields:u,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:n?.fields,readOnly:i})})})}):null]})};import{c as fD}from"react/compiler-runtime";import{jsx as gp,jsxs as yV,Fragment as wV}from"react/jsx-runtime";import{getTranslation as SV}from"@payloadcms/translations";import mD,{useId as IV}from"react";import{jsx as q_}from"react/jsx-runtime";import"react";function Tu({className:t}){return q_("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:q_("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}import{c as vv}from"react/compiler-runtime";import{jsx as St,jsxs as pp,Fragment as uD}from"react/jsx-runtime";import{getTranslation as bv}from"@payloadcms/translations";import{extractID as cV}from"payload/shared";import Mr from"react";import{jsx as B8}from"react/jsx-runtime";import{useRouter as O8,useSearchParams as V8}from"next/navigation.js";import{extractID as K_,formatAdminURL as eD,formatFolderOrDocumentItem as G8}from"payload/shared";import*as lp from"qs-esm";import Mt from"react";function ap({selectFromIndex:t,selectToIndex:e}){if(t==null)return new Set([e]);let o=Math.min(e,t),n=Math.max(e,t);return new Set(Array.from({length:Math.max(o,n)+1},(s,i)=>i).filter(s=>s>=o&&s<=n))}function mv({currentSelection:t,toggleIndex:e}){let o=new Set(t);return o.has(e)?o.delete(e):o.add(e),o}function Q_(t){return t.reduce((e,o)=>(e[o.relationTo]||(e[o.relationTo]=[]),e[o.relationTo].push(o.value.id),e),{})}var tD=Mt.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],clearSelections:()=>{},currentFolder:null,documents:[],focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,lastSelectedIndex:null,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"_folderOrDocumentTitle",subfolders:[]});function Zi({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e=[],allowCreateCollectionSlugs:o,allowMultiSelection:n=!0,baseFolderPath:r,breadcrumbs:s=[],children:i,documents:l,folderFieldName:a,folderID:c,FolderResultsComponent:u,onItemClick:d,search:f,sort:m="_folderOrDocumentTitle",subfolders:h}){let p=Wt(),{config:g}=H(),{routes:b,serverURL:x}=g,v=Tr(),{t:C}=L(),y=O8(),{startRouteTransition:S}=Ue(),[w,_]=Mt.useState(u||(()=>null)),[D]=Mt.useState(()=>g.collections.find(Q=>g.folders&&Q.slug===g.folders.slug)),R=D.slug,T=V8(),I=Mt.useMemo(()=>fo(T),[T]),[F,P]=Mt.useState(I),[A,k]=Mt.useState(!1),[$,j]=Mt.useState(()=>new Set),[N,E]=Mt.useState(-1),[O,M]=Mt.useState(null),[B,V]=Mt.useState(s),G=Mt.useRef(null),z=h.length+l.length,U=Mt.useCallback(()=>{E(-1),j(new Set),M(void 0)},[]),oe=Mt.useCallback((Q={})=>{let ae="page"in Q?Q.page:F?.page;return"search"in Q&&(ae="1"),{...F,...Q,page:ae,search:"search"in Q?Q.search:F?.search,sort:"sort"in Q?Q.sort:F?.sort??void 0}},[F]),X=Mt.useCallback(({query:Q,updateURL:ae})=>{if(ae){let be=oe(Q);S(()=>y.replace(`${lp.stringify(be,{addQueryPrefix:!0})}`)),P(be)}},[oe,y,S]),Y=Mt.useCallback(Q=>{let ae=oe({page:"1",search:""});return eD({adminRoute:g.routes.admin,path:`${r}${Q?`/${Q}`:""}${lp.stringify(ae,{addQueryPrefix:!0})}`,serverURL:g.serverURL})},[r,g.routes.admin,g.serverURL,oe]),re=Mt.useCallback(Q=>[...h,...l].find(ae=>ae.itemKey===Q),[l,h]),W=Mt.useCallback(()=>Array.from($).reduce((Q,ae)=>{let be=re(ae);return be&&Q.push(be),Q},[]),[$,re]),ee=Mt.useCallback(({collectionSlug:Q,docID:ae})=>{v===1&&(U(),Q===R?S(()=>y.push(Y(ae))):Q&&S(()=>{y.push(eD({adminRoute:g.routes.admin,path:`/collections/${Q}/${ae}`}))})),typeof d=="function"&&d(re(`${Q}-${ae}`))},[U,g.routes.admin,v,R,Y,re,d,y,S]),ie=Mt.useCallback(({event:Q,index:ae,item:be})=>{let{code:ye,ctrlKey:J,metaKey:pe,shiftKey:te}=Q,Z=te,le=J||pe,K;switch(ye){case"ArrowDown":{Q.preventDefault();let he=Math.min(ae+1,z-1);if(E(he),le)break;n&&Z?K=ap({selectFromIndex:Math.min(O,z),selectToIndex:Math.min(he,z)}):(M(he),K=new Set([he]));break}case"ArrowUp":{Q.preventDefault();let he=Math.max(ae-1,0);if(E(he),le)break;n&&Z?K=ap({selectFromIndex:O,selectToIndex:he}):(M(he),K=new Set([he]));break}case"Enter":{$.size===1&&(K=new Set([]),E(void 0));break}case"Escape":{E(void 0),K=new Set([]);break}case"KeyA":{n&&le&&(Q.preventDefault(),E(z-1),K=new Set(Array.from({length:z},(he,Le)=>Le)));break}case"Space":{n&&Z?(Q.preventDefault(),K=mv({currentSelection:K,toggleIndex:ae}),M(ae)):(Q.preventDefault(),K=new Set([ae]),M(ae));break}case"Tab":{if(n&&Z){let he=ae-1;he<0&&K?.size>0&&E(he)}else ae+1===z&&$.size>0&&E(z-1);break}}K&&(j([...h,...l].reduce((he,Le,He)=>(K?.size&&K.has(He)&&he.add(Le.itemKey),he),new Set)),$.size===1&&ye==="Enter"&&ee({collectionSlug:be.relationTo,docID:K_(be.value)}))},[n,l,O,ee,h,z,$]),de=Mt.useCallback(({event:Q,index:ae,item:be})=>{let ye=!1,J=Q.ctrlKey||Q.metaKey,pe=Q.shiftKey,te;if(n&&J)te=mv({currentSelection:te,toggleIndex:ae});else if(n&&pe&&O!==void 0)te=ap({selectFromIndex:O,selectToIndex:ae});else if(n&&Q.type==="pointermove")$.has(be.itemKey)||(te=new Set([ae])),M(ae);else{te=new Set([ae]);let Z=Date.now();ye=Z-G.current<400&&O===ae,G.current=Z,M(ae)}E(te?ae:void 0),te&&j([...h,...l].reduce((Z,le,K)=>(te.size&&te.has(K)&&Z.add(le.itemKey),Z),new Set)),ye&&ee({collectionSlug:be.relationTo,docID:K_(be.value)})},[$,n,O,h,l,ee]),xe=Mt.useCallback(async Q=>{let{itemsToMove:ae,toFolderID:be}=Q;if(!ae.length)return;if(ae.length===1&&ae[0].relationTo===R&&ae[0].value.id===c)(await fetch(`${x}${b.api}/${R}/${c}?depth=0`,{body:JSON.stringify({[a]:be||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status!==200&&ue.error(C("general:error"));else for(let[J,pe]of Object.entries(Q_(ae))){let te=lp.stringify({depth:0,limit:0,where:{id:{in:pe}}},{addQueryPrefix:!0});try{await fetch(`${x}${b.api}/${J}${te}`,{body:JSON.stringify({[a]:be||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(Z){ue.error(C("general:error")),console.error(Z);continue}}U()},[c,U,R,a,b.api,x,C]);return Mt.useEffect(()=>{u&&_(u)},[u]),B8(tD,{value:{activeCollectionFolderSlugs:t||e,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,breadcrumbs:B,clearSelections:U,currentFolder:B?.[0]?.id?G8({folderFieldName:a,isUpload:!1,relationTo:R,useAsTitle:D.admin.useAsTitle,value:B[B.length-1]}):null,documents:l,focusedRowIndex:N,folderCollectionConfig:D,folderCollectionSlug:R,folderFieldName:a,folderID:c,FolderResultsComponent:w,getFolderRoute:Y,getSelectedItems:W,isDragging:A,itemKeysToMove:p.selectedItemKeys,lastSelectedIndex:O,moveToFolder:xe,onItemClick:de,onItemKeyPress:ie,refineFolderData:X,search:f,selectedItemKeys:$,setBreadcrumbs:V,setFocusedRowIndex:E,setIsDragging:k,sort:m,subfolders:h},children:i})}function Wt(){let t=Mt.use(tD);if(t===void 0)throw new Error("useFolder must be used within a FolderProvider");return t}import{c as z8}from"react/compiler-runtime";import{jsx as W8}from"react/jsx-runtime";import{usePathname as H8,useRouter as U8}from"next/navigation.js";import{createContext as X8,use as Z8,useEffect as Y8}from"react";var oD=X8({cachingEnabled:!0,clearRouteCache:()=>{}}),fv=t=>{let e=z8(13),{cachingEnabled:o,children:n}=t,r=o===void 0?!0:o,s=H8(),i=U8(),l;e[0]!==i?(l=()=>{i.refresh()},e[0]=i,e[1]=l):l=e[1];let a=l,c;e[2]!==r||e[3]!==a?(c=()=>{r&&a()},e[2]=r,e[3]=a,e[4]=c):c=e[4];let u;e[5]!==r||e[6]!==a||e[7]!==s?(u=[s,a,r],e[5]=r,e[6]=a,e[7]=s,e[8]=u):u=e[8],Y8(c,u);let d;return e[9]!==r||e[10]!==n||e[11]!==a?(d=W8(oD,{value:{cachingEnabled:r,clearRouteCache:a},children:n}),e[9]=r,e[10]=n,e[11]=a,e[12]=d):d=e[12],d},qt=()=>Z8(oD);import{c as q8}from"react/compiler-runtime";import{jsx as cp,jsxs as nD}from"react/jsx-runtime";import"react";import{jsx as rD}from"react/jsx-runtime";import"react";var J8="form-submit",vr=t=>{let{type:e="submit",buttonId:o,children:n,disabled:r,onClick:s,programmaticSubmit:i,ref:l}=t,a=_r(),c=Zh(),u=ui(),{disabled:d,submit:f}=ke();return rD("div",{className:J8,children:rD(se,{ref:l,...t,disabled:!(r||u||a||c||d)?void 0:!0,id:o,onClick:s??(i?()=>{f()}:void 0),type:e,children:n})})};var up="drawer-action-header",sD=t=>{let e=q8(16),{cancelLabel:o,className:n,onCancel:r,onSave:s,saveLabel:i,title:l}=t,{t:a}=L(),c;e[0]!==n?(c=[up,n].filter(Boolean),e[0]=n,e[1]=c):c=e[1];let u=c.join(" "),d;if(e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==a||e[7]!==u||e[8]!==l){let f;e[10]!==o||e[11]!==a?(f=o||a("general:cancel"),e[10]=o,e[11]=a,e[12]=f):f=e[12];let m;e[13]!==i||e[14]!==a?(m=i||a("general:applyChanges"),e[13]=i,e[14]=a,e[15]=m):m=e[15],d=cp("div",{className:u,children:nD("div",{className:`${up}__content`,children:[cp("h1",{className:`${up}__title`,children:l}),nD("div",{className:`${up}__actions`,children:[cp(se,{"aria-label":a("general:cancel"),buttonStyle:"secondary",onClick:r,children:f}),cp(vr,{"aria-label":a("general:applyChanges"),onClick:s,children:m})]})]})}),e[2]=o,e[3]=r,e[4]=s,e[5]=i,e[6]=a,e[7]=u,e[8]=l,e[9]=d}else d=e[9];return d};import{jsx as Q8}from"react/jsx-runtime";import"react";var K8="drawer-content-container";function pv({children:t,className:e}){return Q8("div",{className:[K8,e].filter(Boolean).join(" "),children:t})}import{c as eV}from"react/compiler-runtime";import{jsx as Yi,jsxs as tV}from"react/jsx-runtime";import{getTranslation as oV}from"@payloadcms/translations";import hv from"react";var gv="create-new-doc-in-folder";function cn(t){let e=eV(28),{buttonLabel:o,collectionSlugs:n,onCreateSuccess:r,slugPrefix:s}=t,i=`${s}-new-doc-in-folder-drawer`,{i18n:l}=L(),{closeModal:a,openModal:c}=ce(),{config:u}=H(),{folderCollectionConfig:d,folderCollectionSlug:f,folderFieldName:m,folderID:h}=Wt(),p;e[0]!==f?(p={collectionSlug:f},e[0]=f,e[1]=p):p=e[1];let[g,,b]=vt(p),{closeDrawer:x,openDrawer:v}=b,[C,y]=hv.useState(),S;e[2]!==n||e[3]!==u?(S=()=>n.reduce((D,R)=>{let T=u.collections.find(I=>{let{slug:F}=I;return F===R});return T&&D.push(T),D},[]),e[2]=n,e[3]=u,e[4]=S):S=e[4];let[w]=hv.useState(S);if(w.length===0)return null;let _;if(e[5]!==g||e[6]!==o||e[7]!==x||e[8]!==a||e[9]!==n||e[10]!==C||e[11]!==w||e[12]!==d.slug||e[13]!==m||e[14]!==h||e[15]!==l||e[16]!==i||e[17]!==r||e[18]!==v||e[19]!==c){let D;e[21]!==a||e[22]!==C||e[23]!==m||e[24]!==h||e[25]!==i||e[26]!==r?(D=C&&Yi(hb,{collectionSlug:C,drawerSlug:i,initialData:{[m]:h},onSave:async R=>{let{doc:T}=R;await r({collectionSlug:C,doc:T}),a(i)},redirectAfterCreate:!1}),e[21]=a,e[22]=C,e[23]=m,e[24]=h,e[25]=i,e[26]=r,e[27]=D):D=e[27],_=tV(hv.Fragment,{children:[w.length===1?Yi(se,{buttonStyle:"pill",className:`${gv}__button`,el:"div",onClick:()=>{w[0].slug===d.slug?v():(y(w[0].slug),c(i))},size:"small",children:o}):Yi(ut,{button:Yi(se,{buttonStyle:"pill",className:`${gv}__popup-button`,el:"div",icon:"chevron",size:"small",children:o}),buttonType:"default",className:`${gv}__action-popup`,children:Yi(Ce.ButtonGroup,{children:w.map((R,T)=>Yi(Ce.Button,{onClick:()=>{R.slug===d.slug?v():(y(R.slug),c(i))},children:oV(R.labels.singular,l)},T))})}),D,n.includes(d.slug)&&Yi(g,{initialData:{[m]:h},onSave:async R=>{await r({collectionSlug:d.slug,doc:R.doc}),x()},redirectAfterCreate:!1})]}),e[5]=g,e[6]=o,e[7]=x,e[8]=a,e[9]=n,e[10]=C,e[11]=w,e[12]=d.slug,e[13]=m,e[14]=h,e[15]=l,e[16]=i,e[17]=r,e[18]=v,e[19]=c,e[20]=_}else _=e[20];return _}import{jsx as iD,jsxs as rV}from"react/jsx-runtime";import nV from"react";var aD="no-results";function hl({Actions:t,Message:e}){return rV("div",{className:aD,children:[e,t&&t.length>0&&iD("div",{className:`${aD}__actions`,children:t.map((o,n)=>iD(nV.Fragment,{children:o},n))})]})}import{jsx as dp}from"react/jsx-runtime";import"react";var lD=({elements:t,translationString:e})=>{let o=/(<[^>]+>.*?<\/[^>]+>)/g,n=e.split(o);return dp("span",{children:n.map((r,s)=>{if(t&&r.startsWith("<")&&r.endsWith(">")){let i=r[1],l=t[i];if(l){let a=new RegExp(`<${i}>(.*?)</${i}>`,"g"),c=r.replace(a,(u,d)=>d);return dp(l,{children:dp(lD,{translationString:c})},s)}}return r})})},er=({elements:t,i18nKey:e,t:o,variables:n})=>{let r=o(e,n||{});return t?dp(lD,{elements:t,translationString:r}):r};import{c as sV}from"react/compiler-runtime";import{jsx as fp,jsxs as iV}from"react/jsx-runtime";import{useDroppable as aV}from"@dnd-kit/core";import"react";var mp="folderBreadcrumbs";function cD({breadcrumbs:t,className:e}){return fp("div",{className:`${mp} ${e||""}`.trim(),children:t?.map((o,n)=>iV("div",{className:`${mp}__crumb`,children:[o.onClick?fp(Ji,{className:`${mp}__crumb-item`,id:o.id,onClick:o.onClick,children:o.name}):o.name,t.length>0&&n!==t.length-1&&fp(Ve,{className:`${mp}__crumb-chevron`,direction:"right"})]},n))})}function Ji(t){let e=sV(13),{id:o,children:n,className:r,onClick:s}=t,i=`folder-${o}`,l;e[0]!==o?(l={id:o,type:"folder"},e[0]=o,e[1]=l):l=e[1];let a;e[2]!==i||e[3]!==l?(a={id:i,data:l},e[2]=i,e[3]=l,e[4]=a):a=e[4];let{isOver:c,setNodeRef:u}=aV(a),d=c&&"droppable-button--hover",f;e[5]!==r||e[6]!==d?(f=["droppable-button",r,d].filter(Boolean),e[5]=r,e[6]=d,e[7]=f):f=e[7];let m=f.join(" "),h;return e[8]!==n||e[9]!==s||e[10]!==u||e[11]!==m?(h=fp("button",{className:m,onClick:s,ref:u,type:"button",children:n}),e[8]=n,e[9]=s,e[10]=u,e[11]=m,e[12]=h):h=e[12],h}import{jsx as lV}from"react/jsx-runtime";function tr(){return lV(Tu,{className:"colored-folder-icon"})}var hp="move-folder-drawer",uV="move-folder-drawer",dD=`${uV}-confirm-move`;function gl(t){return St(Nt,{gutter:!1,Header:null,slug:t.drawerSlug,children:St(dV,{...t})})}function dV(t){let{permissions:e}=_e(),[o,n]=Mr.useState([]),[r,s]=Mr.useState([]),[i,l]=Mr.useState([]),[a,c]=Mr.useState(null),[u,d]=Mr.useState(!1),[f,m]=Mr.useState(t.fromFolderID||null),h=Mr.useRef(!1),{getFolderResultsComponentAndData:p}=Rt(),g=Mr.useCallback(async b=>{try{let x=await p({activeCollectionSlugs:[t.folderCollectionSlug],browseByFolder:!1,displayAs:"grid",folderID:b,sort:"_folderOrDocumentTitle"});l(x.breadcrumbs||[]),n(x?.subfolders||[]),s(x?.documents||[]),c(x.FolderResultsComponent||null),m(b),d(!0)}catch{l([]),n([]),s([])}h.current=!0},[p,t.folderCollectionSlug]);return Mr.useEffect(()=>{h.current||g(t.fromFolderID)},[g,t.fromFolderID]),u?St(Zi,{allCollectionFolderSlugs:[t.folderCollectionSlug],allowCreateCollectionSlugs:e.collections[t.folderCollectionSlug]?.create?[t.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:i,documents:r,folderFieldName:t.folderFieldName,folderID:f,FolderResultsComponent:a,onItemClick:async b=>{await g(b.value.id)},subfolders:o,children:St(mV,{...t,populateMoveToFolderDrawer:g})},f):St(rn,{})}function mV(t){let e=vv(76),o,n,r,s,i,l,a,c;e[0]!==t?({drawerSlug:o,fromFolderID:n,fromFolderName:r,itemsToMove:s,onConfirm:i,populateMoveToFolderDrawer:l,skipConfirmModal:c,...a}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8]);let{clearRouteCache:u}=qt(),{closeModal:d,isModalOpen:f,openModal:m}=ce(),h;e[9]!==s?(h=()=>s.length,e[9]=s,e[10]=h):h=e[10];let[p]=Mr.useState(h),[g,b]=Mr.useState(!1),{i18n:x,t:v}=L(),{breadcrumbs:C,folderCollectionConfig:y,folderCollectionSlug:S,folderFieldName:w,folderID:_,FolderResultsComponent:D,getSelectedItems:R,subfolders:T}=Wt(),I;e[11]!==S?(I={collectionSlug:S},e[11]=S,e[12]=I):I=e[12];let[F,,P]=vt(I),{closeDrawer:A,openDrawer:k}=P,$;e[13]!==C||e[14]!==R?($=()=>{let oe=R();if(oe.length===0){let X=C?.[C.length-1];return{id:X?.id||null,name:X?.name||null}}else return{id:oe[0].value.id,name:oe[0].value._folderOrDocumentTitle}},e[13]=C,e[14]=R,e[15]=$):$=e[15];let j=$,N;e[16]!==S||e[17]!==_||e[18]!==n||e[19]!==l?(N=async oe=>{let{collectionSlug:X,doc:Y}=oe;await l(_),X===S&&(Y?.folder&&n===cV(Y?.folder)||!n&&!Y?.folder)&&b(!0)},e[16]=S,e[17]=_,e[18]=n,e[19]=l,e[20]=N):N=e[20];let E=N,O;e[21]!==j||e[22]!==i?(O=()=>{typeof i=="function"&&i(j())},e[21]=j,e[22]=i,e[23]=O):O=e[23];let M=O,B,V;e[24]!==u||e[25]!==o||e[26]!==g||e[27]!==f?(B=()=>{!f(o)&&g&&(b(!1),u())},V=[o,f,u,g],e[24]=u,e[25]=o,e[26]=g,e[27]=f,e[28]=B,e[29]=V):(B=e[28],V=e[29]),Mr.useEffect(B,V);let G;e[30]!==d||e[31]!==o?(G=()=>{d(o)},e[30]=d,e[31]=o,e[32]=G):G=e[32];let z;e[33]!==M||e[34]!==m||e[35]!==c?(z=()=>{c?M():m(dD)},e[33]=M,e[34]=m,e[35]=c,e[36]=z):z=e[36];let U;if(e[37]!==F||e[38]!==D||e[39]!==C||e[40]!==A||e[41]!==p||e[42]!==y||e[43]!==S||e[44]!==w||e[45]!==_||e[46]!==n||e[47]!==r||e[48]!==j||e[49]!==x||e[50]!==M||e[51]!==E||e[52]!==k||e[53]!==l||e[54]!==a.action||e[55]!==a.title||e[56]!==c||e[57]!==T.length||e[58]!==v||e[59]!==z||e[60]!==G){let oe;e[62]!==C.length||e[63]!==l?(oe=C.length?()=>{l(null)}:void 0,e[62]=C.length,e[63]=l,e[64]=oe):oe=e[64];let X;e[65]!==C.length||e[66]!==l?(X=(re,W)=>({id:re.id,name:re.name,onClick:W!==C.length-1?()=>{l(re.id)}:void 0}),e[65]=C.length,e[66]=l,e[67]=X):X=e[67];let Y;e[68]!==D||e[69]!==y||e[70]!==S||e[71]!==x||e[72]!==E||e[73]!==T.length||e[74]!==v?(Y=T.length>0?D:St(hl,{Actions:[St(cn,{buttonLabel:`${v("general:create")} ${bv(y.labels?.singular,x).toLowerCase()}`,collectionSlugs:[S],onCreateSuccess:E,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:St("p",{children:x.t("general:noResults",{label:`${bv(y.labels?.plural,x)}`})})}),e[68]=D,e[69]=y,e[70]=S,e[71]=x,e[72]=E,e[73]=T.length,e[74]=v,e[75]=Y):Y=e[75],U=pp(uD,{children:[St(sD,{onCancel:G,onSave:z,saveLabel:v("general:select"),title:St(fV,{action:a.action,count:p,fromFolderName:n?r:void 0,title:a.action==="moveItemToFolder"?a.title:void 0})}),pp("div",{className:`${hp}__breadcrumbs-section`,children:[St(cD,{breadcrumbs:[{id:null,name:pp("span",{className:`${hp}__folder-breadcrumbs-root`,children:[St(tr,{}),v("folder:folders")]}),onClick:oe},...C.map(X)]}),T.length>0&&pp(uD,{children:[St(se,{buttonStyle:"pill",className:`${hp}__add-folder-button`,margin:!1,onClick:()=>{k()},children:v("fields:addLabel",{label:bv(y.labels?.singular,x)})}),St(F,{initialData:{[w]:_},onSave:re=>{E({collectionSlug:y.slug,doc:re.doc}),A()},redirectAfterCreate:!1})]})]}),St(pv,{className:`${hp}__body-section`,children:Y}),!c&&St(gt,{body:St(pV,{action:a.action,count:p,fromFolderName:r,title:a.action==="moveItemToFolder"?a.title:void 0,toFolderName:j().name}),confirmingLabel:v("general:moving"),confirmLabel:v("general:move"),heading:v("general:confirmMove"),modalSlug:dD,onConfirm:M})]}),e[37]=F,e[38]=D,e[39]=C,e[40]=A,e[41]=p,e[42]=y,e[43]=S,e[44]=w,e[45]=_,e[46]=n,e[47]=r,e[48]=j,e[49]=x,e[50]=M,e[51]=E,e[52]=k,e[53]=l,e[54]=a.action,e[55]=a.title,e[56]=c,e[57]=T.length,e[58]=v,e[59]=z,e[60]=G,e[61]=U}else U=e[61];return U}function fV(t){let e=vv(14),{t:o}=L();switch(t.action){case"moveItemToFolder":if(t.fromFolderName){let n;return e[0]!==t.fromFolderName||e[1]!==t.title||e[2]!==o?(n=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:t.title}),e[0]=t.fromFolderName,e[1]=t.title,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=o("folder:selectFolderForItem",{title:t.title}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.fromFolderName){let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[7]!==t.fromFolderName||e[8]!==o||e[9]!==n?(r=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:n}),e[7]=t.fromFolderName,e[8]=o,e[9]=n,e[10]=r):r=e[10],r}else{let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[11]!==o||e[12]!==n?(r=o("folder:selectFolderForItem",{title:n}),e[11]=o,e[12]=n,e[13]=r):r=e[13],r}}}function pV(t){let e=vv(14),{t:o}=L();switch(t.action){case"moveItemToFolder":if(t.toFolderName){let n;return e[0]!==t.title||e[1]!==t.toFolderName||e[2]!==o?(n=St(er,{elements:{1:CV,2:xV},i18nKey:"folder:moveItemToFolderConfirmation",t:o,variables:{title:t.title,toFolder:t.toFolderName}}),e[0]=t.title,e[1]=t.toFolderName,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=St(er,{elements:{1:vV},i18nKey:"folder:moveItemToRootConfirmation",t:o,variables:{title:t.title}}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.toFolderName){let n;return e[7]!==t.count||e[8]!==t.toFolderName||e[9]!==o?(n=St(er,{elements:{1:bV,2:gV},i18nKey:"folder:moveItemsToFolderConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item"),toFolder:t.toFolderName}}),e[7]=t.count,e[8]=t.toFolderName,e[9]=o,e[10]=n):n=e[10],n}else{let n;return e[11]!==t.count||e[12]!==o?(n=St(er,{elements:{1:hV},i18nKey:"folder:moveItemsToRootConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item")}}),e[11]=t.count,e[12]=o,e[13]=n):n=e[13],n}}}function hV(t){let{children:e}=t;return St("strong",{children:e})}function gV(t){let{children:e}=t;return St("strong",{children:e})}function bV(t){let{children:e}=t;return St("strong",{children:e})}function vV(t){let{children:e}=t;return St("strong",{children:e})}function xV(t){let{children:e}=t;return St("strong",{children:e})}function CV(t){let{children:e}=t;return St("strong",{children:e})}var _V="move-doc-to-folder";function Ru(t){let e=fD(29),{buttonProps:o,className:n,folderCollectionSlug:r,folderFieldName:s}=t,i=n===void 0?"":n,{t:l}=L(),a=Tt(DV),c;e[0]!==s?(c=I=>{let[F]=I;return F&&F?.[s]||null},e[0]=s,e[1]=c):c=e[1];let u=Tt(c),d=u?.value,{id:f,collectionSlug:m,initialData:h,title:p}=Re(),{setModified:g}=ke(),b;e[2]!==l?(b=()=>`${l("general:loading")}...`,e[2]=l,e[3]=b):b=e[3];let[x,v]=mD.useState(b),{config:C}=H(),y=IV(),S,w;e[4]!==C.routes.api||e[5]!==r||e[6]!==d||e[7]!==l?(S=()=>{(async function(){if(d&&(typeof d=="string"||typeof d=="number")){let A=await(await fetch(`${C.routes.api}/${r}/${d}`)).json();v(A?.name||l("folder:noFolder"))}else v(l("folder:noFolder"))})()},w=[r,C.routes.api,d,l],e[4]=C.routes.api,e[5]=r,e[6]=d,e[7]=l,e[8]=S,e[9]=w):(S=e[8],w=e[9]),mD.useEffect(S,w);let _=`move-to-folder-${y}`,D;e[10]!==u||e[11]!==a||e[12]!==s||e[13]!==g?(D=I=>{let{id:F}=I;u.value!==F&&(a({type:"UPDATE",path:s,value:F}),g(!0))},e[10]=u,e[11]=a,e[12]=s,e[13]=g,e[14]=D):D=e[14];let R=!u?.value,T;return e[15]!==o||e[16]!==i||e[17]!==m||e[18]!==r||e[19]!==s||e[20]!==d||e[21]!==x||e[22]!==f||e[23]!==h||e[24]!==_||e[25]!==D||e[26]!==R||e[27]!==p?(T=gp(pD,{buttonProps:o,className:i,collectionSlug:m,docData:h,docID:f,docTitle:p,folderCollectionSlug:r,folderFieldName:s,fromFolderID:d,fromFolderName:x,modalSlug:_,onConfirm:D,skipConfirmModal:R}),e[15]=o,e[16]=i,e[17]=m,e[18]=r,e[19]=s,e[20]=d,e[21]=x,e[22]=f,e[23]=h,e[24]=_,e[25]=D,e[26]=R,e[27]=p,e[28]=T):T=e[28],T}function DV(t){let[,e]=t;return e}var pD=t=>{let e=fD(27),{buttonProps:o,className:n,collectionSlug:r,docData:s,docID:i,docTitle:l,folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,modalSlug:f,onConfirm:m,skipConfirmModal:h}=t,{getEntityConfig:p}=H(),{i18n:g,t:b}=L(),{closeModal:x,openModal:v}=ce(),C=Tr(),y;if(e[0]!==o||e[1]!==n||e[2]!==x||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==C||e[8]!==a||e[9]!==c||e[10]!==u||e[11]!==d||e[12]!==p||e[13]!==g||e[14]!==f||e[15]!==m||e[16]!==v||e[17]!==h||e[18]!==b){let S=cc({slug:f,depth:C}),w;e[20]!==r||e[21]!==l||e[22]!==p||e[23]!==g?(w=l||SV(p({collectionSlug:r}).labels.singular,g),e[20]=r,e[21]=l,e[22]=p,e[23]=g,e[24]=w):w=e[24];let _=w,D;e[25]!==n?(D=[_V,n].filter(Boolean),e[25]=n,e[26]=D):D=e[26],y=yV(wV,{children:[gp(se,{buttonStyle:"subtle",className:D.join(" "),icon:gp(Tu,{}),iconPosition:"left",onClick:()=>{v(S)},...o,children:d}),gp(gl,{action:"moveItemToFolder",drawerSlug:S,folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,itemsToMove:[{itemKey:`${r}-${i}`,relationTo:r,value:{...s,id:i}}],onConfirm:async R=>{if(u!==R.id&&typeof m=="function")try{await m(R),R.id?ue.success(b("folder:itemHasBeenMoved",{folderName:`"${R.name}"`,title:_})):ue.success(b("folder:itemHasBeenMovedToRoot",{title:_}))}catch(T){let I=T}x(S)},skipConfirmModal:h,title:_})]}),e[0]=o,e[1]=n,e[2]=x,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=C,e[8]=a,e[9]=c,e[10]=u,e[11]=d,e[12]=p,e[13]=g,e[14]=f,e[15]=m,e[16]=v,e[17]=h,e[18]=b,e[19]=y}else y=e[19];return y};import{c as ED}from"react/compiler-runtime";import{jsx as Dt,jsxs as Or}from"react/jsx-runtime";import{isImage as ND}from"payload/shared";import Mu,{Fragment as MV,useCallback as $u,useEffect as ku,useRef as AD,useState as ju}from"react";import{jsx as $t,jsxs as zo}from"react/jsx-runtime";import xp,{useRef as Cl,useState as Zs}from"react";import Qt,{PureComponent as FV,createRef as hD}from"react";var bp={x:0,y:0,width:0,height:0,unit:"px"},bl=(t,e,o)=>Math.min(Math.max(t,e),o),TV=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),gD=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function vl(t,e,o){return t.unit==="%"?{...bp,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/o*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/o*100:0}}function Us(t,e,o){return t.unit?t.unit==="px"?{...bp,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*o/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*o/100:0}:{...bp,...t,unit:"px"}}function bD(t,e,o,n,r,s=0,i=0,l=n,a=r){let c={...t},u=Math.min(s,n),d=Math.min(i,r),f=Math.min(l,n),m=Math.min(a,r);e&&(e>1?(u=i?i*e:u,d=u/e,f=l*e):(d=s?s/e:d,u=d*e,m=a/e)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let h=n-(c.x+c.width);h<0&&(c.x=Math.min(c.x,n-u),c.width+=h);let p=r-(c.y+c.height);if(p<0&&(c.y=Math.min(c.y,r-d),c.height+=p),c.width<u&&((o==="sw"||o=="nw")&&(c.x-=u-c.width),c.width=u),c.height<d&&((o==="nw"||o=="ne")&&(c.y-=d-c.height),c.height=d),c.width>f&&((o==="sw"||o=="nw")&&(c.x-=f-c.width),c.width=f),c.height>m&&((o==="nw"||o=="ne")&&(c.y-=m-c.height),c.height=m),e){let g=c.width/c.height;if(g<e){let b=Math.max(c.width/e,d);(o==="nw"||o=="ne")&&(c.y-=b-c.height),c.height=b}else if(g>e){let b=Math.max(c.height*e,u);(o==="sw"||o=="nw")&&(c.x-=b-c.width),c.width=b}}return c}function RV(t,e,o,n){let r={...t};return e==="ArrowLeft"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="w"?(r.x-=o,r.width+=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="e"?r.width-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowRight"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="w"?(r.x+=o,r.width-=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="e"?r.width+=o:n==="se"&&(r.width+=o,r.height+=o)),e==="ArrowUp"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="n"?(r.y-=o,r.height+=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="s"?r.height-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowDown"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="n"?(r.y+=o,r.height-=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="s"?r.height+=o:n==="se"&&(r.width+=o,r.height+=o)),r}var xl={capture:!0,passive:!1},Xs=class un extends FV{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=hD(),this.mediaRef=hD(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:o,disabled:n}=this.props,r=this.getBox();if(!o)return;let s=Us(o,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,l=!!i,a=e.clientX,c=e.clientY,u=s.x,d=s.y;if(i){let f=e.clientX-r.x,m=e.clientY-r.y,h=0,p=0;i==="ne"||i=="e"?(h=f-(s.x+s.width),p=m-s.y,u=s.x,d=s.y+s.height):i==="se"||i==="s"?(h=f-(s.x+s.width),p=m-(s.y+s.height),u=s.x,d=s.y):i==="sw"||i=="w"?(h=f-s.x,p=m-(s.y+s.height),u=s.x+s.width,d=s.y):(i==="nw"||i=="n")&&(h=f-s.x,p=m-s.y,u=s.x+s.width,d=s.y+s.height),a=u+r.x+h,c=d+r.y+p}this.evData={startClientX:a,startClientY:c,startCropX:u,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:o,disabled:n,locked:r,keepSelection:s,onChange:i}=this.props,l=this.getBox();if(n||r||s&&o)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let a=e.clientX-l.x,c=e.clientY-l.y,u={unit:"px",x:a,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(Us(u,l.width,l.height),vl(u,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let{crop:o,disabled:n,onChange:r,onDragStart:s}=this.props,i=this.getBox();if(n||!o||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));let{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let a;l.isResize?a=this.resizeCrop():a=this.dragCrop(),gD(o,a)||r(Us(a,i.width,i.height),vl(a,i.width,i.height))},this.onComponentKeyDown=e=>{let{crop:o,disabled:n,onChange:r,onComplete:s}=this.props;if(n)return;let i=e.key,l=!1;if(!o)return;let a=this.getBox(),c=this.makePixelCrop(a),u=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?un.nudgeStepLarge:e.shiftKey?un.nudgeStepMedium:un.nudgeStep;if(i==="ArrowLeft"?(c.x-=u,l=!0):i==="ArrowRight"?(c.x+=u,l=!0):i==="ArrowUp"?(c.y-=u,l=!0):i==="ArrowDown"&&(c.y+=u,l=!0),l){e.cancelable&&e.preventDefault(),c.x=bl(c.x,0,a.width-c.width),c.y=bl(c.y,0,a.height-c.height);let d=Us(c,a.width,a.height),f=vl(c,a.width,a.height);r(d,f),s&&s(d,f)}},this.onHandlerKeyDown=(e,o)=>{let{aspect:n=0,crop:r,disabled:s,minWidth:i=0,minHeight:l=0,maxWidth:a,maxHeight:c,onChange:u,onComplete:d}=this.props,f=this.getBox();if(s||!r)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;let m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?un.nudgeStepLarge:e.shiftKey?un.nudgeStepMedium:un.nudgeStep,h=Us(r,f.width,f.height),p=RV(h,e.key,m,o),g=bD(p,n,o,f.width,f.height,i,l,a,c);if(!gD(r,g)){let b=vl(g,f.width,f.height);u(g,b),d&&d(g,b)}},this.onDocPointerDone=e=>{let{crop:o,disabled:n,onComplete:r,onDragEnd:s}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!o)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),r&&r(Us(o,i.width,i.height),vl(o,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var o;(o=this.componentRef.current)==null||o.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:o,y:n,width:r,height:s}=e.getBoundingClientRect();return{x:o,y:n,width:r,height:s}}componentDidUpdate(e){let{crop:o,onComplete:n}=this.props;if(n&&!e.crop&&o){let{width:r,height:s}=this.getBox();r&&s&&n(Us(o,r,s),vl(o,r,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,xl),this.document.addEventListener("pointerup",this.onDocPointerDone,xl),this.document.addEventListener("pointercancel",this.onDocPointerDone,xl),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,xl),this.document.removeEventListener("pointerup",this.onDocPointerDone,xl),this.document.removeEventListener("pointercancel",this.onDocPointerDone,xl),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,o=this.getBox(),n=this.makePixelCrop(o),r=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return n.x=bl(e.startCropX+r,0,o.width-n.width),n.y=bl(e.startCropY+s,0,o.height-n.height),n}getPointRegion(e,o,n,r){let{evData:s}=this,i=s.clientX-e.x,l=s.clientY-e.y,a;r&&o?a=o==="nw"||o==="n"||o==="ne":a=l<s.startCropY;let c;return n&&o?c=o==="nw"||o==="w"||o==="sw":c=i<s.startCropX,c?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,o,n=0,r=0){let s=Math.min(n,e.width),i=Math.min(r,e.height);return!o||!s&&!i?[s,i]:o>1?s?[s,s/o]:[i*o,i]:i?[i*o,i]:[s,s/o]}resizeCrop(){let{evData:e}=this,{aspect:o=0,maxWidth:n,maxHeight:r}=this.props,s=this.getBox(),[i,l]=this.resolveMinDimensions(s,o,this.props.minWidth,this.props.minHeight),a=this.makePixelCrop(s),c=this.getPointRegion(s,e.ord,i,l),u=e.ord||c,d=e.clientX-e.startClientX,f=e.clientY-e.startClientY;(i&&u==="nw"||u==="w"||u==="sw")&&(d=Math.min(d,-i)),(l&&u==="nw"||u==="n"||u==="ne")&&(f=Math.min(f,-l));let m={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(m.x=e.startCropX,m.width=d,o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY-m.height)):c==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=d,o?m.height=m.width/o:m.height=f):c==="sw"?(m.x=e.startCropX+d,m.y=e.startCropY,m.width=Math.abs(d),o?m.height=m.width/o:m.height=f):c==="nw"&&(m.x=e.startCropX+d,m.width=Math.abs(d),o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY+f));let h=bD(m,o,c,s.width,s.height,i,l,n,r);return o||un.xyOrds.indexOf(u)>-1?a=h:un.xOrds.indexOf(u)>-1?(a.x=h.x,a.width=h.width):un.yOrds.indexOf(u)>-1&&(a.y=h.y,a.height=h.height),a.x=bl(a.x,0,s.width-a.width),a.y=bl(a.y,0,s.height-a.height),a}createCropSelection(){let{ariaLabels:e=un.defaultProps.ariaLabels,disabled:o,locked:n,renderSelectionAddon:r,ruleOfThirds:s,crop:i}=this.props,l=this.getCropStyle();if(i)return Qt.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!o&&!n&&Qt.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Qt.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Qt.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Qt.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Qt.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"nw"),role:"button"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"n"),role:"button"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"ne"),role:"button"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"e"),role:"button"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"se"),role:"button"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"s"),role:"button"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"sw"),role:"button"}),Qt.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"w"),role:"button"})),r&&Qt.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:a=>a.stopPropagation()},r(this.state)),s&&Qt.createElement(Qt.Fragment,null,Qt.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Qt.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){let o={...bp,...this.props.crop||{}};return Us(o,e.width,e.height)}render(){let{aspect:e,children:o,circularCrop:n,className:r,crop:s,disabled:i,locked:l,style:a,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,f=s?this.createCropSelection():null,m=TV("ReactCrop",r,u&&"ReactCrop--active",i&&"ReactCrop--disabled",l&&"ReactCrop--locked",d&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return Qt.createElement("div",{ref:this.componentRef,className:m,style:a},Qt.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},o),f)}};Xs.xOrds=["e","w"];Xs.yOrds=["n","s"];Xs.xyOrds=["nw","ne","se","sw"];Xs.nudgeStep=1;Xs.nudgeStepMedium=10;Xs.nudgeStepLarge=100;Xs.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var vD=Xs;import"react-image-crop/dist/ReactCrop.css";var _t="edit-upload",vp=t=>{let{name:e,onChange:o,ref:n,value:r}=t;return zo("div",{className:`${_t}__input`,children:[e,$t("input",{name:e,onChange:s=>o(s.target.value),ref:n,type:"number",value:r})]})},PV={height:100,unit:"%",width:100,x:0,y:0},xv=({fileName:t,fileSrc:e,imageCacheTag:o,initialCrop:n,initialFocalPoint:r,onSave:s,showCrop:i,showFocalPoint:l})=>{let{closeModal:a}=ce(),{t:c}=L(),[u,d]=Zs(()=>({...PV,...n||{}})),f={x:50,y:50},[m,h]=Zs(()=>({...f,...r})),[p,g]=Zs(!1),[b,x]=Zs(0),[v,C]=Zs(0),y=Cl(void 0),S=Cl(void 0),w=Cl(void 0),_=Cl(null),D=Cl(null),[R,T]=Zs(!1),I=N=>{x(N.currentTarget.naturalHeight),C(N.currentTarget.naturalWidth),T(!0)},F=({dimension:N,value:E})=>{let O=parseInt(E);if(N==="width"&&O>=v||N==="height"&&O>=b)return null;let M=100*(O/(N==="width"?v:b));if(M===100||M===0)return null;d({...u,[N]:M})},P=({coordinate:N,value:E})=>{let O=parseInt(E);O>=0&&O<=100&&h(M=>({...M,[N]:O}))},A=()=>{typeof s=="function"&&s({crop:u||void 0,focalPoint:m,heightInPixels:Number(_?.current?.value??b),widthInPixels:Number(D?.current?.value??v)}),a(Pu)},k=xp.useCallback(({x:N,y:E})=>{h({x:N,y:E}),g(!1)},[]),$=()=>{let N=y.current.getBoundingClientRect(),E=i?w.current.getBoundingClientRect():S.current.getBoundingClientRect(),O=(E.left-N.left+E.width/2)/N.width*100,M=(E.top-N.top+E.height/2)/N.height*100;h({x:O,y:M})},j=o?`${e}?${encodeURIComponent(o)}`:e;return zo("div",{className:_t,children:[zo("div",{className:`${_t}__header`,children:[zo("h2",{title:`${c("general:editing")} ${t}`,children:[c("general:editing")," ",t]}),zo("div",{className:`${_t}__actions`,children:[$t(se,{"aria-label":c("general:cancel"),buttonStyle:"secondary",className:`${_t}__cancel`,onClick:()=>a(Pu),children:c("general:cancel")}),$t(se,{"aria-label":c("general:applyChanges"),buttonStyle:"primary",className:`${_t}__save`,disabled:!R,onClick:A,children:c("general:applyChanges")})]})]}),zo("div",{className:`${_t}__toolWrap`,children:[$t("div",{className:`${_t}__crop`,children:zo("div",{className:`${_t}__focal-wrapper`,ref:y,style:{aspectRatio:`${v/b}`},children:[i?$t(vD,{className:`${_t}__reactCrop`,crop:u,onChange:(N,E)=>d(E),onComplete:()=>g(!0),renderSelectionAddon:()=>$t("div",{className:`${_t}__crop-window`,ref:w}),children:$t("img",{alt:c("upload:setCropArea"),onLoad:I,ref:S,src:j})}):$t("img",{alt:c("upload:setFocalPoint"),onLoad:I,ref:S,src:j}),l&&$t(AV,{boundsRef:i?w:S,checkBounds:i?p:!1,className:`${_t}__focalPoint`,containerRef:y,initialPosition:m,onDragEnd:k,setCheckBounds:i?g:!1,children:$t(Dr,{})})]})}),(i||l)&&zo("div",{className:`${_t}__sidebar`,children:[i&&zo("div",{className:`${_t}__groupWrap`,children:[$t("div",{children:zo("div",{className:`${_t}__titleWrap`,children:[$t("h3",{children:c("upload:crop")}),$t(se,{buttonStyle:"none",className:`${_t}__reset`,onClick:()=>d({height:100,unit:"%",width:100,x:0,y:0}),children:c("general:reset")})]})}),$t("span",{className:`${_t}__description`,children:c("upload:cropToolDescription")}),zo("div",{className:`${_t}__inputsWrap`,children:[$t(vp,{name:`${c("upload:width")} (px)`,onChange:N=>F({dimension:"width",value:N}),ref:D,value:(u.width/100*v).toFixed(0)}),$t(vp,{name:`${c("upload:height")} (px)`,onChange:N=>F({dimension:"height",value:N}),ref:_,value:(u.height/100*b).toFixed(0)})]})]}),l&&zo("div",{className:`${_t}__groupWrap`,children:[$t("div",{children:zo("div",{className:`${_t}__titleWrap`,children:[$t("h3",{children:c("upload:focalPoint")}),$t(se,{buttonStyle:"none",className:`${_t}__reset`,onClick:$,children:c("general:reset")})]})}),$t("span",{className:`${_t}__description`,children:c("upload:focalPointDescription")}),zo("div",{className:`${_t}__inputsWrap`,children:[$t(vp,{name:"X %",onChange:N=>P({coordinate:"x",value:N}),value:m.x.toFixed(0)}),$t(vp,{name:"Y %",onChange:N=>P({coordinate:"y",value:N}),value:m.y.toFixed(0)})]})]})]})]})]})},AV=({boundsRef:t,checkBounds:e,children:o,className:n,containerRef:r,initialPosition:s={x:50,y:50},onDragEnd:i,setCheckBounds:l})=>{let[a,c]=Zs({x:s.x,y:s.y}),[u,d]=Zs(!1),f=Cl(void 0),m=xp.useCallback((b,x,v)=>{let C=r.current.getBoundingClientRect(),y=t.current.getBoundingClientRect(),S=b??y.left,w=x??y.top,_=S<y.left||S>y.right,D=w<y.top||w>y.bottom,R=(S-C.left)/C.width*100,T=(w-C.top)/C.height*100,I=(y.left-C.left+y.width/2)/C.width*100,F=(y.top-C.top+y.height/2)/C.height*100;return(_||D)&&(d(!1),S<y.left?R=(y.left-C.left)/C.width*100:S>y.right&&(R=(C.width-(C.right-y.right))/C.width*100),w<y.top?T=(y.top-C.top)/C.height*100:w>y.bottom&&(T=(C.height-(C.bottom-y.bottom))/C.height*100),v&&(R=_?I:R,T=D?F:T)),{x:R,y:T}},[t,r]),h=b=>{b.preventDefault(),d(!0)},p=b=>{if(!u)return null;let{x,y:v}=m(b.clientX,b.clientY);c({x,y:v})},g=()=>{d(!1),i(a)};return xp.useEffect(()=>{if(!(u||!f.current)&&e){let{height:b,left:x,top:v,width:C}=f.current.getBoundingClientRect(),{x:y,y:S}=m(x+C/2,v+b/2,!0);i({x:y,y:S}),c({x:y,y:S}),l(!1);return}},[m,u,e,l,a.x,a.y,i]),xp.useEffect(()=>{c({x:s.x,y:s.y})},[s.x,s.y]),zo("div",{className:[`${_t}__draggable-container`,u&&`${_t}__draggable-container--dragging`].filter(Boolean).join(" "),onMouseMove:p,children:[$t("button",{className:[`${_t}__draggable`,n].filter(Boolean).join(" "),onMouseDown:h,onMouseUp:g,ref:f,style:{left:`${a.x}%`,top:`${a.y}%`},type:"button",children:o}),$t("div",{})]})};import{jsx as FD}from"react/jsx-runtime";import"react";import{c as EV}from"react/compiler-runtime";import{jsx as rs,jsxs as Cv}from"react/jsx-runtime";import"react";var Ys="file-details-draggable",xD=t=>{let e=EV(20),{collectionSlug:o,doc:n,hideRemoveFile:r,imageCacheTag:s,isSortable:i,removeItem:l,rowIndex:a,uploadConfig:c}=t,{id:u,filename:d,thumbnailURL:f,url:m}=n,h;e[0]!==o||e[1]!==u?(h={id:u,collectionSlug:o},e[0]=o,e[1]=u,e[2]=h):h=e[2];let[p,g]=vt(h),b;e[3]!==p||e[4]!==g||e[5]!==o||e[6]!==n||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==i||e[11]!==l||e[12]!==a||e[13]!==f||e[14]!==c||e[15]!==m?(b=v=>Cv("div",{className:[Ys,v&&i&&`${Ys}--has-drag-handle`].filter(Boolean).join(" "),ref:v.setNodeRef,style:{transform:v.transform,transition:v.transition,zIndex:v.isDragging?1:void 0},children:[Cv("div",{className:`${Ys}--drag-wrapper`,children:[i&&v&&rs("div",{className:`${Ys}__drag`,...v.attributes,...v.listeners,children:rs(Jr,{})}),rs(gr,{className:`${Ys}__thumbnail`,collectionSlug:o,doc:n,fileSrc:f||m,imageCacheTag:s,uploadConfig:c})]}),rs("div",{className:`${Ys}__main-detail`,children:d}),Cv("div",{className:`${Ys}__actions`,children:[rs(p,{}),rs(g,{children:rs(Ur,{})}),!r&&l&&rs(se,{buttonStyle:"icon-label",className:`${Ys}__remove`,icon:"x",iconStyle:"none",onClick:()=>l(a),round:!0})]})]}),e[3]=p,e[4]=g,e[5]=o,e[6]=n,e[7]=d,e[8]=r,e[9]=s,e[10]=i,e[11]=l,e[12]=a,e[13]=f,e[14]=c,e[15]=m,e[16]=b):b=e[16];let x;return e[17]!==u||e[18]!==b?(x=rs(bn,{id:u,children:b},u),e[17]=u,e[18]=b,e[19]=x):x=e[19],x};import{jsx as Lu,jsxs as _D}from"react/jsx-runtime";import"react";import{jsx as SD,jsxs as Eu}from"react/jsx-runtime";import{formatFilesize as $V}from"payload/shared";import ID from"react";import{jsx as CD,jsxs as yD}from"react/jsx-runtime";import{useRef as NV,useState as wD}from"react";var LV="copy-to-clipboard",Au=({defaultMessage:t,successMessage:e,value:o})=>{let n=NV(null),[r,s]=wD(!1),[i,l]=wD(!1),{t:a}=L();return o?yD("button",{className:LV,onClick:()=>{n&&n.current&&(n.current.select(),n.current.setSelectionRange(0,o.length+1),document.execCommand("copy"),s(!0))},onMouseEnter:()=>{l(!0),s(!1)},onMouseLeave:()=>{l(!1),s(!1)},type:"button",children:[CD(Sc,{}),yD(So,{delay:r?0:void 0,show:i||r,children:[r&&(e??a("general:copied")),!r&&(t??a("general:copy"))]}),CD("textarea",{readOnly:!0,ref:n,tabIndex:-1,value:o})]}):null};var yv="file-meta",Nu=t=>{let{filename:e,filesize:o,height:n,mimeType:r,url:s,width:i}=t;return Eu("div",{className:yv,children:[Eu("div",{className:`${yv}__url`,children:[SD("a",{href:s,rel:"noopener noreferrer",target:"_blank",children:e}),SD(Au,{defaultMessage:"Copy URL",value:s})]}),Eu("div",{className:`${yv}__size-type`,children:[$V(o),typeof i=="number"&&typeof n=="number"&&Eu(ID.Fragment,{children:["\xA0-\xA0",i,"x",n]}),r&&Eu(ID.Fragment,{children:["\xA0-\xA0",r]})]})]})};var Cp="file-details",DD=t=>{let{customUploadActions:e,doc:o,enableAdjustments:n,handleRemove:r,hasImageSizes:s,hideRemoveFile:i,imageCacheTag:l,uploadConfig:a}=t,{filename:c,filesize:u,height:d,mimeType:f,thumbnailURL:m,url:h,width:p}=o,g=a.displayPreview??!0;return Lu("div",{className:Cp,children:_D("header",{children:[g&&Lu(gr,{className:`${Cp}__thumbnail`,doc:o,fileSrc:m||h,imageCacheTag:l,uploadConfig:a}),_D("div",{className:`${Cp}__main-detail`,children:[Lu(Nu,{filename:c,filesize:u,height:d,mimeType:f,url:h,width:p}),(n||s&&o.filename||e)&&Lu(wv,{customActions:e,enableAdjustments:!!n,enablePreviewSizes:s&&o.filename,mimeType:f})]}),!i&&r&&Lu(se,{buttonStyle:"icon-label",className:`${Cp}__remove`,icon:"x",iconStyle:"with-border",onClick:r,round:!0})]})})};var Sv=t=>{let{hasMany:e}=t;return e?FD(xD,{...t}):FD(DD,{...t})};import{jsx as Sn,jsxs as yl}from"react/jsx-runtime";import{useEffect as kV,useMemo as jV,useState as TD}from"react";var Br="preview-sizes",RD=(t,e)=>{if(!e||e.length===0)return t;let o={};return e.forEach(({name:n})=>{t[n]&&(o[n]=t[n])}),o},PD=({name:t,active:e,meta:o,onClick:n,previewSrc:r})=>yl("div",{className:[`${Br}__sizeOption`,e&&`${Br}--selected`].filter(Boolean).join(" "),onClick:typeof n=="function"?n:void 0,onKeyDown:s=>{typeof n=="function"&&s.key==="Enter"&&n()},role:"button",tabIndex:0,children:[Sn("div",{className:`${Br}__image`,children:Sn("img",{alt:o.filename,src:r})}),yl("div",{className:`${Br}__sizeMeta`,children:[Sn("div",{className:`${Br}__sizeName`,children:t}),Sn(Nu,{...o})]})]}),Iv=({doc:t,imageCacheTag:e,uploadConfig:o})=>{let{imageSizes:n}=o,{sizes:r}=t,[s,i]=TD(()=>RD(r,n)),[l,a]=TD(null),c=m=>{if(!m.filename)return null;if(m.url)return`${m.url}${e?`?${encodeURIComponent(e)}`:""}`};kV(()=>{i(RD(r,n))},[r,n,e]);let u=c(l?t.sizes[l]:t),d=jV(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),f="Original";return yl("div",{className:Br,children:[yl("div",{className:`${Br}__imageWrap`,children:[yl("div",{className:`${Br}__meta`,children:[Sn("div",{className:`${Br}__sizeName`,children:l||f}),Sn(Nu,{...l?s[l]:d})]}),Sn("img",{alt:t.filename,className:`${Br}__preview`,src:u})]}),Sn("div",{className:`${Br}__listWrap`,children:yl("div",{className:`${Br}__list`,children:[Sn(PD,{active:!l,meta:d,name:f,onClick:()=>a(null),previewSrc:c(t)}),Object.entries(s).map(([m,h])=>{let p=l===m,g=c(h);return g?Sn(PD,{active:p,meta:h,name:m,onClick:()=>a(m),previewSrc:g},m):null})]})})]})};var io="file-field",Pu="edit-upload",LD="preview-sizes",BV=t=>!t&&t!==void 0?"A file is required.":!0,wv=t=>{let e=ED(10),{customActions:o,enableAdjustments:n,enablePreviewSizes:r,mimeType:s}=t,{t:i}=L(),{openModal:l}=ce(),a,c;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==l||e[5]!==i){c=Symbol.for("react.early_return_sentinel");e:{let u=ND(s)&&s!=="image/svg+xml"&&s!=="image/jxl";if(!u&&(!o||o.length===0)){c=null;break e}let d;e[8]!==o?(d=o&&o.map(OV),e[8]=o,e[9]=d):d=e[9],a=Or("div",{className:`${io}__upload-actions`,children:[u&&Or(Mu.Fragment,{children:[r&&Dt(se,{buttonStyle:"pill",className:`${io}__previewSizes`,margin:!1,onClick:()=>{l(LD)},size:"small",children:i("upload:previewSizes")}),n&&Dt(se,{buttonStyle:"pill",className:`${io}__edit`,margin:!1,onClick:()=>{l(Pu)},size:"small",children:i("upload:editImage")})]}),d]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=l,e[5]=i,e[6]=a,e[7]=c}else a=e[6],c=e[7];return c!==Symbol.for("react.early_return_sentinel")?c:a},_v=t=>{let e=ED(5),{resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r}=wi(),s;return e[0]!==t||e[1]!==o||e[2]!==n||e[3]!==r?(s=Dt(ul,{children:Dt(Dv,{...t,resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r})}),e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},Dv=t=>{let{collectionSlug:e,customActions:o,initialState:n,onChange:r,resetUploadEdits:s,updateUploadEdits:i,uploadConfig:l,UploadControls:a,uploadEdits:c}=t,{setUploadControlFile:u,setUploadControlFileName:d,setUploadControlFileUrl:f,uploadControlFile:m,uploadControlFileName:h,uploadControlFileUrl:p}=iv(),{config:{routes:{api:g},serverURL:b}}=H(),{t:x}=L(),{setModified:v}=ke(),{id:C,docPermissions:y,savedDocumentData:S,setUploadStatus:w}=Re(),_=_r(),{errorMessage:D,setValue:R,showError:T,value:I}=Ne({path:"file",validate:BV}),[F,P]=ju(null),[A,k]=ju(!1),[$,j]=ju(I?.name||""),[N,E]=ju(!1),[O,M]=ju(""),B=AD(null),V=AD(null),G=typeof l?.pasteURL=="object"&&l.pasteURL.allowList?.length>0,z=$u(pe=>{pe instanceof File&&P(URL.createObjectURL(pe)),R(pe),E(!1),f(""),d(null),u(null),typeof r=="function"&&r(pe)},[r,R,u,d,f]),U=(pe,te)=>new File([pe],te,{type:pe.type,lastModified:pe.lastModified}),oe=Mu.useCallback(pe=>{let te=pe.target.value;I&&(z(U(I,te)),j(te))},[z,I]),X=$u(pe=>{let te=pe?.[0];z(te)},[z]),Y=$u(()=>{k(!0),z(null),P(""),M(""),s(),E(!1),f(""),d(null),u(null)},[z,s,u,d,f]),re=$u(pe=>{v(!0),i(pe)},[v,i]),W=$u(async()=>{if(!(!O||l?.pasteURL===!1)){w("uploading");try{let pe=await fetch(O);if(!pe.ok)throw new Error(`Fetch failed with status: ${pe.status}`);let te=await pe.blob(),Z=h||decodeURIComponent(O.split("/").pop()||""),le=new File([te],Z,{type:te.type});z(le),w("idle");return}catch{if(!G){ue.error("Failed to fetch the file."),w("failed");return}}try{let pe=`/${e}/paste-url${C?`/${C}?`:"?"}src=${encodeURIComponent(O)}`,te=await fetch(`${b}${g}${pe}`);if(!te.ok)throw new Error(`Fetch failed with status: ${te.status}`);let Z=await te.blob(),le=decodeURIComponent(O.split("/").pop()||""),K=new File([Z],le,{type:Z.type});z(K),w("idle")}catch{ue.error("The provided URL is not allowed."),w("failed")}}},[g,e,O,z,C,b,w,l,h,G]);ku(()=>{n?.file?.value instanceof File&&(P(URL.createObjectURL(n.file.value)),k(!1))},[n]),ku(()=>{N&&B.current},[N]),ku(()=>{_&&k(!1)},[_]);let ee=y?.update&&"delete"in y&&y?.delete,ie=l?.imageSizes?.length>0,de=!!l?.resizeOptions,xe=l?.focalPoint===!0,{crop:Q=!0,focalPoint:ae=!0}=l,be=ae&&(ie||de||xe),ye=l.mimeTypes?.join(", "),J=l?.cacheTags&&S?.updatedAt;return ku(()=>{(async()=>{p&&(M(p),await W())})()},[p,W]),ku(()=>{(()=>{m&&z(m)})()},[m,z]),Or("div",{className:[De,io].filter(Boolean).join(" "),children:[Dt(ze,{message:D,showError:T}),S&&S.filename&&!A&&Dt(Sv,{collectionSlug:e,customUploadActions:o,doc:S,enableAdjustments:Q||be,handleRemove:ee?Y:void 0,hasImageSizes:ie,hideRemoveFile:l.hideRemoveFile,imageCacheTag:J,uploadConfig:l}),(!l.hideFileInputOnCreate&&!S?.filename||A)&&Or("div",{className:`${io}__upload`,children:[!I&&!N&&Dt(Xi,{onChange:X,children:Or("div",{className:`${io}__dropzoneContent`,children:[Or("div",{className:`${io}__dropzoneButtons`,children:[Dt(se,{buttonStyle:"pill",onClick:()=>{V.current&&V.current.click()},size:"small",children:x("upload:selectFile")}),Dt("input",{accept:ye,"aria-hidden":"true",className:`${io}__hidden-input`,hidden:!0,onChange:pe=>{pe.target.files&&pe.target.files.length>0&&X(pe.target.files)},ref:V,type:"file"}),l?.pasteURL!==!1&&Or(MV,{children:[Dt("span",{className:`${io}__orText`,children:x("general:or")}),Dt(se,{buttonStyle:"pill",onClick:()=>{E(!0),f(""),u(null),d(null)},size:"small",children:x("upload:pasteURL")})]}),a||null]}),Or("p",{className:`${io}__dragAndDropText`,children:[x("general:or")," ",x("upload:dragAndDrop")]})]})}),N&&Or(Mu.Fragment,{children:[Or("div",{className:`${io}__remote-file-wrap`,children:[Dt("input",{className:`${io}__remote-file`,onChange:pe=>{M(pe.target.value)},ref:B,title:O,type:"text",value:O}),Dt("div",{className:`${io}__add-file-wrap`,children:Dt("button",{className:`${io}__add-file`,onClick:()=>{W()},type:"button",children:x("upload:addFile")})})]}),Dt(se,{buttonStyle:"icon-label",className:`${io}__remove`,icon:"x",iconStyle:"with-border",onClick:()=>{E(!1),f(""),u(null),d(null)},round:!0,tooltip:x("general:cancel")})]}),I&&F&&Or(Mu.Fragment,{children:[Dt("div",{className:`${io}__thumbnail-wrap`,children:Dt(gr,{collectionSlug:e,fileSrc:ND(I.type)?F:null})}),Or("div",{className:`${io}__file-adjustments`,children:[Dt("input",{className:`${io}__filename`,onChange:oe,title:$||I.name,type:"text",value:$||I.name}),Dt(wv,{customActions:o,enableAdjustments:Q||be,enablePreviewSizes:ie&&S?.filename&&!A,mimeType:I.type})]}),Dt(se,{buttonStyle:"icon-label",className:`${io}__remove`,icon:"x",iconStyle:"with-border",onClick:Y,round:!0,tooltip:x("general:cancel")})]})]}),(I||S?.filename)&&Dt(kn,{children:Dt(Nt,{Header:null,slug:Pu,children:Dt(xv,{fileName:I?.name||S?.filename,fileSrc:S?.url||F,imageCacheTag:J,initialCrop:c?.crop??void 0,initialFocalPoint:{x:c?.focalPoint?.x||S?.focalX||50,y:c?.focalPoint?.y||S?.focalY||50},onSave:re,showCrop:Q,showFocalPoint:be})})}),S&&ie&&Dt(Nt,{className:`${io}__previewDrawer`,hoverTitle:!0,slug:LD,title:x("upload:sizesFor",{label:S.filename}),children:Dt(Iv,{doc:S,imageCacheTag:J,uploadConfig:l})})]})};function OV(t,e){return Dt(Mu.Fragment,{children:t},e)}var GV="collection-edit";function jD({resetUploadEdits:t,submitted:e,updateUploadEdits:o,uploadEdits:n}){let{action:r,collectionSlug:s,docPermissions:i,getDocPreferences:l,hasSavePermission:a,initialState:c,isInitializing:u,Upload:d}=Re(),{onSave:f}=Bi(),{getFormState:m}=Rt(),{config:{folders:h},getEntityConfig:p}=H(),g=Bu.useRef(null),b=p({collectionSlug:s}),{reportUpdate:x}=os(),v=b.slug,[C]=Bu.useState(v),y=$D(w=>{x({entitySlug:v,updatedAt:w?.result?.updatedAt||new Date().toISOString()}),typeof f=="function"&&f({...w,operation:"create"}),t()},[v,f,x,t]),S=$D(async({formState:w,submitted:_})=>{let D=hr(g),R=await l(),{state:T}=await m({collectionSlug:v,docPermissions:i,docPreferences:R,formState:w,operation:"create",schemaPath:C,signal:D.signal,skipValidation:!_});return g.current=null,T},[v,C,l,m,i]);return kD(()=>{let w=g.current;return()=>{pr(w)}},[]),Js(bc,{operation:"create",children:VV(Kn,{action:r,className:`${GV}__form`,disabled:u||!a,initialState:u?void 0:c,isInitializing:u,method:"POST",onChange:[S],onSuccess:y,submitted:e,children:[Js(Fu,{BeforeFields:Js(Bu.Fragment,{children:d||Js(Dv,{collectionSlug:b.slug,customActions:[h&&b.folders&&Js(Ru,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:h.slug,folderFieldName:h.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:c,resetUploadEdits:t,updateUploadEdits:o,uploadConfig:b.upload,uploadEdits:n})}),docPermissions:i,fields:b.fields,schemaPathSegments:[b.slug]}),Js(WV,{}),Js(zV,{})]})})}function zV(){let{getFields:t}=ke(),{getFormDataRef:e}=No();return kD(()=>{e.current=t},[t,e]),null}function WV(){let{docConfig:t}=Re(),{activeIndex:e,setFormTotalErrorCount:o}=No(),n=Bu.useRef(0),r=Bu.useCallback(s=>{s!==n.current&&(o({errorCount:s,index:e}),n.current=s)},[e,o]);return t?Js(Fi,{fields:t.fields,path:[],setErrorCount:r}):null}import{c as HV}from"react/compiler-runtime";import{jsx as kt,jsxs as dn}from"react/jsx-runtime";import{isImage as UV}from"payload/shared";import wp from"react";var MD=t=>new Promise((e,o)=>{let n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{let s,i,l=n.width/n.height;l>1?(i=280,s=280/l):(i=280*l,s=280);let a=new OffscreenCanvas(i,s),c=a.getContext("2d"),u=t.type==="image/png"?"image/png":"image/jpeg",d=t.type==="image/png"?void 0:.8;c.drawImage(n,0,0,i,s),a.convertToBlob({type:u,...d&&{quality:d}}).then(f=>{URL.revokeObjectURL(n.src);let m=new FileReader;m.onload=()=>e(m.result),m.onerror=o,m.readAsDataURL(f)}).catch(o)},n.onerror=r=>{URL.revokeObjectURL(n.src),o(r)}});var yp="bulk-upload-drawer--add-more-files",It="file-selections";function BD(){let t=HV(34),{activeIndex:e,addFiles:o,forms:n,isInitializing:r,removeFile:s,setActiveIndex:i,totalErrorCount:l}=No(),{initialFiles:a,maxFiles:c}=Go(),{i18n:u,t:d}=L(),{closeModal:f,openModal:m}=ce(),[h,p]=wp.useState(!1),{breakpoints:g}=Ao(),b;t[0]!==s?(b=T=>{s(T)},t[0]=s,t[1]=b):b=t[1];let x=b,v;t[2]!==o||t[3]!==f?(v=T=>{o(T),f(yp)},t[2]=o,t[3]=f,t[4]=v):v=t[4];let C=v,y=YV,S=r?a.length:n.length,w=h&&`${It}__showingFiles`,_;t[5]!==w?(_=[It,w].filter(Boolean),t[5]=w,t[6]=_):_=t[6];let D=_.join(" "),R;if(t[7]!==e||t[8]!==g.m||t[9]!==f||t[10]!==n||t[11]!==C||t[12]!==x||t[13]!==u||t[14]!==a||t[15]!==r||t[16]!==c||t[17]!==m||t[18]!==i||t[19]!==h||t[20]!==d||t[21]!==D||t[22]!==l||t[23]!==S){let T;t[25]===Symbol.for("react.memo_cache_sentinel")?(T=()=>p(ZV),t[25]=T):T=t[25];let I;t[26]!==f?(I=()=>f(yp),t[26]=f,t[27]=I):I=t[27];let F;t[28]!==e||t[29]!==x||t[30]!==u||t[31]!==i||t[32]!==d?(F=(P,A)=>{let{errorCount:k,formID:$,formState:j}=P,N=j?.file?.value||{};return dn("div",{className:[`${It}__fileRowContainer`,A===e&&`${It}__fileRowContainer--active`,k&&k>0&&`${It}__fileRowContainer--error`].filter(Boolean).join(" "),children:[dn("button",{className:`${It}__fileRow`,onClick:()=>i(A),type:"button",children:[kt(JV,{file:N,formID:$}),kt("div",{className:`${It}__fileDetails`,children:kt("p",{className:`${It}__fileName`,title:N.name,children:N.name||d("upload:noFile")})}),N instanceof File?kt("p",{className:`${It}__fileSize`,children:y(N)}):null,kt("div",{className:`${It}__remove ${It}__remove--underlay`,children:kt(ct,{})}),k?kt(ho,{className:`${It}__errorCount`,count:k,i18n:u}):null]}),kt("button",{"aria-label":d("general:remove"),className:`${It}__remove ${It}__remove--overlay`,onClick:()=>x(A),type:"button",children:kt(ct,{})})]},$)},t[28]=e,t[29]=x,t[30]=u,t[31]=i,t[32]=d,t[33]=F):F=t[33],R=dn("div",{className:D,children:[g.m&&h?kt("div",{className:`${It}__mobileBlur`}):null,dn("div",{className:`${It}__header`,children:[dn("div",{className:`${It}__headerTopRow`,children:[dn("div",{className:`${It}__header__text`,children:[kt(ho,{count:l,i18n:u,withMessage:!0}),kt("p",{children:dn("strong",{title:`${S} ${d(S>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[S," ",d(S>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),dn("div",{className:`${It}__header__actions`,children:[typeof c!="number"||S<c?kt(mt,{className:`${It}__header__addFile`,onClick:()=>m(yp),size:"small",children:d("upload:addFile")}):null,dn(se,{buttonStyle:"transparent",className:`${It}__toggler`,onClick:T,children:[kt("span",{className:`${It}__toggler__label`,children:dn("strong",{title:`${S} ${d(S>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[S," ",d(S>1?"upload:filesToUpload":"upload:fileToUpload")]})}),kt(Ve,{direction:h?"down":"up"})]}),kt(Nt,{gutter:!1,Header:null,slug:yp,children:kt(tp,{onCancel:I,onDrop:C})})]})]}),kt("div",{className:`${It}__header__mobileDocActions`,children:kt(uv,{})})]}),kt("div",{className:`${It}__animateWrapper`,children:kt(Ar,{height:!g.m||h?"auto":0,children:dn("div",{className:`${It}__filesContainer`,children:[r&&n.length===0&&a.length>0?Array.from(a).map(XV):null,n.map(F)]})})})]}),t[7]=e,t[8]=g.m,t[9]=f,t[10]=n,t[11]=C,t[12]=x,t[13]=u,t[14]=a,t[15]=r,t[16]=c,t[17]=m,t[18]=i,t[19]=h,t[20]=d,t[21]=D,t[22]=l,t[23]=S,t[24]=R}else R=t[24];return R}function XV(t,e){return kt(yt,{animationDelay:`calc(${e} * 60ms)`,height:"35px"},e)}function ZV(t){return!t}function YV(t){let e=t.size,o=e===0?0:Math.floor(Math.log(e)/Math.log(1024)),n=o>1?1:0;return(e/Math.pow(1024,o)).toFixed(n)+" "+["B","kB","MB","GB","TB"][o]}function JV({file:t,formID:e}){let[o,n]=wp.useState(null),[r,s]=wp.useState(!0);return wp.useEffect(()=>{let i=!1;async function l(){s(!0),n(null);try{if(UV(t.type)){let a=await MD(t);i||n(a)}else n(null)}catch{i||n(null)}finally{i||s(!1)}}return l(),()=>{i=!0}},[t]),r?kt(yt,{className:`${It}__thumbnail-shimmer`,disableInlineStyles:!0}):kt(gr,{className:`${It}__thumbnail`,fileSrc:o},`${e}-${o||"placeholder"}`)}var OD="bulk-upload--file-manager";function VD(){let t=qV(18),{activeIndex:e,collectionSlug:o,docPermissions:n,documentSlots:r,forms:s,hasPublishPermission:i,hasSavePermission:l,hasSubmitted:a,resetUploadEdits:c,updateUploadEdits:u}=No(),d=s[e],{getEntityConfig:f}=H(),{i18n:m}=L(),{user:h}=_e(),{openModal:p}=ce(),g;if(t[0]!==d||t[1]!==e||t[2]!==o||t[3]!==n||t[4]!==r||t[5]!==s.length||t[6]!==f||t[7]!==i||t[8]!==l||t[9]!==a||t[10]!==m||t[11]!==p||t[12]!==c||t[13]!==u||t[14]!==h){let b=f({collectionSlug:o}),x;t[16]!==p?(x=()=>p(Du),t[16]=p,t[17]=x):x=t[17],g=Fv("div",{className:OD,children:[Ou(BD,{}),Fv("div",{className:`${OD}__editView`,children:[Ou(dl,{onClose:x,title:QV(b.labels.singular,m)}),d?Fv(gc,{collectionSlug:o,currentEditor:h,docPermissions:n,hasPublishedDoc:!1,hasPublishPermission:i,hasSavePermission:l,id:null,initialData:KV(d.formState,!0),initialState:d.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:r.Upload,versionCount:0,children:[Ou(X_,{collectionConfig:b}),Ou(jD,{resetUploadEdits:c,submitted:a,updateUploadEdits:u,uploadEdits:d?.uploadEdits})]},`${e}-${s.length}`):null]}),Ou(Z_,{})]}),t[0]=d,t[1]=e,t[2]=o,t[3]=n,t[4]=r,t[5]=s.length,t[6]=f,t[7]=i,t[8]=l,t[9]=a,t[10]=m,t[11]=p,t[12]=c,t[13]=u,t[14]=h,t[15]=g}else g=t[15];return g}var oG="bulk-upload-drawer-slug";function rG(){let{addFiles:t,forms:e,isInitializing:o}=No(),{closeModal:n}=ce(),{collectionSlug:r,drawerSlug:s}=Go(),{getEntityConfig:i}=H(),{t:l}=L(),u=i({collectionSlug:r})?.upload?.mimeTypes,d=ns.useCallback(f=>{let m=new DataTransfer;for(let h of f)(u===void 0||u.length===0||tG(h.type,u))&&m.items.add(h);m.files.length===0?ue.error(l("error:invalidFileType")):t(m.files)},[t,l,u]);return r?!e.length&&!o?ss(tp,{acceptMimeTypes:u?.join(", "),onCancel:()=>n(s),onDrop:d}):ss(VD,{}):null}function zD(){let t=GD(2),{drawerSlug:e}=Go(),o;return t[0]!==e?(o=ss(Nt,{gutter:!1,Header:null,slug:e,children:ss(k_,{children:ss(ul,{children:ss(kn,{children:ss(rG,{})})})})}),t[0]=e,t[1]=o):o=t[1],o}var WD=ns.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function Tv(t){let e=GD(14),{children:o,drawerSlugPrefix:n}=t,[r,s]=ns.useState(),[i,l]=ns.useState(),[a,c]=ns.useState(),[u,d]=ns.useState(void 0),[f,m]=ns.useState(void 0),h=`${n?`${n}-`:""}${HD()}`,p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=S=>{s(S)},e[0]=p):p=e[0];let g=p,b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=S=>{l(()=>S)},e[1]=b):b=e[1];let x=b,v;e[2]!==a?(v=()=>{typeof a=="function"&&a()},e[2]=a,e[3]=v):v=e[3];let C;e[4]!==i?(C=(S,w)=>{typeof i=="function"&&i(S,w)},e[4]=i,e[5]=C):C=e[5];let y;return e[6]!==o||e[7]!==r||e[8]!==h||e[9]!==u||e[10]!==f||e[11]!==v||e[12]!==C?(y=ss(WD,{value:{collectionSlug:r,drawerSlug:h,initialFiles:u,maxFiles:f,onCancel:v,onSuccess:C,setCollectionSlug:g,setInitialFiles:d,setMaxFiles:m,setOnCancel:c,setOnSuccess:x},children:eG(ns.Fragment,{children:[o,ss(zD,{})]})}),e[6]=o,e[7]=r,e[8]=h,e[9]=u,e[10]=f,e[11]=v,e[12]=C,e[13]=y):y=e[13],y}var Go=()=>ns.use(WD);function HD(){let t=Tr();return`${oG}-${t||1}`}import{jsx as Ht,jsxs as Ki,Fragment as Gu}from"react/jsx-runtime";import*as KD from"qs-esm";import mn,{useCallback as JD,useEffect as qD,useMemo as QD}from"react";import{c as aG}from"react/compiler-runtime";import{jsx as Qi,jsxs as lG}from"react/jsx-runtime";import"react";import{c as nG}from"react/compiler-runtime";import{jsx as qi,jsxs as Sp}from"react/jsx-runtime";import{formatFilesize as sG}from"payload/shared";import"react";var is="upload-relationship-details";function Ip(t){let e=nG(34),{id:o,allowEdit:n,allowRemove:r,alt:s,byteSize:i,className:l,collectionSlug:a,displayPreview:c,filename:u,mimeType:d,onRemove:f,reloadDoc:m,src:h,thumbnailSrc:p,withMeta:g,x:b,y:x}=t,v=g===void 0?!0:g,{config:C}=H(),y;e[0]!==a||e[1]!==C?(y="collections"in C?C.collections.find(B=>B.slug===a):void 0,e[0]=a,e[1]=C,e[2]=y):y=e[2];let S=y,w=h?o:void 0,_;e[3]!==a||e[4]!==w?(_={id:w,collectionSlug:a},e[3]=a,e[4]=w,e[5]=_):_=e[5];let[D,,R]=vt(_),{openDrawer:T}=R,I;e[6]!==a||e[7]!==m?(I=async B=>{let{doc:V}=B;return m(V.id,a)},e[6]=a,e[7]=m,e[8]=I):I=e[8];let F=I,P;e[9]!==b||e[10]!==x?(P=function(V,G){let z=[];return G&&z.push(sG(G)),b&&x&&z.push(`${b}x${x}`),V&&z.push(V),z.join(" \u2014 ")},e[9]=b,e[10]=x,e[11]=P):P=e[11];let k=v?P(d,i):"",$=c??S.upload?.displayPreview??!0,j;e[12]!==l?(j=[is,l].filter(Boolean),e[12]=l,e[13]=j):j=e[13];let N=j.join(" "),E;e[14]!==s||e[15]!==u||e[16]!==$||e[17]!==p?(E=$&&qi(p4,{alt:s,className:`${is}__thumbnail`,filename:u,fileSrc:p,size:"small"}),e[14]=s,e[15]=u,e[16]=$,e[17]=p,e[18]=E):E=e[18];let O;e[19]!==u||e[20]!==h?(O=h?qi("a",{href:h,target:"_blank",children:u}):u,e[19]=u,e[20]=h,e[21]=O):O=e[21];let M;return e[22]!==D||e[23]!==n||e[24]!==r||e[25]!==k||e[26]!==f||e[27]!==F||e[28]!==T||e[29]!==O||e[30]!==N||e[31]!==E||e[32]!==v?(M=Sp("div",{className:N,children:[Sp("div",{className:`${is}__imageAndDetails`,children:[E,Sp("div",{className:`${is}__details`,children:[qi("p",{className:`${is}__filename`,children:O}),v?qi("p",{className:`${is}__meta`,children:k}):null]})]}),n!==!1||r!==!1?Sp("div",{className:`${is}__actions`,children:[n!==!1?qi(se,{buttonStyle:"icon-label",className:`${is}__edit`,icon:"edit",iconStyle:"none",onClick:T}):null,r!==!1?qi(se,{buttonStyle:"icon-label",className:`${is}__remove`,icon:"x",iconStyle:"none",onClick:()=>f()}):null,qi(D,{onSave:F})]}):null]}),e[22]=D,e[23]=n,e[24]=r,e[25]=k,e[26]=f,e[27]=F,e[28]=T,e[29]=O,e[30]=N,e[31]=E,e[32]=v,e[33]=M):M=e[33],M}import{jsx as iG}from"react/jsx-runtime";import"react";var UD="upload-field-card";function _p({children:t,className:e,size:o="medium"}){return iG("div",{className:[UD,e,`${UD}--size-${o}`].filter(Boolean).join(" "),children:t})}import{getBestFitFromSizes as cG,isImage as uG}from"payload/shared";var Vu="upload upload--has-many";function XD(t){let e=aG(27),{className:o,displayPreview:n,fileDocs:r,isSortable:s,onRemove:i,onReorder:l,readonly:a,reloadDoc:c,serverURL:u}=t,d;e[0]!==r||e[1]!==l?(d=(x,v)=>{if(x===v)return;let C=[...r],[y]=C.splice(x,1);C.splice(v,0,y),l(C)},e[0]=r,e[1]=l,e[2]=d):d=e[2];let f=d,m;e[3]!==r||e[4]!==i?(m=x=>{let v=[...r||[]];v.splice(x,1),i(v.length===0?[]:v)},e[3]=r,e[4]=i,e[5]=m):m=e[5];let h=m,p;e[6]!==o?(p=[Vu,o].filter(Boolean),e[6]=o,e[7]=p):p=e[7];let g=p.join(" "),b;if(e[8]!==n||e[9]!==r||e[10]!==s||e[11]!==f||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==g){let x;e[18]!==f?(x=C=>{let{moveFromIndex:y,moveToIndex:S}=C;return f(y,S)},e[18]=f,e[19]=x):x=e[19];let v;e[20]!==n||e[21]!==s||e[22]!==a||e[23]!==c||e[24]!==h||e[25]!==u?(v=(C,y)=>{let{relationTo:S,value:w}=C,_=String(w.id),D,R;if(w.url)try{D=new URL(w.url,u).toString()}catch{D=`${u}${w.url}`}if(w.thumbnailURL)try{R=new URL(w.thumbnailURL,u).toString()}catch{R=`${u}${w.thumbnailURL}`}return uG(w.mimeType)&&(R=cG({sizes:w.sizes,thumbnailURL:R,url:D,width:w.width})),Qi(bn,{disabled:!s||a,id:_,children:T=>Qi("div",{className:[`${Vu}__dragItem`,T&&s&&`${Vu}--has-drag-handle`].filter(Boolean).join(" "),ref:T.setNodeRef,style:{transform:T.transform,transition:T.transition,zIndex:T.isDragging?1:void 0},children:lG(_p,{size:"small",children:[T&&Qi("div",{className:`${Vu}__drag`,...T.attributes,...T.listeners,children:Qi(Jr,{})}),Qi(Ip,{allowEdit:!a,allowRemove:!a,alt:w?.alt||w?.filename,byteSize:w.filesize,collectionSlug:S,displayPreview:n,filename:w.filename,id:_,mimeType:w?.mimeType,onRemove:()=>h(y),reloadDoc:c,src:D,thumbnailSrc:R,withMeta:!1,x:w?.width,y:w?.height})]})})},_)},e[20]=n,e[21]=s,e[22]=a,e[23]=c,e[24]=h,e[25]=u,e[26]=v):v=e[26],b=Qi("div",{className:g,children:Qi(Fr,{className:`${Vu}__draggable-rows`,ids:r?.map(dG),onDragEnd:x,children:r.map(v)})}),e[8]=n,e[9]=r,e[10]=s,e[11]=f,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=g,e[17]=b}else b=e[17];return b}function dG(t){let{value:e}=t;return String(e.id)}import{jsx as ZD}from"react/jsx-runtime";import{getBestFitFromSizes as mG,isImage as fG}from"payload/shared";import"react";var pG="upload upload--has-one";function YD(t){let{className:e,displayPreview:o,fileDoc:n,onRemove:r,readonly:s,reloadDoc:i,serverURL:l}=t,{relationTo:a,value:c}=n,u=String(c?.id),d,f;if(c.url)try{d=new URL(c.url,l).toString()}catch{d=`${l}${c.url}`}if(c.thumbnailURL)try{f=new URL(c.thumbnailURL,l).toString()}catch{f=`${l}${c.thumbnailURL}`}return fG(c.mimeType)&&(f=mG({sizes:c.sizes,thumbnailURL:f,url:d,width:c.width})),ZD(_p,{className:[pG,e].filter(Boolean).join(" "),children:ZD(Ip,{allowEdit:!s,allowRemove:!s,alt:c?.alt||c?.filename,byteSize:c.filesize,collectionSlug:a,displayPreview:o,filename:c.filename,id:u,mimeType:c?.mimeType,onRemove:r,reloadDoc:i,src:d,thumbnailSrc:f,x:c?.width,y:c?.height})})}var In="upload";function Dp(t){let{AfterInput:e,allowCreate:o,api:n,BeforeInput:r,className:s,Description:i,description:l,displayPreview:a,Error:c,filterOptions:u,hasMany:d,isSortable:f,Label:m,label:h,localized:p,maxRows:g,onChange:b,path:x,readOnly:v,relationTo:C,required:y,serverURL:S,showError:w,style:_,value:D}=t,[R,T]=mn.useState(),[I,F]=mn.useState(Array.isArray(C)?C[0]:C),{openModal:P}=ce(),{drawerSlug:A,setCollectionSlug:k,setInitialFiles:$,setMaxFiles:j,setOnSuccess:N}=Go(),{permissions:E}=_e(),{code:O}=we(),{i18n:M,t:B}=L(),V=QD(()=>({...u,[I]:{...u?.[I]||{},id:{...u?.[I]?.id||{},not_in:(u?.[I]?.id?.not_in||[]).concat(...Array.isArray(D)||D?[D]:[])}}}),[D,I,u]),[G,,{closeDrawer:z,openDrawer:U}]=Gi({collectionSlugs:typeof C=="string"?[C]:C,filterOptions:V}),[oe,,{closeDrawer:X,openDrawer:Y}]=vt({collectionSlug:I}),re=mn.useRef(!1),W=QD(()=>o?!!(typeof I=="string"&&E?.collections&&E.collections?.[I]?.create):!1,[I,E,o]),ee=mn.useCallback(Z=>{typeof b=="function"&&b(Z)},[b]),ie=mn.useCallback(async(Z,le)=>{if(!Z.length)return;let K={depth:0,draft:!0,limit:Z.length,locale:O,where:{and:[{id:{in:Z}}]}},he=await fetch(`${S}${n}/${le}`,{body:KD.stringify(K),credentials:"include",headers:{"Accept-Language":M.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(he.ok){let Le=await he.json(),He=Z.map(Ze=>Le.docs.find(Ye=>String(Ye.id)===String(Ze)));return He.includes(void 0)&&d&&(He=He.map((Ze,Ye)=>Ze||{id:Z[Ye],filename:`${B("general:untitled")} - ID: ${Z[Ye]}`,isPlaceholder:!0})),{...Le,docs:He}}return null},[O,S,n,M.language,B,d]),de=JD(Z=>{if(d){let le=[...Array.isArray(D)?D:[],...Z.map(K=>K.id)];ee(le),T(K=>[...K||[],...Z.map(he=>({relationTo:I,value:he}))])}else{let le=Z[0];ee(le.id),T([{relationTo:I,value:le}])}},[D,ee,I,d]),xe=mn.useCallback(Z=>{let le=Z;if(!d&&Z&&Z.length>1){let K=new DataTransfer;K.items.add(Z[0]),le=K.files}le&&$(le),k(C),typeof g=="number"&&j(g),P(A)},[A,d,P,C,k,$,g,j]),Q=mn.useCallback(async Z=>{let le=[];for(let[he,Le]of Z)Le&&le.push(he);let K=await ie(le,I);K&&T(he=>[...he||[],...K.docs.map(Le=>({relationTo:I,value:Le}))]),ee([...Array.isArray(D)?D:[],...le]),z()},[I,z,ee,ie,D]),ae=mn.useCallback(Z=>{Z.doc&&(T(le=>[...le||[],{relationTo:I,value:Z.doc}]),ee(Z.doc.id)),X()},[X,I,ee]),be=JD(async({collectionSlug:Z,doc:le})=>{let K=await ie([le.id],Z),he=K?K.docs?.[0]:null;T(Le=>he?d?[...Le||[],{relationTo:I,value:he}]:[{relationTo:I,value:he}]:Le),ee(d?[...Array.isArray(D)?D:[],le.id]:le.id),z()},[z,d,ie,ee,D,I]),ye=mn.useCallback(async(Z,le)=>{let{docs:K}=await ie([Z],le);if(K[0]){let he=[];T(Le=>{let He=Le?.findIndex(Ze=>(Ze.value?.id===K[0].id||Ze.value?.isPlaceholder)&&Ze.relationTo===le);if(He>-1){let Ze=[...Le];return Ze[He]={relationTo:le,value:K[0]},he=Ze,Ze}}),he.length&&d&&ee(he.map(Le=>Le.value?.id))}},[ie,ee,d]),J=mn.useCallback(Z=>{let le=Z.map(({value:K})=>K.id);ee(le),T(Z)},[ee]),pe=mn.useCallback(Z=>{let le=Z?Z.map(({value:K})=>K.id):null;ee(d?le:le?le[0]:null),T(Z||[])},[ee,d]);qD(()=>{async function Z(){if(D){re.current=!0;let le=await ie(Array.isArray(D)?D:[D],I);le&&T(le.docs.map(K=>({relationTo:I,value:K})))}}re.current||Z()},[ie,I,D]),qD(()=>{N(de)},[D,x,de,N]);let te=!D||d&&Array.isArray(D)&&(typeof g!="number"||D.length<g)||!d&&R?.[0]&&typeof R[0].value>"u";return Ki("div",{className:[De,In,s,w&&"error",v&&"read-only"].filter(Boolean).join(" "),id:`field-${x?.replace(/\./g,"__")}`,style:_,children:[Ht(me,{CustomComponent:m,Fallback:Ht(Se,{label:h,localized:p,path:x,required:y})}),Ht("div",{className:`${In}__wrap`,children:Ht(me,{CustomComponent:c,Fallback:Ht(ze,{path:x,showError:w})})}),r,Ki("div",{className:`${In}__dropzoneAndUpload`,children:[d&&Array.isArray(D)&&D.length>0?Ht(Gu,{children:R&&R?.length>0?Ht(XD,{displayPreview:a,fileDocs:R,isSortable:f&&!v,onRemove:pe,onReorder:J,readonly:v,reloadDoc:ye,serverURL:S}):Ht("div",{className:`${In}__loadingRows`,children:D.map(Z=>Ht(yt,{height:"40px"},Z))})}):null,!d&&D?Ht(Gu,{children:R&&R?.length>0&&R[0].value?Ht(YD,{displayPreview:a,fileDoc:R[0],onRemove:pe,readonly:v,reloadDoc:ye,serverURL:S}):R&&D&&!R?.[0]?.value?Ki(Gu,{children:[B("general:untitled")," - ID: ",D]}):Ht(yt,{height:"62px"})}):null,te?Ht(Xi,{disabled:v||!W,multipleFiles:d,onChange:xe,children:Ki("div",{className:`${In}__dropzoneContent`,children:[Ki("div",{className:`${In}__dropzoneContent__buttons`,children:[W&&Ki(Gu,{children:[Ht(se,{buttonStyle:"pill",className:`${In}__createNewToggler`,disabled:v||!W,onClick:()=>{v||(d?xe():Y())},size:"small",children:B("general:createNew")}),Ht("span",{className:`${In}__dropzoneContent__orText`,children:B("general:or")})]}),Ht(se,{buttonStyle:"pill",className:`${In}__listToggler`,disabled:v,onClick:U,size:"small",children:B("fields:chooseFromExisting")}),Ht(oe,{onSave:ae}),Ht(G,{allowCreate:W,enableRowSelections:d,onBulkSelect:Q,onSelect:be})]}),W&&!v&&Ki("p",{className:`${In}__dragAndDropText`,children:[B("general:or")," ",B("upload:dragAndDrop")]})]})}):Ht(Gu,{children:!v&&!R&&(!D||typeof g!="number"||Array.isArray(D)&&D.length<g)?Ht(yt,{height:"40px"}):null})]}),e,Ht(me,{CustomComponent:i,Fallback:Ht(Ge,{description:l,path:x})})]})}function bG(t){let{field:e,field:{admin:{allowCreate:o,className:n,description:r,isSortable:s}={},hasMany:i,label:l,localized:a,maxRows:c,relationTo:u,required:d},path:f,readOnly:m,validate:h}=t,{config:p}=H(),g=e.displayPreview,b=hG.useCallback((P,A)=>{if(typeof h=="function")return h(P,{...A,required:d})},[h,d]),{customComponents:{AfterInput:x,BeforeInput:v,Description:C,Error:y,Label:S}={},disabled:w,filterOptions:_,path:D,setValue:R,showError:T,value:I}=Ne({potentiallyStalePath:f,validate:b}),F=gG(()=>rt(e),[e]);return e6(Tv,{drawerSlugPrefix:f,children:e6(Dp,{AfterInput:x,allowCreate:o!==!1,api:p.routes.api,BeforeInput:v,className:n,Description:C,description:r,displayPreview:g,Error:y,filterOptions:_,hasMany:i,isSortable:s,label:l,Label:S,localized:a,maxRows:c,onChange:R,path:D,readOnly:m||w,relationTo:u,required:d,serverURL:p.serverURL,showError:T,style:F,value:I})})}var zu=Me(bG);function fl(t){let e=vG(13),{clientFieldConfig:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c,schemaPath:u}=t,d;e[0]!==l?(d=h=>{let[p]=h;return p&&p?.[l]?.customComponents?.Field},e[0]=l,e[1]=d):d=e[1];let f=Tt(d);if(f!==void 0)return f||null;let m;if(e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==c||e[10]!==u){m=Symbol.for("react.early_return_sentinel");e:{let h={forceRender:n,permissions:a,readOnly:c,schemaPath:u},p={...h,indexPath:r,parentPath:s,parentSchemaPath:i};if(o.admin?.hidden){m=Bt(Yc,{...h,path:l});break e}switch(o.type){case"array":{m=Bt(Wu,{...p,field:o,path:l});break e}case"blocks":{m=Bt(Fc,{...p,field:o,path:l});break e}case"checkbox":{m=Bt(Pr,{...h,field:o,path:l});break e}case"code":{m=Bt(Rc,{...h,field:o,path:l});break e}case"collapsible":{m=Bt(Ac,{...p,field:o,path:l});break e}case"date":{m=Bt(Xc,{...h,field:o,path:l});break e}case"email":{m=Bt($i,{...h,field:o,path:l});break e}case"group":{m=Bt(Zc,{...p,field:o,path:l});break e}case"join":{m=Bt(ru,{...h,field:o,path:l});break e}case"json":{m=Bt(nu,{...h,field:o,path:l});break e}case"number":{m=Bt(su,{...h,field:o,path:l});break e}case"point":{m=Bt(iu,{...h,field:o,path:l});break e}case"radio":{m=Bt(cu,{...h,field:o,path:l});break e}case"relationship":{m=Bt(pu,{...h,field:o,path:l});break e}case"richText":{m=Bt(hu,{...h,field:o,path:l});break e}case"row":{m=Bt(gu,{...p,field:o});break e}case"select":{m=Bt(bu,{...h,field:o,path:l});break e}case"tabs":{m=Bt(yu,{...p,field:o,path:l});break e}case"text":{m=Bt(Ui,{...h,field:o,path:l});break e}case"textarea":{m=Bt(wu,{...h,field:o,path:l});break e}case"ui":{let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=Bt(Su,{}),e[12]=g):g=e[12],m=g;break e}case"upload":{m=Bt(zu,{...h,field:o,path:l});break e}}}e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=l,e[8]=a,e[9]=c,e[10]=u,e[11]=m}else m=e[11];if(m!==Symbol.for("react.early_return_sentinel"))return m}var Pv="render-fields",_o=t=>{let e=xG(22),{className:o,fields:n,forceRender:r,margins:s,parentIndexPath:i,parentPath:l,parentSchemaPath:a,permissions:c,readOnly:u}=t,d=ur();if(n&&n.length>0){let f=s&&`${Pv}--margins-${s}`,m=s===!1&&`${Pv}--margins-none`,h;e[0]!==o||e[1]!==f||e[2]!==m?(h=[Pv,o,f,m].filter(Boolean),e[0]=o,e[1]=f,e[2]=m,e[3]=h):h=e[3];let p=h.join(" "),g;if(e[4]!==n||e[5]!==r||e[6]!==d||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==p){let b;e[14]!==r||e[15]!==d||e[16]!==i||e[17]!==l||e[18]!==a||e[19]!==c||e[20]!==u?(b=(x,v)=>{if(!x||CG(x))return null;let{operation:C,permissions:y,read:S}=wG({field:x,operation:d,parentName:l?.includes(".")?l.split(".")[l.split(".").length-1]:l,permissions:c});if("name"in x&&!S)return null;let w=u||x?.admin?.readOnly;w&&x.admin?.readOnly===!1&&(w=!1),"name"in x&&!C&&(w=!0);let{indexPath:_,path:D,schemaPath:R}=yG({field:x,index:v,parentIndexPath:i,parentPath:l,parentSchemaPath:a});return Rv(vc,{value:D,children:Rv(fl,{clientFieldConfig:x,forceRender:r,indexPath:_,parentPath:l,parentSchemaPath:a,path:D,permissions:y,readOnly:w,schemaPath:R})},`${D}-${v}`)},e[14]=r,e[15]=d,e[16]=i,e[17]=l,e[18]=a,e[19]=c,e[20]=u,e[21]=b):b=e[21],g=Rv(e2,{className:p,forceRender:r,children:n.map(b)}),e[4]=n,e[5]=r,e[6]=d,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=p,e[13]=g}else g=e[13];return g}return null};var Hu="array-field",t6=t=>{let e=SG(42),{addRow:o,attributes:n,CustomRowLabel:r,duplicateRow:s,errorCount:i,fields:l,forceRender:a,hasMaxRows:c,isDragging:u,isLoading:d,isSortable:f,labels:m,listeners:h,moveRow:p,parentPath:g,path:b,permissions:x,readOnly:v,removeRow:C,row:y,rowCount:S,rowIndex:w,schemaPath:_,setCollapse:D,setNodeRef:R,transform:T,transition:I}=t,F=a===void 0?!1:a,P=$m(d,500),{i18n:A}=L(),k=oo(),$=`${_G(m.singular,A)} ${String(w+1).padStart(2,"0")}`,j=i>0&&k,N=j?`${Hu}__row--has-errors`:`${Hu}__row--no-errors`,E;e[0]!==N?(E=[`${Hu}__row`,N].filter(Boolean),e[0]=N,e[1]=E):E=e[1];let O=E.join(" "),M=`${g.split(".").join("-")}-row-${w}`,B=u?1:void 0,V;if(e[2]!==r||e[3]!==o||e[4]!==n||e[5]!==O||e[6]!==s||e[7]!==i||e[8]!==$||e[9]!==j||e[10]!==l||e[11]!==F||e[12]!==c||e[13]!==A||e[14]!==P||e[15]!==f||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==x||e[21]!==v||e[22]!==C||e[23]!==y.collapsed||e[24]!==y.id||e[25]!==S||e[26]!==w||e[27]!==_||e[28]!==D||e[29]!==R||e[30]!==M||e[31]!==B||e[32]!==T||e[33]!==I){let G;e[35]!==i||e[36]!==j||e[37]!==A?(G=j&&qs(ho,{count:i,i18n:A,withMessage:!0}),e[35]=i,e[36]=j,e[37]=A,e[38]=G):G=e[38];let z;e[39]!==y.id||e[40]!==D?(z=U=>D(y.id,U),e[39]=y.id,e[40]=D,e[41]=z):z=e[41],V=qs("div",{id:M,ref:R,style:{transform:T,transition:I,zIndex:B},children:qs(Ii,{actions:v?void 0:qs(Nm,{addRow:o,duplicateRow:s,hasMaxRows:c,index:w,isSortable:f,moveRow:p,removeRow:C,rowCount:S}),className:O,collapsibleStyle:j?"error":"default",dragHandleProps:f?{id:y.id,attributes:n,listeners:h}:void 0,header:IG("div",{className:`${Hu}__row-header`,children:[P?qs(yt,{height:"1rem",width:"8rem"}):qs(Ln,{CustomComponent:r,label:$,path:b,rowNumber:w}),G]}),isCollapsed:y.collapsed,onToggle:z,children:P?qs(yt,{}):qs(_o,{className:`${Hu}__fields`,fields:l,forceRender:F,margins:"small",parentIndexPath:"",parentPath:b,parentSchemaPath:_,permissions:x===!0?x:x?.fields,readOnly:v})})},`${g}-row-${y.id}`),e[2]=r,e[3]=o,e[4]=n,e[5]=O,e[6]=s,e[7]=i,e[8]=$,e[9]=j,e[10]=l,e[11]=F,e[12]=c,e[13]=A,e[14]=P,e[15]=f,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=x,e[21]=v,e[22]=C,e[23]=y.collapsed,e[24]=y.id,e[25]=S,e[26]=w,e[27]=_,e[28]=D,e[29]=R,e[30]=M,e[31]=B,e[32]=T,e[33]=I,e[34]=V}else V=e[34];return V};var Vr="array-field",TG=t=>{let e=DG(52),{field:o,forceRender:n,path:r,permissions:s,readOnly:i,schemaPath:l,validate:a}=t,{name:c,admin:u,fields:d,label:f,localized:m,maxRows:h,minRows:p,required:g}=o,b;e[0]!==u?(b=u===void 0?{}:u,e[0]=u,e[1]=b):b=e[1];let{className:x,description:v,isSortable:C}=b,y=C===void 0?!0:C,S=n===void 0?!1:n,w=l??c,_=p??g?1:0,{setDocFieldPreferences:D}=Re(),{addFieldRow:R,dispatchFields:T,moveFieldRow:I,removeFieldRow:F,setModified:P}=ke(),A=oo(),{code:k}=we(),{i18n:$,t:j}=L(),{config:N}=H(),{localization:E}=N,O;e:{if(E&&E.fallback){let q=E.defaultLocale;O=k===q;break e}O=!0}let M=O,B;e[2]!==j?(B=q=>"labels"in q&&q?.labels?q.labels:"labels"in q.field&&q.field.labels?{plural:q.field.labels?.plural,singular:q.field.labels?.singular}:"label"in q.field&&q.field.label?{plural:void 0,singular:q.field.label}:{plural:j("general:rows"),singular:j("general:row")},e[2]=j,e[3]=B):B=e[3];let G=B(t),z;e[4]!==M||e[5]!==h||e[6]!==_||e[7]!==g||e[8]!==a?(z=(q,ne)=>{if(!M&&q===null)return!0;if(typeof a=="function")return a(q,{...ne,maxRows:h,minRows:_,required:g})},e[4]=M,e[5]=h,e[6]=_,e[7]=g,e[8]=a,e[9]=z):z=e[9];let U=z,oe;e[10]!==U||e[11]!==r?(oe={hasRows:!0,potentiallyStalePath:r,validate:U},e[10]=U,e[11]=r,e[12]=oe):oe=e[12];let{customComponents:X,disabled:Y,errorPaths:re,path:W,rows:ee,showError:ie,valid:de,value:xe}=Ne(oe),Q;e[13]!==X?(Q=X===void 0?{}:X,e[13]=X,e[14]=Q):Q=e[14];let{AfterInput:ae,BeforeInput:be,Description:ye,Error:J,Label:pe}=Q,te;e[15]!==ee?(te=ee===void 0?[]:ee,e[15]=ee,e[16]=te):te=e[16];let Z=te,le;e[17]!==R||e[18]!==W||e[19]!==w?(le=q=>{R({path:W,rowIndex:q,schemaPath:w}),setTimeout(()=>{Aa(`${W}-row-${q}`)},0)},e[17]=R,e[18]=W,e[19]=w,e[20]=le):le=e[20];let K=le,he;e[21]!==T||e[22]!==W||e[23]!==P?(he=q=>{T({type:"DUPLICATE_ROW",path:W,rowIndex:q}),P(!0),setTimeout(()=>{Aa(`${W}-row-${q}`)},0)},e[21]=T,e[22]=W,e[23]=P,e[24]=he):he=e[24];let Le=he,He;e[25]!==W||e[26]!==F?(He=q=>{F({path:W,rowIndex:q})},e[25]=W,e[26]=F,e[27]=He):He=e[27];let Ze=He,Ye;e[28]!==I||e[29]!==W?(Ye=(q,ne)=>{I({moveFromIndex:q,moveToIndex:ne,path:W})},e[28]=I,e[29]=W,e[30]=Ye):Ye=e[30];let At=Ye,lt;e[31]!==T||e[32]!==W||e[33]!==Z||e[34]!==D?(lt=q=>{let{collapsedIDs:ne,updatedRows:ge}=Dm({collapsed:q,rows:Z});D(W,{collapsed:ne}),T({type:"SET_ALL_ROWS_COLLAPSED",path:W,updatedRows:ge})},e[31]=T,e[32]=W,e[33]=Z,e[34]=D,e[35]=lt):lt=e[35];let it=lt,Et;e[36]!==T||e[37]!==W||e[38]!==Z||e[39]!==D?(Et=(q,ne)=>{let{collapsedIDs:ge,updatedRows:Fe}=_m({collapsed:ne,rowID:q,rows:Z});T({type:"SET_ROW_COLLAPSED",path:W,updatedRows:Fe}),D(W,{collapsed:ge})},e[36]=T,e[37]=W,e[38]=Z,e[39]=D,e[40]=Et):Et=e[40];let Ut=Et,We=h&&Z.length>=h,Be=re.length,Ke=A&&re.length>0,Ct=(i||Y)&&Z.length===0,po=Z.length&&Z.length<_||g&&Z.length===0,Ft=Ke?`${Vr}--has-error`:`${Vr}--has-no-error`,et;e[41]!==x||e[42]!==Ft?(et=[De,Vr,x,Ft].filter(Boolean),e[41]=x,e[42]=Ft,e[43]=et):et=e[43];let ve;e[44]!==J||e[45]!==W||e[46]!==ie?(ve=ie&&Co(me,{CustomComponent:J,Fallback:Co(ze,{path:W,showError:ie})}),e[44]=J,e[45]=W,e[46]=ie,e[47]=ve):ve=e[47];let fe;return e[48]!==Be||e[49]!==Ke||e[50]!==$?(fe=Ke&&Be>0&&Co(ho,{count:Be,i18n:$,withMessage:!0}),e[48]=Be,e[49]=Ke,e[50]=$,e[51]=fe):fe=e[51],ea("div",{className:et.join(" "),id:`field-${W.replace(/\./g,"__")}`,children:[ve,ea("header",{className:`${Vr}__header`,children:[ea("div",{className:`${Vr}__header-wrap`,children:[ea("div",{className:`${Vr}__header-content`,children:[Co("h3",{className:`${Vr}__title`,children:Co(me,{CustomComponent:pe,Fallback:Co(Se,{as:"span",label:f,localized:m,path:W,required:g})})}),fe]}),Z?.length>0&&ea("ul",{className:`${Vr}__header-actions`,children:[Co("li",{children:Co("button",{className:`${Vr}__header-action`,onClick:()=>it(!0),type:"button",children:j("fields:collapseAll")})}),Co("li",{children:Co("button",{className:`${Vr}__header-action`,onClick:()=>it(!1),type:"button",children:j("fields:showAll")})})]})]}),Co(me,{CustomComponent:ye,Fallback:Co(Ge,{description:v,path:W})})]}),Co(wc,{fieldValue:xe,localized:m,path:W}),be,(Z?.length>0||!de&&(Ct||po))&&ea(Fr,{className:`${Vr}__draggable-rows`,ids:Z.map(RG),onDragEnd:q=>{let{moveFromIndex:ne,moveToIndex:ge}=q;return At(ne,ge)},children:[Z.map((q,ne)=>{let{id:ge,isLoading:Fe}=q,je=`${W}.${ne}`,Oe=re?.filter(Ee=>Ee.startsWith(je+".")).length;return Co(bn,{disabled:i||Y||!y,id:ge,children:Ee=>Co(t6,{...Ee,addRow:K,CustomRowLabel:Z?.[ne]?.customComponents?.RowLabel,duplicateRow:Le,errorCount:Oe,fields:d,forceRender:S,hasMaxRows:We,isLoading:Fe,isSortable:y,labels:G,moveRow:At,parentPath:W,path:je,permissions:s,readOnly:i||Y,removeRow:Ze,row:q,rowCount:Z?.length,rowIndex:ne,schemaPath:w,setCollapse:Ut})},ge)}),!de&&ea(FG.Fragment,{children:[Ct&&Co(Hr,{children:j("validation:fieldHasNo",{label:Av(G.plural,$)})}),po&&Co(Hr,{type:"error",children:j("validation:requiresAtLeast",{count:_,label:Av(_>1?G.plural:G.singular,$)||j(_>1?"general:rows":"general:row")})})]})]}),!We&&!i&&Co(se,{buttonStyle:"icon-label",className:`${Vr}__add-row`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{K(xe||0)},children:j("fields:addLabel",{label:Av(G.singular,$)})}),ae]})},Wu=Me(TG);function RG(t){return t.id}import{c as PG}from"react/compiler-runtime";import{jsx as Ev,jsxs as o6}from"react/jsx-runtime";import{confirmPassword as AG}from"payload/shared";import"react";var Uu=t=>{let e=PG(12),{disabled:o,path:n}=t,r=n===void 0?"confirm-password":n,{t:s}=L(),i;e[0]!==r?(i={path:r,validate:EG},e[0]=r,e[1]=i):i=e[1];let{disabled:l,setValue:a,showError:c,value:u}=Ne(i),d=c&&"error",f;e[2]!==d?(f=[De,"confirm-password",d].filter(Boolean),e[2]=d,e[3]=f):f=e[3];let m=f.join(" "),h;return e[4]!==l||e[5]!==o||e[6]!==r||e[7]!==a||e[8]!==s||e[9]!==m||e[10]!==u?(h=o6("div",{className:m,children:[Ev(Se,{htmlFor:"field-confirm-password",label:s("authentication:confirmPassword"),required:!0}),o6("div",{className:`${De}__wrap`,children:[Ev(ze,{path:r}),Ev("input",{"aria-label":s("authentication:confirmPassword"),autoComplete:"off",disabled:!!(l||o),id:"field-confirm-password",name:"confirm-password",onChange:a,type:"password",value:u||""})]})]}),e[4]=l,e[5]=o,e[6]=r,e[7]=a,e[8]=s,e[9]=m,e[10]=u,e[11]=h):h=e[11],h};function EG(t,e){return AG(t,{name:"confirm-password",type:"text",required:!0,...e})}import{jsx as LG}from"react/jsx-runtime";import{password as $G}from"payload/shared";import{useCallback as kG,useMemo as jG}from"react";import{c as NG}from"react/compiler-runtime";import{jsx as ta,jsxs as Nv}from"react/jsx-runtime";import{getTranslation as r6}from"@payloadcms/translations";import"react";var n6=t=>{let e=NG(28),{AfterInput:o,autoComplete:n,BeforeInput:r,className:s,description:i,Description:l,Error:a,inputRef:c,Label:u,label:d,localized:f,onChange:m,onKeyDown:h,path:p,placeholder:g,readOnly:b,required:x,rtl:v,showError:C,style:y,value:S,width:w}=t,_=n===void 0?"off":n,{i18n:D}=L(),R=C&&"error",T=b&&"read-only",I;e[0]!==s||e[1]!==R||e[2]!==T?(I=[De,"password",s,R,T].filter(Boolean),e[0]=s,e[1]=R,e[2]=T,e[3]=I):I=e[3];let F=I.join(" "),P;return e[4]!==o||e[5]!==r||e[6]!==l||e[7]!==a||e[8]!==u||e[9]!==_||e[10]!==i||e[11]!==D||e[12]!==c||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==x||e[21]!==v||e[22]!==C||e[23]!==y||e[24]!==F||e[25]!==S||e[26]!==w?(P=Nv("div",{className:F,style:{...y,width:w},children:[ta(me,{CustomComponent:u,Fallback:ta(Se,{label:d,localized:f,path:p,required:x})}),Nv("div",{className:`${De}__wrap`,children:[ta(me,{CustomComponent:a,Fallback:ta(ze,{path:p,showError:C})}),Nv("div",{children:[r,ta("input",{"aria-label":r6(d,D),autoComplete:_,"data-rtl":v,disabled:b,id:`field-${p.replace(/\./g,"__")}`,name:p,onChange:m,onKeyDown:h,placeholder:r6(g,D),ref:c,type:"password",value:S||""}),o]}),ta(me,{CustomComponent:l,Fallback:ta(Ge,{description:i,path:p})})]})]}),e[4]=o,e[5]=r,e[6]=l,e[7]=a,e[8]=u,e[9]=_,e[10]=i,e[11]=D,e[12]=c,e[13]=d,e[14]=f,e[15]=m,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=x,e[21]=v,e[22]=C,e[23]=y,e[24]=F,e[25]=S,e[26]=w,e[27]=P):P=e[27],P};var MG=t=>{let{autoComplete:e,field:o,field:{admin:{className:n,disabled:r,placeholder:s,rtl:i}={},label:l,localized:a,required:c}={},inputRef:u,path:d,validate:f}=t,{t:m}=L(),h=we(),{config:p}=H(),g=kG((I,F)=>{let P=d?d.split("."):[];return typeof f=="function"?f(I,{...F,required:c}):$G(I,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:P,preferences:{fields:{}},req:{payload:{config:p},t:m},required:!0,siblingData:{}})},[f,p,m,c,d]),{customComponents:{AfterInput:b,BeforeInput:x,Description:v,Error:C,Label:y}={},disabled:S,setValue:w,showError:_,value:D}=Ne({path:d,validate:g}),R=Pa({fieldLocalized:!1,fieldRTL:i,locale:h,localizationConfig:p.localization||void 0}),T=jG(()=>rt(o),[o]);return LG(n6,{AfterInput:b,autoComplete:e,BeforeInput:x,className:n,Description:v,Error:C,inputRef:u,Label:y,label:l,localized:a,onChange:I=>{w(I.target.value)},path:d,placeholder:s,readOnly:S||r,required:c,rtl:R,showError:_,style:T,value:D||""})},Xu=Me(MG);var s6={array:Wu,blocks:Fc,checkbox:Pr,code:Rc,collapsible:Ac,confirmPassword:Uu,date:Xc,email:$i,group:Zc,hidden:Yc,join:ru,json:nu,number:su,password:Xu,point:iu,radio:cu,relationship:pu,richText:hu,row:gu,select:bu,tabs:yu,text:Ui,textarea:wu,ui:Su,upload:zu},BG={...s6,Description:Ge,Error:ze,Label:Se,RowLabel:Ln};import{c as OG}from"react/compiler-runtime";import{setsAreEqual as VG}from"payload/shared";import{useEffect as GG}from"react";var as=new Map([]),zG={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},i6=t=>(zG[t.toLowerCase()]||t).trim().toLowerCase().replace("key",""),WG=t=>{let e=i6(t);e==="meta"&&as.forEach((o,n)=>n!=="meta"&&as.delete(n)),as.set(e,Date.now())},HG=t=>{let e=i6(t);e==="meta"&&as.clear(),as.delete(e)},oa=(t,e)=>{let o=OG(9),{cmdCtrlKey:n,editDepth:r,keyCodes:s}=t,{modalState:i}=ce(),l;o[0]!==n||o[1]!==r||o[2]!==e||o[3]!==s||o[4]!==i?(l=f=>{let m=f.detail?.key?f.detail:f;if(m.key===void 0)return;as.forEach(UG),m.code&&WG(m.code);let h=window.navigator.userAgent.includes("Mac OS X"),p=[...as.keys()].filter(XG);if(VG(new Set(p),new Set(s))&&(!n||h&&as.has("meta")||!h&&m.ctrlKey)){if((Object.keys(i).filter(b=>i[b]?.isOpen)?.length+1||1)!==r)return;e(m)}},o[0]=n,o[1]=r,o[2]=e,o[3]=s,o[4]=i,o[5]=l):l=o[5];let a=l,c=ZG,u,d;o[6]!==a?(u=()=>(document.addEventListener("keydown",a,!1),document.addEventListener("bypassKeyDown",a,!1),document.addEventListener("keyup",c,!1),()=>{document.removeEventListener("keydown",a),document.removeEventListener("bypassKeyDown",a),document.removeEventListener("keyup",c)}),d=[a,c],o[6]=a,o[7]=u,o[8]=d):(u=o[7],d=o[8]),GG(u,d)};function UG(t,e){Date.now()-t>3e3&&as.delete(e)}function XG(t){return!["alt","ctrl","meta","shift"].includes(t)}function ZG(t){t.code&&HG(t.code)}import{c as YG}from"react/compiler-runtime";import*as l6 from"qs-esm";import{useEffect as a6,useRef as JG,useState as Fp}from"react";var qG=(t,e)=>{let o=YG(32),n;o[0]!==e?(n=e===void 0?{}:e,o[0]=e,o[1]=n):n=o[1];let r=n,{initialData:s,initialParams:i}=r,l;o[2]!==i?(l=i===void 0?{}:i,o[2]=i,o[3]=l):l=o[3];let a=l,{i18n:c}=L(),u;o[4]!==s?(u=s||{},o[4]=s,o[5]=u):u=o[5];let[d,f]=Fp(u),[m,h]=Fp(a),[p,g]=Fp(!s),[b,x]=Fp(!1),{code:v}=we(),C=JG(!1),y;if(o[6]!==v||o[7]!==m){let P;o[9]!==m?(P=typeof m=="object"?m:{},o[9]=m,o[10]=P):P=o[10],y=l6.stringify({locale:v,...P},{addQueryPrefix:!0}),o[6]=v,o[7]=m,o[8]=y}else y=o[8];let S=y,w;o[11]!==c.language||o[12]!==s||o[13]!==S||o[14]!==t?(w=()=>{if(s&&!C.current){C.current=!0;return}let P=new AbortController;return t?(async()=>{x(!1),g(!0);try{let k=await Je.get(`${t}${S}`,{headers:{"Accept-Language":c.language},signal:P.signal});k.status>201&&x(!0);let $=await k.json();f($),g(!1)}catch{P.signal.aborted||(x(!0),g(!1))}})():(x(!1),g(!1)),()=>{try{P.abort()}catch(k){let $=k}}},o[11]=c.language,o[12]=s,o[13]=S,o[14]=t,o[15]=w):w=o[15];let _;o[16]!==c.language||o[17]!==s||o[18]!==v||o[19]!==S||o[20]!==t?(_=[t,v,S,c.language,s],o[16]=c.language,o[17]=s,o[18]=v,o[19]=S,o[20]=t,o[21]=_):_=o[21],a6(w,_);let D,R;o[22]!==s?(D=()=>{s&&C.current&&f(s)},R=[s],o[22]=s,o[23]=D,o[24]=R):(D=o[23],R=o[24]),a6(D,R);let T;o[25]!==d||o[26]!==b||o[27]!==p?(T={data:d,isError:b,isLoading:p},o[25]=d,o[26]=b,o[27]=p,o[28]=T):T=o[28];let I;o[29]===Symbol.for("react.memo_cache_sentinel")?(I={setParams:h},o[29]=I):I=o[29];let F;return o[30]!==T?(F=[T,I],o[30]=T,o[31]=F):F=o[31],F};import{c as QG}from"react/compiler-runtime";import{useEffect as KG,useState as ez}from"react";var Tp=t=>{let e=QG(5),[o,n]=ez(),r,s;e[0]!==t?(r=()=>{let l;return t&&(l=new ResizeObserver(a=>{a.forEach(c=>{let{contentBoxSize:u,contentRect:d}=c,f=0,m=0;if(u){let h=Array.isArray(u)?u[0]:u;if(h){let{blockSize:p,inlineSize:g}=h;f=g,m=p}}else if(d){let{height:h,width:p}=d;f=p,m=h}n({height:m,width:f})})}),l.observe(t)),()=>{l&&l.unobserve(t)}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),KG(r,s);let i;return e[3]!==o?(i={size:o},e[3]=o,e[4]=i):i=e[4],i};import{c as tz}from"react/compiler-runtime";import{flattenTopLevelFields as oz}from"payload/shared";var Lv=t=>{let e=tz(4),{admin:o,fields:n}=t,{useAsTitle:r}=o,{i18n:s}=L(),i;return e[0]!==n||e[1]!==s||e[2]!==r?(i=oz(n,{i18n:s,moveSubFieldsToTop:!0})?.find(a=>"name"in a&&a.name===r),e[0]=n,e[1]=s,e[2]=r,e[3]=i):i=e[3],i};import{c as c6}from"react/compiler-runtime";import{jsx as wl}from"react/jsx-runtime";import{useEffect as rz,useRef as nz}from"react";import{jsx as Rp}from"react/jsx-runtime";import"react";var Zu=({className:t})=>Rp("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Rp("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),Yu=({className:t})=>Rp("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Rp("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})});var ls="sort-header";function sz(){let t=c6(12),{handleSortChange:e,orderableFieldName:o,query:n}=Lt(),r=Array.isArray(n.sort)?n.sort[0]:n.sort,s=nz(r===`-${o}`?"desc":"asc"),i=r===`-${o}`||r===o,l,a;t[0]!==i||t[1]!==o||t[2]!==r?(l=()=>{i&&(s.current=r===`-${o}`?"desc":"asc")},a=[o,r,i],t[0]=i,t[1]=o,t[2]=r,t[3]=l,t[4]=a):(l=t[3],a=t[4]),rz(l,a);let c;t[5]!==e||t[6]!==i||t[7]!==o?(c=()=>{if(i){e(s.current==="asc"?`-${o}`:o),s.current=s.current==="asc"?"desc":"asc";return}e(s.current==="asc"?o:`-${o}`)},t[5]=e,t[6]=i,t[7]=o,t[8]=c):c=t[8];let u=c,d;return t[9]!==u||t[10]!==i?(d={handleSortPress:u,isActive:i,sort:s},t[9]=u,t[10]=i,t[11]=d):d=t[11],d}var iz=t=>{let e=c6(8),{appearance:o}=t,{handleSortPress:n,isActive:r,sort:s}=sz(),{t:i}=L(),l=o&&`${ls}--appearance-${o}`,a;e[0]!==l?(a=[ls,l].filter(Boolean),e[0]=l,e[1]=a):a=e[1];let c=a.join(" "),u;return e[2]!==n||e[3]!==r||e[4]!==s.current||e[5]!==i||e[6]!==c?(u=wl("div",{className:c,children:wl("div",{className:`${ls}__buttons`,children:s.current==="desc"?wl("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:ascending"),label:"Order"}),className:`${ls}__button ${ls}__${s.current} ${r?`${ls}--active`:""}`,onClick:n,type:"button",children:wl(Zu,{})}):wl("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:descending"),label:"Order"}),className:`${ls}__button ${ls}__${s.current} ${r?`${ls}--active`:""}`,onClick:n,type:"button",children:wl(Yu,{})})})}),e[2]=n,e[3]=r,e[4]=s.current,e[5]=i,e[6]=c,e[7]=u):u=e[7],u};import{c as az}from"react/compiler-runtime";import{jsx as u6}from"react/jsx-runtime";import"react";var d6="sort-row",lz=()=>{let t=az(2),{orderableFieldName:e,query:o}=Lt(),n=o.sort===e||o.sort===`-${e}`,r=`${d6} ${n?"active":""}`,s;return t[0]!==r?(s=u6("div",{className:r,role:"button",tabIndex:0,children:u6(Jr,{className:`${d6}__icon`})}),t[0]=r,t[1]=s):s=t[1],s};import{jsx as fn,jsxs as f6}from"react/jsx-runtime";import{DragOverlay as cz}from"@dnd-kit/core";import{useEffect as uz,useState as jv}from"react";import{jsx as Pp}from"react/jsx-runtime";var $v=({cellMap:t,columns:e,dragAttributes:o={},dragListeners:n={},rowId:r,...s})=>Pp("tr",{...s,children:e.map((i,l)=>{let{accessor:a}=i,c=i.renderedCells[t[r]];return a==="_dragHandle"?Pp("td",{className:`cell-${a}`,children:Pp("div",{...o,...n,children:c})},l):Pp("td",{className:`cell-${a}`,children:c},l)})});import{jsx as kv}from"react/jsx-runtime";var m6=({children:t,className:e,rowId:o})=>typeof o>"u"?null:kv("div",{className:e,children:kv("table",{cellPadding:0,cellSpacing:0,children:kv("tbody",{children:t})})});var Ap="table",dz=({appearance:t="default",collection:e,columns:o,data:n})=>{let{config:r}=H(),{data:s,orderableFieldName:i,query:l}=Lt(),a=s?.docs||n,[c,u]=jv(a),[d,f]=jv({}),[m,h]=jv();uz(()=>{u(a),f(Object.fromEntries(a.map((v,C)=>[String(v.id??v._id),C])))},[a]);let p=o?.filter(v=>v?.active);if(!p||p.filter(v=>!["_dragHandle","_select"].includes(v.accessor)).length===0)return fn("div",{children:"No columns selected"});let g=async({moveFromIndex:v,moveToIndex:C})=>{if(l.sort!==i&&l.sort!==`-${i}`){ue.warning('To reorder the rows you must first sort them by the "Order" column'),h(void 0);return}if(v===C){h(void 0);return}let y=c[v].id??c[v]._id,S=C>v?c[C]:c[C-1],w=C>v?c[C+1]:c[C],_=[...c];u(D=>{let R=[...D];return R[v][i]="pending",R.splice(C,0,R.splice(v,1)[0]),R});try{let D=S?{id:S.id??S._id,key:S[i]}:{id:w.id??w._id,key:w[i]},R=S&&l.sort===i||!S&&l.sort===`-${i}`?"greater":"less",T={collectionSlug:e.slug,docsToMove:[y],newKeyWillBe:R,orderableFieldName:i,target:D},I=await fetch(`${r.routes.api}/reorder`,{body:JSON.stringify(T),headers:{"Content-Type":"application/json"},method:"POST"});if(I.status===403)throw new Error("You do not have permission to reorder these rows");if(!I.ok)throw new Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(I.status===200&&(await I.json()).message==="initial migration")throw new Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(D){let R=D instanceof Error?D.message:String(D);u(_),ue.error(R)}finally{h(void 0)}},b=({id:v})=>{h(v)},x=c.map(v=>v.id??v._id);return fn("div",{className:[Ap,t&&`${Ap}--appearance-${t}`].filter(Boolean).join(" "),children:f6(Fr,{ids:x,onDragEnd:g,onDragStart:b,children:[f6("table",{cellPadding:"0",cellSpacing:"0",children:[fn("thead",{children:fn("tr",{children:p.map((v,C)=>fn("th",{id:`heading-${v.accessor}`,children:v.Heading},C))})}),fn("tbody",{children:c.map((v,C)=>fn(bn,{id:x[C],children:({attributes:y,isDragging:S,listeners:w,setNodeRef:_,transform:D,transition:R})=>fn($v,{cellMap:d,className:`row-${C+1}`,columns:p,dragAttributes:y,dragListeners:w,ref:_,rowId:v.id??v._id,style:{opacity:S?0:1,transform:D,transition:R}})},x[C]))})]}),fn(cz,{children:fn(m6,{className:[Ap,`${Ap}--drag-preview`].join(" "),rowId:m,children:fn($v,{cellMap:d,columns:p,rowId:m})})})]})})};import{jsx as p6}from"react/jsx-runtime";import{toWords as mz,transformColumnsToSearchParams as fz}from"payload/shared";import"react";var pz="query-preset-columns-cell",hz=({cellData:t})=>p6("div",{className:pz,children:t?fz(t).map((e,o)=>{let n=!e.startsWith("-");return n?p6(mt,{pillStyle:n?"always-white":"light",size:"small",children:mz(e)},o):null}):"No columns selected"});import{jsx as gz}from"react/jsx-runtime";import{toWords as h6}from"payload/shared";import"react";var bz=t=>{if(t.or&&t.or.length>0&&t.or[0].and&&t.or[0].and.length>0){let o=t.or[0]?.and?.[0];if(!o)return"No where query";let n=Object.keys(o)[0];if(!o[n])return"No where query";let r=Object.keys(o[n])[0],s=o[n][r];return`${h6(n)} ${r} ${h6(s)}`}return""},vz=({cellData:t})=>gz("div",{children:t?bz(t):"No where query"});import{jsx as g6,jsxs as b6}from"react/jsx-runtime";import{toWords as v6}from"payload/shared";import{Fragment as xz}from"react";var Cz=({cellData:t})=>{let e=["read","update","delete"];return g6("p",{children:e.reduce((o,n,r)=>{let s=t?.[n];return s&&s.constraint&&o.push(b6(xz,{children:[b6("span",{children:[g6("strong",{children:v6(n)}),": ",v6(s.constraint)]}),r!==e.length-1&&", "]},n)),o},[])})};import{c as yz}from"react/compiler-runtime";import{jsx as Mv,jsxs as wz}from"react/jsx-runtime";import{toWords as Sz,transformColumnsToSearchParams as Iz}from"payload/shared";import"react";var _z=t=>{let e=yz(5),{field:o}=t,{label:n,required:r}=o,{path:s,value:i}=Ne(),l;return e[0]!==n||e[1]!==s||e[2]!==r||e[3]!==i?(l=wz("div",{className:"field-type query-preset-columns-field",children:[Mv(Se,{as:"h3",label:n,path:s,required:r}),Mv("div",{className:"value-wrapper",children:i?Iz(i).map(Dz):"No columns selected"})]}),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=l):l=e[4],l};function Dz(t,e){let o=!t.startsWith("-");return Mv(mt,{pillStyle:o?"always-white":"light-gray",size:"small",children:Sz(t)},e)}import{jsx as cs,jsxs as Ep}from"react/jsx-runtime";import{getTranslation as Fz}from"@payloadcms/translations";import{toWords as x6}from"payload/shared";import C6 from"react";var Tz=(t,e)=>{if(!t)return null;let o=r=>{let s=Object.keys(r)[0];if(!r[s])return"No where query";let i=Object.keys(r[s])[0],l=r[s][i];if(typeof l=="object")try{l=new Date(l).toLocaleDateString()}catch{l="Unknown error has occurred"}return Ep(mt,{pillStyle:"always-white",size:"small",children:[cs("b",{children:x6(s)})," ",i," ",cs("b",{children:x6(l)})]})};return((r,s)=>r.or&&r.or.length>0?cs("div",{className:"or-condition",children:r.or.map((i,l)=>cs(C6.Fragment,{children:i.and&&i.and.length>0?Ep("div",{className:"and-condition",children:[l===0&&cs("span",{className:"label",children:`Filter ${s} where `}),l>0&&cs("span",{className:"label",children:" or "}),i.and.map((a,c)=>Ep(C6.Fragment,{children:[o(a),c<i.and.length-1&&cs("span",{className:"label",children:" and "})]},c))]}):o(i)},l))}):o(r))(t,e)},Rz=t=>{let{field:e}=t,{label:o,required:n}=e,{path:r,value:s}=Ne(),{collectionSlug:i}=Lt(),{getEntityConfig:l}=H(),a=l({collectionSlug:i}),{i18n:c}=L();return Ep("div",{className:"field-type query-preset-where-field",children:[cs(Se,{as:"h3",label:o,path:r,required:n}),cs("div",{className:"value-wrapper",children:s?Tz(s,Fz(a?.labels?.plural,c)):"No where query"})]})};import{c as kz}from"react/compiler-runtime";import{jsx as jz}from"react/jsx-runtime";import Mz from"react";import{c as Pz}from"react/compiler-runtime";import{useRouter as Az}from"next/navigation.js";import{useEffect as Bv,useRef as Ez}from"react";function Nz(t,...e){t&&t.addEventListener&&t.addEventListener(...e)}function Lz(t,...e){t&&t.removeEventListener&&t.removeEventListener(...e)}var $z=(t,e)=>{let o=Pz(7),n=t===void 0?!0:t,r;o[0]!==n||o[1]!==e?(r=a=>{if(typeof n!="function"||n())return a.preventDefault(),e&&(a.returnValue=e),e},o[0]=n,o[1]=e,o[2]=r):r=o[2];let s=r,i,l;o[3]!==n||o[4]!==s?(i=()=>{if(n)return Nz(window,"beforeunload",s),()=>Lz(window,"beforeunload",s)},l=[n,s],o[3]=n,o[4]=s,o[5]=i,o[6]=l):(i=o[5],l=o[6]),Bv(i,l)},y6=({hasAccepted:t=!1,message:e="Are you sure want to leave this page?",onAccept:o,onPrevent:n,prevent:r=!0})=>{$z(r,e);let{startRouteTransition:s}=Ue(),i=Az(),l=Ez("");Bv(()=>{function a(d,f){try{let m=new URL(d),h=new URL(f);if(m.hostname===h.hostname&&m.pathname===h.pathname&&m.search===h.search){let p=m.hash,g=h.hash;return p!==g&&m.href.replace(p,"")===h.href.replace(g,"")}}catch(m){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",m)}return!1}function c(d){for(;d&&d.tagName.toLowerCase()!=="a";)d=d.parentElement;return d}function u(d){try{let f=d.target,m=c(f);if(m){let h=window.location.href,p=m.href,g=a(h,p),b=m.download!=="",x=m.target==="_blank"||d.metaKey||d.ctrlKey;!(p===h||g||b||x)&&r&&(n||!window.confirm(e))&&(l.current=p,d.preventDefault(),d.stopPropagation(),typeof n=="function"&&n())}}catch(f){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",f)}}return document.addEventListener("click",u,!0),()=>{document.removeEventListener("click",u,!0)}},[n,r,e]),Bv(()=>{t&&l.current&&(o&&o(),s(()=>i.push(l.current)))},[t,o,i,s])};var Np="leave-without-saving",Ju=()=>{let t=kz(15),{closeModal:e,openModal:o}=ce(),n=ro(),{isValid:r}=ke(),{user:s}=_e(),[i,l]=Mz.useState(!1),{t:a}=L(),c=!!((n||!r)&&s),u;t[0]!==o?(u=()=>{o(Np)},t[0]=o,t[1]=u):u=t[1];let d=u,f;t[2]!==e?(f=()=>{e(Np)},t[2]=e,t[3]=f):f=t[3];let m=f,h;t[4]!==m||t[5]!==i||t[6]!==d||t[7]!==c?(h={hasAccepted:i,onAccept:m,onPrevent:d,prevent:c},t[4]=m,t[5]=i,t[6]=d,t[7]=c,t[8]=h):h=t[8],y6(h);let p;t[9]!==e?(p=()=>{e(Np)},t[9]=e,t[10]=p):p=t[10];let g=p,b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{l(!0)},t[11]=b):b=t[11];let x=b,v;return t[12]!==g||t[13]!==a?(v=jz(gt,{body:a("general:changesNotSaved"),cancelLabel:a("general:stayOnThisPage"),confirmLabel:a("general:leaveAnyway"),heading:a("general:leaveWithoutSaving"),modalSlug:Np,onCancel:g,onConfirm:x}),t[12]=g,t[13]=a,t[14]=v):v=t[14],v};import{c as Bz}from"react/compiler-runtime";import{jsx as qu,jsxs as Ov}from"react/jsx-runtime";import{useEffect as Oz}from"react";var Sl="document-take-over",Lp="document-take-over",Vv=t=>{let e=Bz(17),{handleBackToDashboard:o,isActive:n,onReadOnly:r}=t,{closeModal:s,openModal:i}=ce(),{t:l}=L(),{startRouteTransition:a}=Ue(),c,u;e[0]!==s||e[1]!==n||e[2]!==i?(c=()=>{n?i(Sl):s(Sl)},u=[n,i,s],e[0]=s,e[1]=n,e[2]=i,e[3]=c,e[4]=u):(c=e[3],u=e[4]),Oz(c,u);let d;if(e[5]!==s||e[6]!==o||e[7]!==r||e[8]!==a||e[9]!==l){let f;e[11]!==o||e[12]!==a?(f=()=>{a(()=>o())},e[11]=o,e[12]=a,e[13]=f):f=e[13];let m;e[14]!==s||e[15]!==r?(m=()=>{r(),s(Sl)},e[14]=s,e[15]=r,e[16]=m):m=e[16],d=qu(ir,{className:Lp,slug:Sl,children:Ov("div",{className:`${Lp}__wrapper`,children:[Ov("div",{className:`${Lp}__content`,children:[qu("h1",{children:l("general:editingTakenOver")}),qu("p",{children:l("general:anotherUserTakenOver")})]}),Ov("div",{className:`${Lp}__controls`,children:[qu(se,{buttonStyle:"primary",id:`${Sl}-back-to-dashboard`,onClick:f,size:"large",children:l("general:backToDashboard")}),qu(se,{buttonStyle:"secondary",id:`${Sl}-view-read-only`,onClick:m,size:"large",children:l("general:viewReadOnly")})]})]})}),e[5]=s,e[6]=o,e[7]=r,e[8]=a,e[9]=l,e[10]=d}else d=e[10];return d};import{c as Vz}from"react/compiler-runtime";import{jsx as ra,jsxs as Qu}from"react/jsx-runtime";import{useEffect as Gz}from"react";var $p=t=>t&&typeof t=="object";var Qs="document-locked",kp="document-locked",zz=t=>t?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(t):"",Gv=t=>{let e=Vz(30),{handleGoBack:o,isActive:n,onReadOnly:r,onTakeOver:s,updatedAt:i,user:l}=t,{closeModal:a,openModal:c}=ce(),{t:u}=L(),{startRouteTransition:d}=Ue(),f,m;e[0]!==a||e[1]!==n||e[2]!==c?(f=()=>{n?c(Qs):a(Qs)},m=[n,c,a],e[0]=a,e[1]=n,e[2]=c,e[3]=f,e[4]=m):(f=e[3],m=e[4]),Gz(f,m);let h;e[5]!==o||e[6]!==d?(h=()=>{d(()=>o())},e[5]=o,e[6]=d,e[7]=h):h=e[7];let p;if(e[8]!==a||e[9]!==o||e[10]!==r||e[11]!==s||e[12]!==d||e[13]!==u||e[14]!==h||e[15]!==i||e[16]!==l){let g;e[18]!==u||e[19]!==l?(g=$p(l)?l.email??l.id:`${u("general:user")}: ${l}`,e[18]=u,e[19]=l,e[20]=g):g=e[20];let b;e[21]!==o||e[22]!==d?(b=()=>{d(()=>o())},e[21]=o,e[22]=d,e[23]=b):b=e[23];let x;e[24]!==a||e[25]!==r?(x=()=>{r(),a(Qs)},e[24]=a,e[25]=r,e[26]=x):x=e[26];let v;e[27]!==a||e[28]!==s?(v=()=>{s(),a(Qs)},e[27]=a,e[28]=s,e[29]=v):v=e[29],p=ra(ir,{className:kp,onClose:h,slug:Qs,children:Qu("div",{className:`${kp}__wrapper`,children:[Qu("div",{className:`${kp}__content`,children:[ra("h1",{children:u("general:documentLocked")}),Qu("p",{children:[ra("strong",{children:g})," ",u("general:currentlyEditing")]}),Qu("p",{children:[u("general:editedSince")," ",ra("strong",{children:zz(i)})]})]}),Qu("div",{className:`${kp}__controls`,children:[ra(se,{buttonStyle:"secondary",id:`${Qs}-go-back`,onClick:b,size:"large",children:u("general:goBack")}),ra(se,{buttonStyle:"secondary",id:`${Qs}-view-read-only`,onClick:x,size:"large",children:u("general:viewReadOnly")}),ra(se,{buttonStyle:"primary",id:`${Qs}-take-over`,onClick:v,size:"large",children:u("general:takeOver")})]})]})}),e[8]=a,e[9]=o,e[10]=r,e[11]=s,e[12]=d,e[13]=u,e[14]=h,e[15]=i,e[16]=l,e[17]=p}else p=e[17];return p};import{c as Wz}from"react/compiler-runtime";import{jsx as Hz}from"react/jsx-runtime";import{getTranslation as Uz}from"@payloadcms/translations";import U$e from"react";function zv(t){let e=Wz(3),{i18n:o}=L(),{description:n}=t;if(n){let r;return e[0]!==n||e[1]!==o?(r=Hz("div",{className:"custom-view-description",children:Uz(n,o)}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r}return null}import{jsx as or,jsxs as Vp}from"react/jsx-runtime";import{formatAdminURL as AW}from"payload/shared";import{useEffect as EW,useRef as NW,useState as LW}from"react";import{c as qz}from"react/compiler-runtime";import{jsx as N6}from"react/jsx-runtime";import{usePathname as Qz}from"next/navigation.js";import{formatAdminURL as Kz}from"payload/shared";import"react";import{jsx as Wv,jsxs as Xz}from"react/jsx-runtime";import"react";var Ku="graphic-account",w6=t=>Xz("svg",{className:[Ku,t?.active&&`${Ku}--active`].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[Wv("circle",{className:`${Ku}__bg`,cx:"12.5",cy:"12.5",r:"11.5"}),Wv("circle",{className:`${Ku}__head`,cx:"12.5",cy:"10.73",r:"3.98"}),Wv("path",{className:`${Ku}__body`,d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]});var A6=ai(P6(),1);import{c as Yz}from"react/compiler-runtime";import{jsx as Jz}from"react/jsx-runtime";import"react";var E6=()=>{let t=Yz(2),{user:e}=_e(),o=(0,A6.default)(e.email.trim().toLowerCase()),r=`?${new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()}`,s=`https://www.gravatar.com/avatar/${o}?${r}`,i;return t[0]!==s?(i=Jz("img",{alt:"yas",className:"gravatar-account",height:25,src:s,style:{borderRadius:"50%"},width:25}),t[0]=s,t[1]=i):i=t[1],i};var Xv=()=>{let t=qz(3),{config:e}=H(),{admin:o,routes:n}=e,{avatar:r,routes:s}=o,{account:i}=s,{admin:l}=n,{user:a}=_e(),u=Qz()===Kz({adminRoute:l,path:i});if(!a?.email||r==="default"){let d;return t[0]!==u?(d=N6(w6,{active:u}),t[0]=u,t[1]=d):d=t[1],d}if(r==="gravatar"){let d;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=N6(E6,{}),t[2]=d):d=t[2],d}};import{c as eW}from"react/compiler-runtime";import{jsx as tW}from"react/jsx-runtime";import{createContext as oW,use as rW,useState as nW}from"react";var L6=oW({Actions:{},setViewActions:()=>{}}),Zv=()=>rW(L6),sW=t=>{let e=eW(4),{Actions:o,children:n}=t,[r,s]=nW(o),i;return e[0]!==o||e[1]!==n||e[2]!==r?(i=tW(L6,{value:{Actions:{...r,...o},setViewActions:s},children:n}),e[0]=o,e[1]=n,e[2]=r,e[3]=i):i=e[3],i};import{c as iW}from"react/compiler-runtime";import{jsx as jp,jsxs as j6}from"react/jsx-runtime";import"react";import{jsx as $6}from"react/jsx-runtime";import"react";var Yv=()=>$6("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:$6("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})});import{jsx as k6}from"react/jsx-runtime";import"react";var Jv=()=>k6("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:k6("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})});var qv="hamburger",Qv=t=>{let e=iW(4),{t:o}=L(),{closeIcon:n,isActive:r}=t,s=n===void 0?"x":n,i=r===void 0?!1:r,l;return e[0]!==s||e[1]!==i||e[2]!==o?(l=j6("div",{className:qv,children:[!i&&jp("div",{"aria-label":o("general:open"),className:`${qv}__open-icon`,title:o("general:open"),children:jp(Jv,{})}),i&&j6("div",{"aria-label":o(s==="collapse"?"general:collapse":"general:close"),className:`${qv}__close-icon`,title:o(s==="collapse"?"general:collapse":"general:close"),children:[s==="x"&&jp(Yv,{}),s==="collapse"&&jp(Ve,{direction:"left"})]})]}),e[0]=s,e[1]=i,e[2]=o,e[3]=l):l=e[3],l};import{c as cW}from"react/compiler-runtime";import{jsx as na,jsxs as uW}from"react/jsx-runtime";import{getTranslation as dW}from"@payloadcms/translations";import{useRouter as mW}from"next/navigation.js";import*as Bp from"qs-esm";import{Fragment as fW}from"react";import{c as aW}from"react/compiler-runtime";import{jsx as M6,jsxs as Kv}from"react/jsx-runtime";import{getTranslation as lW}from"@payloadcms/translations";import"react";var ed="localizer-button",Mp=t=>{let e=aW(12),{ariaLabel:o,className:n}=t,r=we(),{i18n:s,t:i}=L(),l;e[0]!==o||e[1]!==i?(l=o||i("general:locale"),e[0]=o,e[1]=i,e[2]=l):l=e[2];let a;e[3]!==n?(a=[ed,n].filter(Boolean),e[3]=n,e[4]=a):a=e[4];let c=a.join(" "),u=r?r.code:void 0,d=`${i("general:locale")}:`,f;return e[5]!==s||e[6]!==r.label||e[7]!==l||e[8]!==c||e[9]!==u||e[10]!==d?(f=Kv("div",{"aria-label":l,className:c,"data-locale":u,children:[Kv("div",{className:`${ed}__label`,children:[d,"\xA0"]}),Kv("div",{className:`${ed}__current`,children:[M6("span",{className:`${ed}__current-label`,children:`${lW(r.label,s)}`}),M6(Ve,{className:`${ed}__chevron`})]})]}),e[5]=s,e[6]=r.label,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=f):f=e[11],f};var e0="localizer",B6=t=>{let e=cW(17),{className:o}=t,{config:n}=H(),{localization:r}=n,s=mW(),{startRouteTransition:i}=Ue(),{setLocaleIsLoading:l}=Sm(),{i18n:a}=L(),c=we();if(r){let{locales:u}=r,d;e[0]!==o?(d=[e0,o].filter(Boolean),e[0]=o,e[1]=d):d=e[1];let f=d.join(" "),m;if(e[2]!==a||e[3]!==c||e[4]!==u||e[5]!==s||e[6]!==l||e[7]!==i||e[8]!==f){let h;e[10]!==a||e[11]!==c||e[12]!==u||e[13]!==s||e[14]!==l||e[15]!==i?(h=p=>{let{close:g}=p;return na(Ce.ButtonGroup,{children:u.map(b=>{let x=dW(b.label,a);return na(Ce.Button,{active:c.code===b.code,disabled:c.code===b.code,onClick:()=>{l(!0),g();let v=new URLSearchParams(window.location.search),C=Bp.stringify({...Bp.parse(v.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:b.code},{addQueryPrefix:!0});i(()=>{s.push(C)})},children:x!==b.code?uW(fW,{children:[x,"\xA0",na("span",{className:`${e0}__locale-code`,"data-locale":b.code,children:`(${b.code})`})]}):na("span",{className:`${e0}__locale-code`,"data-locale":b.code,children:x})},b.code)})})},e[10]=a,e[11]=c,e[12]=u,e[13]=s,e[14]=l,e[15]=i,e[16]=h):h=e[16],m=na("div",{className:f,children:na(ut,{button:na(Mp,{}),horizontalAlign:"right",render:h,showScrollbar:!0,size:"large"})}),e[2]=a,e[3]=c,e[4]=u,e[5]=s,e[6]=l,e[7]=i,e[8]=f,e[9]=m}else m=e[9];return m}return null};import{jsx as pW}from"react/jsx-runtime";import{usePathname as hW}from"next/navigation.js";import od,{useEffect as td,useRef as gW}from"react";var O6=od.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),sa=()=>od.use(O6),bW=async t=>{let o=(await t("nav"))?.open;return typeof o=="boolean"?o:!0},V6=({children:t,initialIsOpen:e})=>{let{breakpoints:{l:o,m:n,s:r}}=Ao(),s=hW(),{getPreference:i}=Zt(),l=gW(null),[a,c]=od.useState(e),[u,d]=od.useState(!1),[f,m]=od.useState(!1);return td(()=>{o===!1&&(async()=>{let p=await bW(i);c(p)})()},[o,i,c]),td(()=>{r===!0&&c(!1)},[s]),td(()=>{l.current&&(a&&n?l.current.style.overscrollBehavior="contain":l.current.style.overscrollBehavior="auto")},[a,n]),td(()=>{(o===!0||n===!0||r===!0)&&c(!1),m(!0);let h=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(h)}},[o,n,r]),td(()=>()=>{l.current&&(l.current.style.overscrollBehavior="auto")},[]),pW(O6,{value:{hydrated:f,navOpen:a,navRef:l,setNavOpen:c,shouldAnimate:u},children:t})};import{c as vW}from"react/compiler-runtime";import{jsx as xW}from"react/jsx-runtime";import"react";var G6="nav-toggler",t0=t=>{let e=vW(15),{id:o,children:n,className:r,tabIndex:s}=t,i=s===void 0?0:s,{t:l}=L(),{setPreference:a}=Zt(),{navOpen:c,setNavOpen:u}=sa(),{breakpoints:d}=Ao(),{l:f}=d,m=`${l(c?"general:close":"general:open")} ${l("general:menu")}`,h=c&&`${G6}--is-open`,p;e[0]!==r||e[1]!==h?(p=[G6,h,r].filter(Boolean),e[0]=r,e[1]=h,e[2]=p):p=e[2];let g=p.join(" "),b;e[3]!==f||e[4]!==c||e[5]!==u||e[6]!==a?(b=async()=>{u(!c),f||await a("nav",{open:!c},!0)},e[3]=f,e[4]=c,e[5]=u,e[6]=a,e[7]=b):b=e[7];let x;return e[8]!==n||e[9]!==o||e[10]!==m||e[11]!==g||e[12]!==b||e[13]!==i?(x=xW("button",{"aria-label":m,className:g,id:o,onClick:b,tabIndex:i,type:"button",children:n}),e[8]=n,e[9]=o,e[10]=m,e[11]=g,e[12]=b,e[13]=i,e[14]=x):x=e[14],x};import{c as RW}from"react/compiler-runtime";import{jsx as Lo,jsxs as H6}from"react/jsx-runtime";import{getTranslation as PW}from"@payloadcms/translations";import{Fragment as U6}from"react";import{jsx as z6,jsxs as CW}from"react/jsx-runtime";import"react";var Op=({fill:t})=>{let e=t||"var(--theme-elevation-1000)";return CW("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[z6("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:e}),z6("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:e})]})};import{c as yW}from"react/compiler-runtime";import{jsx as wW}from"react/jsx-runtime";import{createContext as SW,use as IW,useState as _W}from"react";var xr=()=>IW(W6),W6=SW({}),o0=t=>{let e=yW(4),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];let[r,s]=_W(n),i;return e[1]!==o||e[2]!==r?(i=wW(W6,{value:{setStepNav:s,stepNav:r},children:o}),e[1]=o,e[2]=r,e[3]=i):i=e[3],i};import{c as DW}from"react/compiler-runtime";import{useEffect as FW}from"react";var TW=t=>{let e=DW(4),{nav:o}=t,{setStepNav:n}=xr(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[n,o],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),FW(r,s),null};var rd="step-nav",X6=t=>{let e=RW(7),{className:o,CustomIcon:n}=t,{i18n:r}=L(),{stepNav:s}=xr(),{config:i}=H(),{routes:l}=i,{admin:a}=l,{t:c}=L(),u;return e[0]!==n||e[1]!==a||e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==c?(u=Lo(U6,{children:s.length>0?H6("nav",{className:[rd,o].filter(Boolean).join(" "),children:[Lo(Vt,{className:`${rd}__home`,href:a,prefetch:!1,tabIndex:0,children:Lo("span",{title:c("general:dashboard"),children:Lo(me,{CustomComponent:n,Fallback:Lo(Op,{})})})}),Lo("span",{children:"/"}),s.map((d,f)=>{let m=PW(d.label,r);return s.length===f+1?Lo("span",{className:`${rd}__last`,children:m},f):H6(U6,{children:[d.url?Lo(Vt,{href:d.url,prefetch:!1,children:Lo("span",{children:m},f)}):Lo("span",{children:m},f),Lo("span",{children:"/"})]},f)})]}):Lo("div",{className:[rd,o].filter(Boolean).join(" "),children:Lo("div",{className:`${rd}__home`,children:Lo("span",{title:c("general:dashboard"),children:Lo(me,{CustomComponent:n,Fallback:Lo(Op,{})})})})})}),e[0]=n,e[1]=a,e[2]=o,e[3]=r,e[4]=s,e[5]=c,e[6]=u):u=e[6],u};var $o="app-header";function $W({CustomAvatar:t,CustomIcon:e}){let{t:o}=L(),{Actions:n}=Zv(),{config:{admin:{routes:{account:r}},localization:s,routes:{admin:i}}}=H(),{navOpen:l}=sa(),a=NW(null),[c,u]=LW(!1);EW(()=>{let f=()=>{let m=a.current;if(m){let h=m.scrollWidth>m.clientWidth;u(h)}};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[n]);let d=n?Object.values(n):[];return Vp("header",{className:[$o,l&&`${$o}--nav-open`].filter(Boolean).join(" "),children:[or("div",{className:`${$o}__bg`}),or("div",{className:`${$o}__content`,children:Vp("div",{className:`${$o}__wrapper`,children:[or(t0,{className:`${$o}__mobile-nav-toggler`,tabIndex:-1,children:or(Qv,{})}),Vp("div",{className:`${$o}__controls-wrapper`,children:[or("div",{className:`${$o}__step-nav-wrapper`,children:or(X6,{className:`${$o}__step-nav`,CustomIcon:e})}),Vp("div",{className:`${$o}__actions-wrapper`,children:[or("div",{className:`${$o}__actions`,ref:a,children:d.map((f,m)=>or("div",{className:c&&m===d.length-1?`${$o}__last-action`:"",children:f},m))}),c&&or("div",{className:`${$o}__gradient-placeholder`})]}),s&&or(Mp,{ariaLabel:"invisible",className:`${$o}__localizer-spacing`}),or(Vt,{"aria-label":o("authentication:account"),className:`${$o}__account`,href:AW({adminRoute:i,path:r}),prefetch:!1,tabIndex:0,children:or(me,{CustomComponent:t,Fallback:or(Xv,{})})})]})]})}),or(B6,{className:`${$o}__localizer`})]})}import{jsx as r0,jsxs as kW}from"react/jsx-runtime";import"react";var nd="card",jW=t=>{let{id:e,actions:o,buttonAriaLabel:n,href:r,onClick:s,title:i,titleAs:l}=t,a=[nd,e,(s||r)&&`${nd}--has-onclick`].filter(Boolean).join(" ");return kW("div",{className:a,id:e,children:[r0(l??"div",{className:`${nd}__title`,children:i}),o&&r0("div",{className:`${nd}__actions`,children:o}),(s||r)&&r0(se,{"aria-label":n,buttonStyle:"none",className:`${nd}__click`,el:"link",onClick:s,to:r})]})};import{c as MW}from"react/compiler-runtime";import{jsx as Ks,jsxs as Gp}from"react/jsx-runtime";import{getTranslation as BW}from"@payloadcms/translations";import{useRouter as OW}from"next/navigation.js";import{formatAdminURL as VW}from"payload/shared";import Il from"react";var zp="copy-locale-data",Wp="copy-locale",n0=()=>{let t=MW(38),{config:e}=H(),{localization:o,routes:n,serverURL:r}=e,{admin:s}=n,{code:i}=we(),{id:l,collectionSlug:a,globalSlug:c}=Re(),{i18n:u,t:d}=L(),f=ro(),{toggleModal:m}=ce(),{copyDataFromLocale:h}=Rt(),p=OW(),{startRouteTransition:g}=Ue(),b;t[0]!==o?(b=o&&o.locales.map(GW)||[],t[0]=o,t[1]=b):b=t[1];let x=b,v;t[2]!==i?(v=G=>G.value!==i,t[2]=i,t[3]=v):v=t[3];let C=x.filter(v),y;t[4]!==u||t[5]!==o?(y=G=>{let z=o&&o.locales.find(U=>U.code===G);return z&&z.label?BW(z.label,u):G},t[4]=u,t[5]=o,t[6]=y):y=t[6];let S=y,[w,_]=Il.useState(!1),[D,R]=Il.useState(null),[T,I]=Il.useState(i),[F,P]=Il.useState(!1),A,k;t[7]!==i||t[8]!==T?(A=()=>{T!==i&&I(i)},k=[i,T],t[7]=i,t[8]=T,t[9]=A,t[10]=k):(A=t[9],k=t[10]),Il.useEffect(A,k);let $;t[11]!==s||t[12]!==a||t[13]!==h||t[14]!==c||t[15]!==l||t[16]!==F||t[17]!==p||t[18]!==r||t[19]!==g||t[20]!==m?($=async G=>{let{from:z,to:U}=G;_(!0);try{await h({collectionSlug:a,docID:l,fromLocale:z,globalSlug:c,overrideData:F,toLocale:U}),_(!1),g(()=>p.push(VW({adminRoute:s,path:`/${a?`collections/${a}/${l}`:`globals/${c}`}`,serverURL:r})+`?locale=${U}`)),m(Wp)}catch(oe){let X=oe;ue.error(X.message)}},t[11]=s,t[12]=a,t[13]=h,t[14]=c,t[15]=l,t[16]=F,t[17]=p,t[18]=r,t[19]=g,t[20]=m,t[21]=$):$=t[21];let j=$;if(!l&&!c)return null;let N;t[22]!==f||t[23]!==d||t[24]!==m?(N=()=>{f?ue.info(d("general:unsavedChanges")):m(Wp)},t[22]=f,t[23]=d,t[24]=m,t[25]=N):N=t[25];let E;t[26]!==m?(E=()=>{m(Wp)},t[26]=m,t[27]=E):E=t[27];let O;t[28]!==j||t[29]!==w||t[30]!==T||t[31]!==d||t[32]!==D?(O=async()=>{if(T===D){ue.error(d("localization:cannotCopySameLocale"));return}w||await j({from:T,to:D})},t[28]=j,t[29]=w,t[30]=T,t[31]=d,t[32]=D,t[33]=O):O=t[33];let M;t[34]===Symbol.for("react.memo_cache_sentinel")?(M=G=>{G?.value&&I(G.value)},t[34]=M):M=t[34];let B;t[35]===Symbol.for("react.memo_cache_sentinel")?(B=G=>{G?.value&&R(G.value)},t[35]=B):B=t[35];let V;return t[36]!==F?(V=()=>P(!F),t[36]=F,t[37]=V):V=t[37],Gp(Il.Fragment,{children:[Ks(Ce.Button,{id:`${zp}__button`,onClick:N,children:d("localization:copyToLocale")}),Gp(Nt,{className:zp,gutter:!1,Header:Ks(dl,{onClose:E,title:d("localization:copyToLocale")}),slug:Wp,children:[Gp("div",{className:`${zp}__sub-header`,children:[Ks("span",{children:T&&D?Ks("div",{children:d("localization:copyFromTo",{from:S(T),to:S(D)})}):d("localization:selectLocaleToCopy")}),Ks(se,{buttonStyle:"primary",disabled:!T||!D,iconPosition:"left",onClick:O,size:"medium",children:w?d("general:copying")+"...":d("general:copy")})]}),Gp("div",{className:`${zp}__content`,children:[Ks(il,{label:d("localization:copyFrom"),name:"fromLocale",onChange:M,options:x,path:"fromLocale",readOnly:!0,value:T}),Ks(il,{label:d("localization:copyTo"),name:"toLocale",onChange:B,options:C,path:"toLocale",value:D}),Ks(Pr,{checked:F,field:{name:"overwriteExisting",label:d("general:overwriteExistingData")},onChange:V,path:"overwriteExisting"})]})]})]})};function GW(t){return{label:t.label,value:t.code}}import{c as YW}from"react/compiler-runtime";import{jsx as Zp,jsxs as JW}from"react/jsx-runtime";import{getTranslation as Q6}from"@payloadcms/translations";import{useRouter as qW,useSearchParams as QW}from"next/navigation.js";import{mergeListSearchAndWhere as KW}from"payload/shared";import*as c0 from"qs-esm";import l0 from"react";import{jsx as zW}from"react/jsx-runtime";import{useSearchParams as WW}from"next/navigation.js";import*as Y6 from"qs-esm";import{createContext as HW,use as UW,useCallback as Hp,useEffect as Z6,useRef as XW,useState as s0}from"react";var ao=function(t){return t.AllAvailable="allAvailable",t.AllInPage="allInPage",t.None="none",t.Some="some",t}({}),J6=HW({}),i0=({children:t,docs:e=[],totalDocs:o,user:n})=>{let r=XW({}),{code:s}=we(),[i,l]=s0(()=>{let b=new Map;return e.forEach(({id:x})=>{b.set(x,!1)}),b}),[a,c]=s0("none"),[u,d]=s0(0),f=WW(),m=Hp((b=!1)=>{let x=new Map;b?(c("allAvailable"),e.forEach(({id:v,_isLocked:C,_userEditing:y})=>{(!C||y?.id===n?.id)&&x.set(v,!0)})):a==="allAvailable"||a==="allInPage"?c("none"):e.forEach(({id:v,_isLocked:C,_userEditing:y})=>{(!C||y?.id===n?.id)&&x.set(v,a!=="some")}),l(x)},[e,a,n?.id]),h=Hp(b=>{let x=e.find(S=>S.id===b);if(x?._isLocked&&n?.id!==x?._userEditing.id)return;let v=i.get(b),C=typeof v=="boolean"?!v:!0,y=new Map(i.set(b,C));a==="allAvailable"&&!C&&c("some"),l(y)},[i,e,a,n?.id]),p=Hp(b=>{let x;if(a==="allAvailable")x=fo(f)?.where||{id:{not_equals:""}};else{let v=[];for(let[C,y]of i)y&&v.push(C);x={id:{in:v}}}return b&&(x={and:[{...b},x]}),Y6.stringify({locale:s,where:x},{addQueryPrefix:!0})},[a,i,s,f]),g=Hp(()=>{let b=[];for(let[x,v]of i)v&&b.push(x);return b},[i]);return Z6(()=>{if(a==="allAvailable")return;let b=!1,x=!0;if(!i.size)x=!1,b=!1;else for(let[v,C]of i)x=x&&C,b=b||C;x&&i.size===e.length?c("allInPage"):c(b?"some":"none")},[a,i,o,e]),Z6(()=>{let b=0;if(a==="allAvailable")b=o;else for(let[x,v]of i)v&&b++;d(b)},[a,i,o]),r.current={count:u,getQueryParams:p,getSelectedIds:g,selectAll:a,selected:i,setSelection:h,toggleAll:m,totalDocs:o},zW(J6,{value:r.current,children:t})},Fo=()=>UW(J6);import{c as ZW}from"react/compiler-runtime";import{jsx as _l,jsxs as a0}from"react/jsx-runtime";import q6 from"react";var Up="list-selection";function Xp(t){let e=ZW(9),{count:o,ListActions:n,SelectionActions:r}=t,{t:s}=L(),i;if(e[0]!==n||e[1]!==r||e[2]!==o||e[3]!==s){let l;e[5]!==n?(l=n&&n.length>0&&a0(q6.Fragment,{children:[_l("span",{children:"\u2014"}),_l("div",{className:`${Up}__actions`,children:n})]}),e[5]=n,e[6]=l):l=e[6];let a;e[7]!==r?(a=r&&r.length>0&&a0(q6.Fragment,{children:[_l("span",{children:"\u2014"}),_l("div",{className:`${Up}__actions`,children:r})]}),e[7]=r,e[8]=a):a=e[8],i=a0("div",{className:Up,children:[_l("span",{children:s("general:selectedCount",{count:o,label:""})}),l,a]}),e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=i}else i=e[4];return i}function Wo({children:t,className:e,...o}){return _l(se,{...o,buttonStyle:"none",className:[`${Up}__button`,e].filter(Boolean).join(" "),children:t})}var K6="confirm-delete-many-docs",u0=t=>{let e=YW(18),{collection:o}=t,n;e[0]!==o?(n=o===void 0?{}:o,e[0]=o,e[1]=n):n=e[1];let{slug:r}=n,{permissions:s}=_e(),{count:i,getSelectedIds:l,selectAll:a,toggleAll:c}=Fo(),u=qW(),d=QW(),{clearRouteCache:f}=qt(),h=s?.collections?.[r]?.delete;if(a===ao.None||!h)return null;let p=a===ao.AllAvailable,g;if(e[2]!==f||e[3]!==i||e[4]!==l||e[5]!==u||e[6]!==d||e[7]!==a||e[8]!==p||e[9]!==r||e[10]!==c){let b=p?[]:l(),x;e[12]!==f||e[13]!==u||e[14]!==d||e[15]!==a||e[16]!==c?(x=()=>{c(),u.replace(c0.stringify({...fo(d),page:a?"1":void 0},{addQueryPrefix:!0})),f()},e[12]=f,e[13]=u,e[14]=d,e[15]=a,e[16]=c,e[17]=x):x=e[17],g=Zp(l0.Fragment,{children:Zp(d0,{afterDelete:x,search:fo(d)?.search,selections:{[r]:{all:a===ao.AllAvailable,ids:b,totalCount:p?i:b.length}},where:fo(d)?.where})}),e[2]=f,e[3]=i,e[4]=l,e[5]=u,e[6]=d,e[7]=a,e[8]=p,e[9]=r,e[10]=c,e[11]=g}else g=e[11];return g};function d0({afterDelete:t,search:e,selections:o,where:n}){let{t:r}=L(),{config:{collections:s,routes:{api:i},serverURL:l}}=H(),{code:a}=we(),{i18n:c}=L(),{openModal:u}=ce(),d=l0.useCallback(async()=>{let h=Object.keys(o).length===1,p={};for(let[g,{all:b,ids:x=[]}]of Object.entries(o)){let v=s.find(({slug:C})=>C===g);if(v){let C;b?h&&n?C=n:C={id:{not_equals:""}}:C={id:{in:x}};let y=await Je.delete(`${l}${i}/${g}${c0.stringify({limit:0,locale:a,where:KW({collectionConfig:v,search:e,where:C})},{addQueryPrefix:!0})}`,{headers:{"Accept-Language":c.language,"Content-Type":"application/json"}});try{let{plural:S,singular:w}=v.labels,_=await y.json(),D=_?.docs.length||0,R=D>1?S:w;(y.status<400||D>0)&&ue.success(r("general:deletedCountSuccessfully",{count:D,label:Q6(R,c)})),_?.errors.length>0&&ue.error(_.message,{description:_.errors.map(T=>T.message).join(`
`)}),p[g]={deletedCount:D,errors:_?.errors||null,ids:_?.docs.map(T=>T.id)||[],totalCount:_.totalDocs},y.status>400&&_?.errors.length===0&&(ue.error(r("error:unknown")),p[g].errors=[r("error:unknown")]);continue}catch(S){ue.error(r("error:unknown")),p[g]={deletedCount:0,errors:[S],ids:[],totalCount:0};continue}}}typeof t=="function"&&t(p)},[o,t,s,a,e,l,i,c,n,r]),{label:f,labelCount:m}=Object.entries(o).reduce((h,[p,g],b,x)=>{let v=s.find(({slug:C})=>C===p);if(v){let C=h.labelCount===void 0?g.totalCount:h.labelCount,y=`${h.labelCount!==void 0?`${g.totalCount} `:""}${Q6(g.totalCount>1?v.labels.plural:v.labels.singular,c)}`,S;return b===x.length-1&&b!==0?S=`${h.label} and ${y}`:b>0?S=`${h.label}, ${y}`:S=y,{label:S,labelCount:C}}return h},{label:"",labelCount:void 0});return JW(l0.Fragment,{children:[Zp(Wo,{"aria-label":r("general:delete"),className:"delete-documents__toggle",onClick:()=>{u(K6)},children:r("general:delete")}),Zp(gt,{body:r("general:aboutToDeleteCount",{count:m,label:f}),confirmingLabel:r("general:deleting"),heading:r("general:confirmDeletion"),modalSlug:K6,onConfirm:d})]})}import{c as BH}from"react/compiler-runtime";import{jsx as st,jsxs as To}from"react/jsx-runtime";import{getTranslation as OH}from"@payloadcms/translations";import{formatAdminURL as VH}from"payload/shared";import C0,{Fragment as ld,useEffect as GH}from"react";import{createContext as eH,use as tH}from"react";var m0=eH({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,fieldSchemaJSON:void 0,iframeHasLoaded:!1,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIframeHasLoaded:()=>{},setIsLivePreviewing:()=>{},setMeasuredDeviceSize:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},url:void 0,zoom:1}),yo=()=>tH(m0);import{jsx as tF,jsxs as rH}from"react/jsx-runtime";import{dequal as nH}from"dequal/lite";import{reduceFieldsToValues as oF,versionDefaults as sH}from"payload/shared";import iH,{useDeferredValue as aH,useEffect as rF,useRef as Dl,useState as lH}from"react";import{unflatten as oH}from"payload/shared";var eF=(t,e,o)=>{let n={data:{},valid:!0};return t&&(Object.keys(t).forEach(r=>{(o===!0||!t[r]?.disableFormData)&&(n.data[r]=t[r]?.value,t[r].valid||(n.valid=!1))}),e&&(n.data=oH(n.data))),n};var cH="autosave",nF=1e3,sF=({id:t,collection:e,global:o})=>{let{config:{routes:{api:n},serverURL:r}}=H(),{docConfig:s,incrementVersionCount:i,lastUpdateTime:l,mostRecentVersionIsAutosaved:a,setLastUpdateTime:c,setMostRecentVersionIsAutosaved:u,setUnpublishedVersionCount:d,updateSavedDocumentData:f}=Re(),{onSave:m}=Bi(),{reportUpdate:h}=os(),{dispatchFields:p,isValid:g,setBackgroundProcessing:b,setIsValid:x}=ke(),[v]=ws(),C=ro(),y=oo(),{code:S}=we(),{i18n:w,t:_}=L(),D=s?.versions,R=sH.autosaveInterval;D.drafts&&D.drafts.autosave&&(R=D.drafts.autosave.interval);let T=!!(s?.versions?.drafts&&s?.versions?.drafts.validate),[I,F]=lH(!1),P=aH(I),A=lr(v,R),k=Dl(v),$=Dl(C),j=Dl(S);k.current=v,$.current=C,j.current=S;let{queueTask:N}=ol(),E=Dl(null),O=Gt(()=>{E.current=void 0;let G,z,U=()=>{z-G<nF?E.current=setTimeout(()=>{F(!1)},nF-(z-G)):V()};N(async()=>{if(C){G=new Date().getTime(),F(!0);let oe,X,Y;if(e&&t&&(Y=e.slug,oe=`${r}${n}/${Y}/${t}?draft=true&autosave=true&locale=${j.current}`,X="PATCH"),o&&(Y=o.slug,oe=`${r}${n}/globals/${Y}?draft=true&autosave=true&locale=${j.current}`,X="POST"),oe&&$.current){let{data:re,valid:W}=eF(k.current,!0);if(re._status="draft",!(y&&!W&&D?.drafts&&D?.drafts?.validate)){let ie;try{ie=await fetch(oe,{body:JSON.stringify(re),credentials:"include",headers:{"Accept-Language":w.language,"Content-Type":"application/json"},method:X})}catch{}let de=new Date;z=de.getTime();let xe=await ie.json();if(ie.status===200&&(c(de.getTime()),h({id:t,entitySlug:Y,updatedAt:de.toISOString()}),typeof m=="function"&&m({...xe,operation:"update"}),a||(i(),u(!0),d(Q=>Q+1))),D?.drafts&&D?.drafts?.validate&&xe?.errors){if(Array.isArray(xe.errors)){let[Q,ae]=xe.errors.reduce(([be,ye],J)=>{let pe=[],te=[];return J?.message&&te.push(J),Array.isArray(J?.data)&&J.data.forEach(Z=>{Z?.field?pe.push(Z):te.push(Z)}),[[...be,...pe],[...ye,...te]]},[[],[]]);p({type:"ADD_SERVER_ERRORS",errors:Q}),ae.forEach(be=>{ue.error(be.message||w.t("error:unknown"))}),x(!1),U();return}}else{let Q=xe?.doc||xe?.result;Q&&(x(!0),f(Q))}U()}}}},{afterProcess:()=>{b(!1)},beforeProcess:()=>{b(!0)}})}),M=Dl(!1),B=Dl(oF(A));rF(()=>{if(!M.current){M.current=!0;return}let{updatedAt:G,...z}=oF(A),{updatedAt:U,...oe}=B.current;nH(z,oe)||(B.current=z,O())},[A]),rF(()=>()=>{V()},[]);let V=Gt(()=>{E.current&&clearTimeout(E.current),F(!1)});return rH("div",{className:cH,children:[T&&!g&&tF(Ju,{}),P&&_("general:saving"),!P&&!!l&&tF(iH.Fragment,{children:_("version:lastSavedAgo",{distance:zg({date:l,i18n:w})})})]})};import{jsx as Yp,jsxs as uH}from"react/jsx-runtime";import{getTranslation as iF}from"@payloadcms/translations";import{useRouter as dH}from"next/navigation.js";import{formatAdminURL as mH}from"payload/shared";import fH,{useCallback as aF}from"react";var lF=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=H(),f=d({collectionSlug:n}),{setModified:m}=ke(),h=dH(),{i18n:p,t:g}=L(),{title:b}=cr(),{startRouteTransition:x}=Ue(),{openModal:v}=ce(),C=`delete-${e}`,y=aF(()=>{ue.error(g("error:deletingTitle",{title:b}))},[g,b]),S=aF(async()=>{m(!1);try{await Je.delete(`${u}${c}/${n}/${e}`,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}).then(async w=>{try{let _=await w.json();if(w.status<400){if(ue.success(g("general:titleDeleted",{label:iF(i,p),title:b})||_.message),s)return x(()=>h.push(mH({adminRoute:a,path:`/collections/${n}`})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}return _.errors?_.errors.forEach(D=>ue.error(D.message)):y(),!1}catch{return y()}})}catch{return y()}},[m,u,c,n,e,g,i,y,p,b,h,a,s,r,f,x]);return e?uH(fH.Fragment,{children:[Yp(Ce.Button,{id:o,onClick:()=>{v(C)},children:g("general:delete")}),Yp(gt,{body:Yp(er,{elements:{1:({children:w})=>Yp("strong",{children:w})},i18nKey:"general:aboutToDelete",t:g,variables:{label:iF(i,p),title:l||b||e}}),confirmingLabel:g("general:deleting"),heading:g("general:confirmDeletion"),modalSlug:C,onConfirm:S})]}):null};import{jsx as cF,jsxs as pH}from"react/jsx-runtime";import{getTranslation as uF}from"@payloadcms/translations";import{useRouter as hH}from"next/navigation.js";import{formatAdminURL as gH}from"payload/shared";import dF,{useCallback as mF}from"react";var fF=({id:t,slug:e,onDuplicate:o,redirectAfterDuplicate:n=!0,singularLabel:r})=>{let s=hH(),i=ro(),{openModal:l}=ce(),a=we(),{setModified:c}=ke(),{startRouteTransition:u}=Ue(),{config:{routes:{admin:d,api:f},serverURL:m},getEntityConfig:h}=H(),p=h({collectionSlug:e}),[g,b]=dF.useState(!1),{i18n:x,t:v}=L(),C=`duplicate-${t}`,y=mF(async()=>{b(!0),await Je.post(`${m}${f}/${e}/${t}/duplicate${a?.code?`?locale=${a.code}`:""}`,{body:JSON.stringify({}),headers:{"Accept-Language":x.language,"Content-Type":"application/json",credentials:"include"}}).then(async w=>{let{doc:_,errors:D,message:R}=await w.json();if(w.status<400){if(ue.success(R||v("general:successfullyDuplicated",{label:uF(r,x)})),c(!1),n)return u(()=>s.push(gH({adminRoute:d,path:`/collections/${e}/${_.id}${a?.code?`?locale=${a.code}`:""}`})));typeof o=="function"&&o({collectionConfig:p,doc:_})}else ue.error(D?.[0].message||R||v("error:unspecific",{label:uF(r,x)}))})},[a,m,f,e,t,x,v,r,o,n,c,s,d,p,u]),S=mF(async()=>{b(!1),await y()},[y]);return pH(dF.Fragment,{children:[cF(Ce.Button,{id:"action-duplicate",onClick:()=>i?(b(!0),l(C)):y(),children:v("general:duplicate")}),g&&cF(gt,{body:v("general:unsavedChangesDuplicate"),confirmLabel:v("general:duplicateWithoutSaving"),heading:v("general:unsavedChanges"),modalSlug:C,onConfirm:S})]})};import{jsx as gF}from"react/jsx-runtime";import"react";import{jsx as sd,jsxs as bH}from"react/jsx-runtime";import{Fragment as pF}from"react";var hF=({active:t=!0,className:e})=>sd("svg",{className:[e,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:t?sd(pF,{children:sd("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):bH(pF,{children:[sd("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),sd("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})});var bF="live-preview-toggler",vF=()=>{let{isLivePreviewing:t,setIsLivePreviewing:e}=yo(),{t:o}=L();return gF("button",{"aria-label":o(t?"general:exitLivePreview":"general:livePreview"),className:[bF,t&&`${bF}--active`].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{e(!t)},title:o(t?"general:exitLivePreview":"general:livePreview"),type:"button",children:gF(hF,{active:t})})};import{c as xH}from"react/compiler-runtime";import{jsx as yF,jsxs as CH}from"react/jsx-runtime";import{useState as yH}from"react";import{jsx as xF,jsxs as vH}from"react/jsx-runtime";import"react";var CF=({className:t})=>vH("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[xF("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),xF("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]});var wF="locked",id=t=>{let e=xH(8),{className:o,user:n}=t,[r,s]=yH(!1),{t:i}=L(),l=$p(n)?n.email??n.id:i("general:anotherUser"),a;e[0]!==o?(a=[wF,o].filter(Boolean),e[0]=o,e[1]=a):a=e[1];let c=a.join(" "),u,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),d=()=>s(!1),e[2]=u,e[3]=d):(u=e[2],d=e[3]);let f=`${l} ${i("general:isEditing")}`,m;return e[4]!==r||e[5]!==c||e[6]!==f?(m=CH("div",{className:c,onMouseEnter:u,onMouseLeave:d,role:"button",tabIndex:0,children:[yF(So,{alignCaret:"left",className:`${wF}__tooltip`,position:"top",show:r,children:f}),yF(CF,{})]}),e[4]=r,e[5]=c,e[6]=f,e[7]=m):m=e[7],m};import{c as IH}from"react/compiler-runtime";import{jsx as FF}from"react/jsx-runtime";import"react";import{jsx as SF}from"react/jsx-runtime";import"react";var ad=t=>{let{className:e}=t;return SF("svg",{className:[e,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:SF("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};import*as _F from"qs-esm";import{useCallback as wH,useRef as SH,useState as IF}from"react";var DF=()=>{let{id:t,collectionSlug:e,globalSlug:o,versionCount:n}=Re(),[r,s]=IF(!1),[i,l]=IF(""),{code:a}=we(),c=n>0,{config:{routes:{api:u},serverURL:d}}=H(),{t:f}=L(),m=SH(!1);return{generatePreviewURL:wH(async({openPreviewWindow:p=!1})=>{if(!m.current){m.current=!0;try{s(!0);let g=`${d}${u}`;e&&(g=`${g}/${e}/${t}/preview`),o&&(g=`${g}/globals/${o}/preview`);let x=await fetch(`${g}?${_F.stringify({draft:c?"true":"false",locale:a||void 0})}`);if(!x.ok)throw new Error;let v=await x.json();if(!v)throw new Error;l(v),s(!1),m.current=!1,p&&window.open(v,"_blank")}catch{s(!1),m.current=!1,ue.error(f("error:previewing"))}}},[d,u,e,o,c,a,t,f]),isLoading:r,label:f(r?"general:loading":"version:preview"),previewURL:i}};var _H="preview-btn";function f0(t){let e=IH(5),{generatePreviewURL:o,label:n}=DF(),r;e[0]!==o?(r=()=>{o({openPreviewWindow:!0})},e[0]=o,e[1]=r):r=e[1];let s;return e[2]!==n||e[3]!==r?(s=FF("button",{"aria-label":n,className:_H,id:"preview-button",onClick:r,title:n,type:"button",children:FF(ad,{})}),e[2]=n,e[3]=r,e[4]=s):s=e[4],s}import{jsx as Tl,jsxs as NF}from"react/jsx-runtime";import*as LF from"qs-esm";import h0,{useCallback as g0}from"react";import{jsx as Kt,jsxs as ia}from"react/jsx-runtime";import{getTranslation as RH}from"@payloadcms/translations";import*as AF from"qs-esm";import Ho,{useCallback as PH,useMemo as AH}from"react";import{jsx as ei,jsxs as DH}from"react/jsx-runtime";import"react";var TF="table",p0=({appearance:t,columns:e,data:o})=>{let n=e?.filter(r=>r?.active);return!n||n.length===0?ei("div",{children:"No columns selected"}):ei("div",{className:[TF,t&&`${TF}--appearance-${t}`].filter(Boolean).join(" "),children:DH("table",{cellPadding:"0",cellSpacing:"0",children:[ei("thead",{children:ei("tr",{children:n.map((r,s)=>ei("th",{id:`heading-${r.accessor.replace(/\./g,"__")}`,children:r.Heading},s))})}),ei("tbody",{children:o&&o.map((r,s)=>ei("tr",{className:`row-${s+1}`,children:n.map((i,l)=>{let{accessor:a}=i;return ei("td",{className:`cell-${a.replace(/\./g,"__")}`,children:i.renderedCells[s]},l)})},typeof r.id=="string"||typeof r.id=="number"?String(r.id):s))})]})})};import{jsx as _n,jsxs as FH}from"react/jsx-runtime";import{getTranslation as TH}from"@payloadcms/translations";import"react";var RF=({dateFormat:t,deleteHandler:e,docs:o,i18n:n,localization:r,supportedTimezones:s,t:i})=>{let l=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:_n("span",{children:i("version:type")}),renderedCells:o.map(a=>{let c=a.input?.type;return FH(mt,{pillStyle:c==="publish"?"success":"warning",size:"small",children:[c==="publish"&&i("version:publish"),c==="unpublish"&&i("version:unpublish")]},a.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:_n("span",{children:i("general:time")}),renderedCells:o.map(a=>_n("span",{children:Rr({date:a.waitUntil,i18n:n,pattern:t,timezone:a.input.timezone})},a.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:_n("span",{children:i("general:timezone")}),renderedCells:o.map(a=>{let u=s.find(d=>d.value===a.input.timezone)?.label||a.input.timezone;return _n("span",{children:u||i("general:noValue")},a.id)})}];return r&&l.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:_n("span",{children:i("general:locale")}),renderedCells:o.map(a=>{if(a.input.locale){let c=r.locales.find(u=>u.code===a.input.locale);if(c)return _n("span",{children:TH(c.label,n)},a.id)}return _n("span",{children:i("general:all")},a.id)})}),l.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:_n("span",{children:i("general:delete")}),renderedCells:o.map(a=>_n(se,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:c=>{c.preventDefault(),e(a.id)},tooltip:i("general:delete")},a.id))}),l};var Fl="schedule-publish",PF={label:"All",value:"all"},EF=({slug:t,defaultType:e,schedulePublishConfig:o})=>{let{toggleModal:n}=ce(),{config:{admin:{dateFormat:r,timezones:{defaultTimezone:s,supportedTimezones:i}},localization:l,routes:{api:a},serverURL:c}}=H(),{id:u,collectionSlug:d,globalSlug:f}=Re(),{title:m}=cr(),{i18n:h,t:p}=L(),{schedulePublish:g}=Rt(),[b,x]=Ho.useState(e||"publish"),[v,C]=Ho.useState(),[y,S]=Ho.useState(s),[w,_]=Ho.useState(PF),[D,R]=Ho.useState(!1),T=p("general:schedulePublishFor",{title:m}),[I,F]=Ho.useState(),[P,A]=Ho.useState(),k=Ho.useRef(()=>null),$=Intl.DateTimeFormat().resolvedOptions().timeZone,j=Ho.useMemo(()=>{if(l){let V=l.locales.map(({code:G,label:z})=>({label:RH(z,h),value:G}));return V.unshift(PF),V}return[]},[l,h]),N=Ho.useCallback(async()=>{let V={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};d&&(V.where.and.push({"input.doc.value":{equals:String(u)}}),V.where.and.push({"input.doc.relationTo":{equals:d}})),f&&V.where.and.push({"input.global":{equals:f}});let{docs:G}=await Je.post(`${c}${a}/payload-jobs`,{body:AF.stringify(V),headers:{"Accept-Language":h.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(z=>z.json());A(RF({dateFormat:r,deleteHandler:k.current,docs:G,i18n:h,localization:l,supportedTimezones:i,t:p})),F(G)},[d,f,c,a,h,r,l,i,p,u]),E=Ho.useCallback(async V=>{try{await g({deleteID:V}),await N(),ue.success(p("general:deletedSuccessfully"))}catch(G){console.error(G),ue.error(G.message)}},[N,g,p]);Ho.useEffect(()=>{k.current=E},[E]);let O=Ho.useCallback(async()=>{if(!v)return ue.error(p("general:noDateSelected"));R(!0);let V;typeof w=="object"&&w.value!=="all"&&b==="publish"&&(V=w.value);try{await g({type:b,date:v,doc:d?{relationTo:d,value:String(u)}:void 0,global:f||void 0,locale:V,timezone:y}),C(void 0),ue.success(p("version:scheduledSuccessfully")),N()}catch(G){console.error(G),ue.error(G.message)}R(!1)},[v,w,b,p,g,d,u,f,y,N]),M=AH(()=>{if(y&&$&&v){let V=Yt.tz(y),G=Yt.tz($),z=new Yt(v).withTimeZone(y),U=Yr(z,V);return Yr(U,G).toISOString()}return v},[y,v,$]),B=PH(V=>{if(y&&V){let G=Yt.tz(y),z=new Yt(V),U=Yr(z,G);C(U||null)}else C(V||null)},[C,y]);return Ho.useEffect(()=>{I||(async()=>await N())()},[I,N]),ia(Nt,{className:Fl,gutter:!1,Header:ia("div",{className:`${Fl}__drawer-header`,children:[Kt("h2",{title:T,children:T}),Kt(Qf,{onClick:()=>n(t)})]}),slug:t,children:[ia(go,{className:`${Fl}__scheduler`,children:[Kt(Se,{label:p("version:type"),required:!0}),ia("ul",{className:`${Fl}__type`,children:[Kt("li",{children:Kt(lu,{id:`${t}-type`,isSelected:b==="publish",onChange:()=>x("publish"),option:{label:p("version:publish"),value:"publish"},path:`${t}-type`,readOnly:D})}),Kt("li",{children:Kt(lu,{id:`${t}-type`,isSelected:b==="unpublish",onChange:()=>x("unpublish"),option:{label:p("version:unpublish"),value:"unpublish"},path:`${t}-type`,readOnly:D})})]}),Kt("br",{}),Kt(Se,{label:p("general:time"),path:"time",required:!0}),Kt(Na,{id:"time",minDate:new Date,onChange:V=>B(V),pickerAppearance:"dayAndTime",readOnly:D,timeFormat:o?.timeFormat,timeIntervals:o?.timeIntervals??5,value:M}),i.length>0&&Kt(Uc,{id:"timezone-picker",onChange:S,options:i,selectedTimezone:y}),Kt("br",{}),j.length>0&&b==="publish"&&ia(Ho.Fragment,{children:[Kt(Se,{label:p("localization:localeToPublish")}),Kt(pt,{onChange:V=>_(V),options:j,value:w}),Kt("br",{})]}),ia("div",{className:`${Fl}__actions`,children:[Kt(se,{buttonStyle:"primary",disabled:D,id:"scheduled-publish-save",onClick:O,type:"button",children:p("general:save")}),D?Kt("span",{children:p("general:saving")}):null]})]}),ia(go,{className:`${Fl}__upcoming`,children:[Kt("h4",{children:p("general:upcomingEvents")}),!I&&Kt(yt,{}),I?.length===0&&Kt(Hr,{type:"info",children:p("general:noUpcomingEventsScheduled")}),I?.length>0&&Kt(p0,{appearance:"condensed",columns:P,data:I})]})]})};function b0({label:t}){let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,hasPublishedDoc:s,hasPublishPermission:i,setHasPublishedDoc:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c,unpublishedVersionCount:u,uploadStatus:d}=Re(),{config:f,getEntityConfig:m}=H(),{submit:h}=ke(),p=ro(),g=ot(),{code:b}=we(),{isModalOpen:x,toggleModal:v}=ce(),C=`schedule-publish-${e}`,{localization:y,routes:{api:S},serverURL:w}=f,{t:_}=L(),D=t||_("version:publishChanges"),R=h0.useMemo(()=>{if(o)return m({collectionSlug:o});if(r)return m({globalSlug:r})},[o,r,m]),T=u>0,I=typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.schedulePublish,F=i&&(p||T||!s)&&d!=="uploading",P=!!I,A=!!(typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.autosave),k=!!(P&&i&&(r||o&&e)&&(A||!p)),j=ur()==="update"&&!p,N=g0(async()=>{if(j)return;let X=`?locale=${b}&depth=0&fallback-locale=null&draft=true`,Y,re="POST";o&&(Y=`${w}${S}/${o}${e?`/${e}`:""}${X}`,e&&(re="PATCH")),r&&(Y=`${w}${S}/globals/${r}${X}`),await h({action:Y,method:re,overrides:{_status:"draft"},skipValidation:!0})},[h,o,r,w,S,b,e,j]);oa({cmdCtrlKey:!0,editDepth:g,keyCodes:["s"]},X=>{X.preventDefault(),X.stopPropagation(),N&&n.versions?.drafts&&n.versions?.drafts?.autosave&&N()});let E=g0(()=>{d!=="uploading"&&(h({overrides:{_status:"published"}}),c(0),a(!1),l(!0))},[l,h,c,d,a]),O=g0(X=>{if(d==="uploading")return;let Y=LF.stringify({publishSpecificLocale:X}),re=`${w}${S}${r?`/globals/${r}`:`/${o}/${e?`${"/"+e}`:""}`}${Y?"?"+Y:""}`;h({action:re,overrides:{_status:"published"}}),l(!0)},[S,o,r,e,w,l,h,d]),M=!y||y&&y.defaultLocalePublishOption!=="active",B=y&&y?.locales.find(X=>typeof X=="string"?X===b:X.code===b),V=B&&(typeof B.label=="string"?B.label:B.label?.[b]??void 0),G=M?E:()=>O(B.code),z=M?D:_("version:publishIn",{locale:V}),U=M?()=>O(B.code):E,oe=M?_("version:publishIn",{locale:V}):_("version:publishAllLocales");return i?NF(h0.Fragment,{children:[Tl(vr,{buttonId:"action-save",disabled:!F,enableSubMenu:k,onClick:G,size:"medium",SubMenuPopupContent:y||k?({close:X})=>NF(h0.Fragment,{children:[k&&Tl(Ce.ButtonGroup,{children:Tl(Ce.Button,{id:"schedule-publish",onClick:()=>[v(C),X()],children:_("version:schedulePublish")})},"schedule-publish"),y&&F&&Tl(Ce.ButtonGroup,{children:Tl(Ce.Button,{id:"publish-locale",onClick:U,children:oe})})]}):void 0,type:"button",children:y?z:D}),k&&x(C)&&Tl(EF,{defaultType:T?"publish":"unpublish",schedulePublishConfig:typeof I=="object"&&I,slug:C})]}):null}import{jsx as EH}from"react/jsx-runtime";import{useRef as NH}from"react";function v0({label:t}){let{uploadStatus:e}=Re(),{t:o}=L(),{submit:n}=ke(),r=ro(),s=t||o("general:save"),i=NH(null),l=ot(),c=ur()==="update"&&!r||e==="uploading";return oa({cmdCtrlKey:!0,editDepth:l,keyCodes:["s"]},d=>{d.preventDefault(),d.stopPropagation(),i?.current&&i.current.click()}),EH(vr,{buttonId:"action-save",disabled:c,onClick:()=>{if(e!=="uploading")return void n()},ref:i,size:"medium",type:"button",children:s})}import{jsx as LH}from"react/jsx-runtime";import{useCallback as $H,useRef as kH}from"react";var jH="save-draft";function x0(t){let{config:{routes:{api:e},serverURL:o}}=H(),{id:n,collectionSlug:r,globalSlug:s,setUnpublishedVersionCount:i,uploadStatus:l}=Re(),a=ro(),{code:c}=we(),u=kH(null),d=ot(),{t:f}=L(),{submit:m}=ke(),p=ur()==="update"&&!a||l==="uploading",g=$H(async()=>{if(p)return;let b=`?locale=${c}&depth=0&fallback-locale=null&draft=true`,x,v="POST";r&&(x=`${o}${e}/${r}${n?`/${n}`:""}${b}`,n&&(v="PATCH")),s&&(x=`${o}${e}/globals/${s}${b}`),await m({action:x,method:v,overrides:{_status:"draft"},skipValidation:!0}),i(C=>C+1)},[m,r,s,o,e,c,n,p,i]);return oa({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},b=>{b.preventDefault(),b.stopPropagation(),u?.current&&u.current.click()}),LH(vr,{buttonId:"action-save-draft",buttonStyle:"secondary",className:jH,disabled:p,onClick:()=>void g(),ref:u,size:"medium",type:"button",children:f("version:saveDraft")})}import{jsx as Rl,jsxs as Jp}from"react/jsx-runtime";import $F,{useCallback as MH}from"react";var Pl="status",kF=()=>{let{id:t,collectionSlug:e,docPermissions:o,globalSlug:n,hasPublishedDoc:r,incrementVersionCount:s,setHasPublishedDoc:i,setMostRecentVersionIsAutosaved:l,setUnpublishedVersionCount:a,unpublishedVersionCount:c}=Re(),{toggleModal:u}=ce(),{config:{routes:{api:d},serverURL:f}}=H(),{reset:m}=ke(),{code:h}=we(),{i18n:p,t:g}=L(),b=`confirm-un-publish-${t}`,x=`confirm-revert-${t}`,v;c>0&&r?v="changed":r?r&&c<=0&&(v="published"):v="draft";let C=MH(async S=>{let w,_,D;S==="unpublish"&&(D={_status:"draft"}),e&&(w=`${f}${d}/${e}/${t}?locale=${h}&fallback-locale=null&depth=0`,_="patch"),n&&(w=`${f}${d}/globals/${n}?locale=${h}&fallback-locale=null&depth=0`,_="post"),S==="revert"&&(D=await Je.get(w,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}).then(I=>I.json()));let R=await Je[_](w,{body:JSON.stringify(D),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}});if(R.status===200){let T,I=await R.json();n?T=I.result:e&&(T=I.doc),m(T),ue.success(I.message),s(),l(!1),S==="unpublish"?i(!1):S==="revert"&&a(0)}else try{let T=await R.json();T.errors?.[0]?.message?ue.error(T.errors[0].message):T.error?ue.error(T.error):ue.error(g("error:unPublishingDocument"))}catch{ue.error(g("error:unPublishingDocument"))}},[d,e,n,t,p.language,s,h,m,f,a,l,g,i]),y=o?.update;return v?Rl("div",{className:Pl,title:`${g("version:status")}: ${g(`version:${v}`)}`,children:Jp("div",{className:`${Pl}__value-wrap`,children:[Jp("span",{className:`${Pl}__label`,children:[g("version:status"),":\xA0"]}),Rl("span",{className:`${Pl}__value`,children:g(`version:${v}`)}),y&&v==="published"&&Jp($F.Fragment,{children:["\xA0\u2014\xA0",Rl(se,{buttonStyle:"none",className:`${Pl}__action`,id:"action-unpublish",onClick:()=>u(b),children:g("version:unpublish")}),Rl(gt,{body:g("version:aboutToUnpublish"),confirmingLabel:g("version:unpublishing"),heading:g("version:confirmUnpublish"),modalSlug:b,onConfirm:()=>C("unpublish")})]}),y&&v==="changed"&&Jp($F.Fragment,{children:["\xA0\u2014\xA0",Rl(se,{buttonStyle:"none",className:`${Pl}__action`,id:"action-revert-to-published",onClick:()=>u(x),children:g("version:revertToPublished")}),Rl(gt,{body:g("version:aboutToRevertToPublished"),confirmingLabel:g("version:reverting"),heading:g("version:confirmRevertToSaved"),modalSlug:x,onConfirm:()=>C("revert")})]})]})}):null};var jt="doc-controls",y0=t=>{let e=BH(15),{id:o,slug:n,BeforeDocumentControls:r,customComponents:s,data:i,disableActions:l,disableCreate:a,EditMenuItems:c,hasSavePermission:u,isAccountView:d,isEditing:f,isInDrawer:m,onDelete:h,onDrawerCreateNew:p,onDuplicate:g,onTakeOver:b,permissions:x,readOnlyForIncomingUser:v,redirectAfterDelete:C,redirectAfterDuplicate:y,user:S}=t,w;e[0]!==s?(w=s===void 0?{}:s,e[0]=s,e[1]=w):w=e[1];let{PreviewButton:_,PublishButton:D,SaveButton:R,SaveDraftButton:T}=w,{i18n:I,t:F}=L(),P=ot(),{config:A,getEntityConfig:k}=H(),$=k({collectionSlug:n}),j=k({globalSlug:n}),{isLivePreviewEnabled:N}=yo(),{admin:E,localization:O,routes:M}=A,{dateFormat:B}=E,{admin:V}=M,[G,z]=C0.useState(""),[U,oe]=C0.useState(""),X=_r(),Y=ui(),re,W;e[2]!==i||e[3]!==B||e[4]!==I?(re=()=>{i?.updatedAt&&z(Rr({date:i.updatedAt,i18n:I,pattern:B})),i?.createdAt&&oe(Rr({date:i.createdAt,i18n:I,pattern:B}))},W=[i,I,B],e[2]=i,e[3]=B,e[4]=I,e[5]=re,e[6]=W):(re=e[5],W=e[6]),GH(re,W);let ee=x&&"create"in x&&x.create,ie=x&&"delete"in x&&x.delete,de=!!($&&o&&!l&&(ee||ie)),xe=!o&&$?.versions?.drafts&&$.versions?.drafts.validate,Q=$?.versions?.drafts,ae=j?.versions?.drafts,be=Q&&Q?.autosave||ae&&ae?.autosave,ye=Q&&Q?.autosave,J=ae&&ae?.autosave,pe=ye&&Q.autosave!==!1&&Q.autosave.showSaveDraftButton===!0||J&&ae.autosave!==!1&&ae.autosave.showSaveDraftButton===!0,te=O&&!$?.admin?.disableCopyToLocale,Z=$&&$.folders,le=S&&v,K;e[7]!==m||e[8]!==N?(K=N&&!m&&st(vF,{}),e[7]=m,e[8]=N,e[9]=K):K=e[9];let he;return e[10]!==b||e[11]!==v||e[12]!==F||e[13]!==S?(he=S&&v&&st(se,{buttonStyle:"secondary",id:"take-over",onClick:b,size:"medium",type:"button",children:F("general:takeOver")}),e[10]=b,e[11]=v,e[12]=F,e[13]=S,e[14]=he):he=e[14],To(go,{className:jt,children:[To("div",{className:`${jt}__wrapper`,children:[To("div",{className:`${jt}__content`,children:[le||Z?To("div",{className:`${jt}__meta-icons`,children:[le&&st(id,{className:`${jt}__locked-controls`,user:S}),Z&&A.folders&&st(Ru,{folderCollectionSlug:A.folders.slug,folderFieldName:A.folders.fieldName})]}):null,To("ul",{className:`${jt}__meta`,children:[$&&!f&&!d&&st("li",{className:`${jt}__list-item`,children:st("p",{className:`${jt}__value`,children:I.t("general:creatingNewLabel",{label:OH($?.labels?.singular??I.t("general:document"),I)})})}),($?.versions?.drafts||j?.versions?.drafts)&&To(ld,{children:[(j||$&&f)&&st("li",{className:[`${jt}__status`,`${jt}__list-item`].filter(Boolean).join(" "),children:st(kF,{})}),u&&be&&!xe&&st("li",{className:`${jt}__list-item`,children:st(sF,{collection:$,global:j,id:o,publishedDocUpdatedAt:i?.createdAt})})]}),$?.timestamps&&(f||d)&&To(ld,{children:[To("li",{className:[`${jt}__list-item`,`${jt}__value-wrap`].filter(Boolean).join(" "),title:i?.updatedAt?G:"",children:[To("p",{className:`${jt}__label`,children:[I.t("general:lastModified"),":\xA0"]}),i?.updatedAt&&st("p",{className:`${jt}__value`,children:G})]}),To("li",{className:[`${jt}__list-item`,`${jt}__value-wrap`].filter(Boolean).join(" "),title:i?.createdAt?U:"",children:[To("p",{className:`${jt}__label`,children:[I.t("general:created"),":\xA0"]}),i?.createdAt&&st("p",{className:`${jt}__value`,children:U})]})]})]})]}),To("div",{className:`${jt}__controls-wrapper`,children:[To("div",{className:`${jt}__controls`,children:[r,K,($?.admin.preview||j?.admin.preview)&&st(me,{CustomComponent:_,Fallback:st(f0,{})}),u&&st(ld,{children:$?.versions?.drafts||j?.versions?.drafts?To(ld,{children:[(xe||!be||be&&pe)&&st(me,{CustomComponent:T,Fallback:st(x0,{})}),st(me,{CustomComponent:D,Fallback:st(b0,{})})]}):st(me,{CustomComponent:R,Fallback:st(v0,{})})}),he]}),de&&!v&&st(ut,{button:To("div",{className:`${jt}__dots`,children:[st("div",{}),st("div",{}),st("div",{})]}),className:`${jt}__popup`,disabled:Y||X,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:To(Ce.ButtonGroup,{children:[te&&st(n0,{}),ee&&To(C0.Fragment,{children:[!a&&st(ld,{children:P>1?st(Ce.Button,{id:"action-create",onClick:p,children:I.t("general:createNew")}):st(Ce.Button,{href:VH({adminRoute:V,path:`/collections/${$?.slug}/create`}),id:"action-create",children:I.t("general:createNew")})}),$.disableDuplicate!==!0&&f&&st(fF,{id:o.toString(),onDuplicate:g,redirectAfterDuplicate:y,singularLabel:$?.labels?.singular,slug:$?.slug})]}),ie&&st(lF,{buttonId:"action-delete",collectionSlug:$?.slug,id:o.toString(),onDelete:h,redirectAfterDelete:C,singularLabel:$?.labels?.singular,useAsTitle:$?.admin?.useAsTitle}),c]})})]})]}),st("div",{className:`${jt}__divider`})]})};import{jsx as OF}from"react/jsx-runtime";import"react";var jF=/^<(?<name>[^\s/>]+)[^>]*>$/,MF=/^<(?<isEnd>\/)?(?<name>[^\s>]+)[^>]*>$/,w0=/^<[^>]+>/,zH=/^<img[^>]*>$/,BF=/^<video[^>]*>.*?<\/video>$/ms,qp=class{config;leastCommonLength=1/0;matchedBlockList=[];newTokens=[];oldTokens=[];operationList=[];sideBySideContents;unifiedContent;constructor(e,o,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:r=1e3,greedyMatch:s=!0,minMatchedSize:i=2,tokenizeByCharacter:l=!1}={}){if(this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:r,greedyMatch:s,minMatchedSize:i},e=e.trim(),o=o.trim(),e===o){this.unifiedContent=e;let c=0,u=e.replace(/<([^\s/>]+)[^>]*>/g,(d,f)=>{let m=f.length+1;return`${d.slice(0,m)} data-seq="${++c}"${d.slice(m)}`});this.sideBySideContents=[u,u];return}let a=l?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=a(e),this.newTokens=a(o),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}computeBestMatchedBlock(e,o,n,r){let s=null;for(let i=e;i<o;i++){let l=Math.min(o-i,r-n),a=this.slideBestMatchedBlock(i,n,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}for(let i=n;i<r;i++){let l=Math.min(o-e,r-i),a=this.slideBestMatchedBlock(e,i,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}return s}computeMatchedBlockList(e,o,n,r,s=[]){let i=this.computeBestMatchedBlock(e,o,n,r);return i?(e<i.oldStart&&n<i.newStart&&this.computeMatchedBlockList(e,i.oldStart,n,i.newStart,s),s.push(i),o>i.oldEnd&&r>i.newEnd&&this.computeMatchedBlockList(i.oldEnd,o,i.newEnd,r,s),s):[]}dressUpBlockTag(e,o){return e==="create"?`<div class="${this.config.classNames.createBlock}">${o}</div>`:e==="delete"?`<div class="${this.config.classNames.deleteBlock}">${o}</div>`:""}dressUpDiffContent(e,o){let n=o.length;if(!n)return"";let r="",s=0,i=-1;for(let l of o){i++;let a=l.includes('data-enable-match="true"'),c=l.includes('data-enable-match="false"'),u=!!l.match(w0)?.length;if(c)s=i+1,r+=l;else if(!a&&u)i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1,l.match(BF)?r+=this.dressUpBlockTag(e,l):r+=l;else if(a&&u){i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1;let d=this.dressupMatchEnabledHtmlTag(e,l);r+=d}}return s<n&&(r+=this.dressUpText(e,o.slice(s))),r}dressUpInlineTag(e,o){return e==="create"?`<span class="${this.config.classNames.createInline}">${o}</span>`:e==="delete"?`<span class="${this.config.classNames.deleteInline}">${o}</span>`:""}dressupMatchEnabledHtmlTag(e,o){let n=o.match(jF)?.groups?.name;if(!n)return o;let r=n.length+1,s=e==="create"?"create":"delete";return`${o.slice(0,r)} data-match-type="${s}"${o.slice(r,o.length)}`}dressUpText(e,o){let n=o.join("");return n.trim()?e==="create"?`<span data-match-type="create">${n}</span>`:e==="delete"?`<span data-match-type="delete">${n}</span>`:"":""}getMatchedBlockList(){let e=this.oldTokens.length,o=this.newTokens.length,n=null,r=0;for(;r<e&&r<o&&this.oldTokens[r]===this.newTokens[r];)r++;r>=this.config.minMatchedSize&&(n={newEnd:r,newStart:0,oldEnd:r,oldStart:0,size:r});let s=null,i=e-1,l=o-1;for(;r<=i&&r<=l&&this.oldTokens[i]===this.newTokens[l];)i--,l--;let a=e-1-i;a>=this.config.minMatchedSize&&(s={newEnd:o,newStart:l+1,oldEnd:e,oldStart:i+1,size:a});let c=n?r:0,u=s?i+1:e,d=n?r:0,f=s?l+1:o;if(this.config.greedyMatch){let h=Math.min(u-c,f-d);h>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(h/3))}let m=this.computeMatchedBlockList(c,u,d,f);return n&&m.unshift(n),s&&m.push(s),m}getOperationList(){let e=[],o=0,n=0;for(let c of this.matchedBlockList){let u=o===c.oldStart,d=n===c.newStart,f={newEnd:c.newStart,newStart:n,oldEnd:c.oldStart,oldStart:o};!u&&!d?e.push(Object.assign(f,{type:"replace"})):u&&!d?e.push(Object.assign(f,{type:"create"})):!u&&d&&e.push(Object.assign(f,{type:"delete"})),e.push({type:"equal",newEnd:c.newEnd,newStart:c.newStart,oldEnd:c.oldEnd,oldStart:c.oldStart}),o=c.oldEnd,n=c.newEnd}let r=this.oldTokens.length,s=this.newTokens.length,i={newEnd:s,newStart:n,oldEnd:r,oldStart:o},l=o===r,a=n===s;return!l&&!a?e.push(Object.assign(i,{type:"replace"})):l&&!a?e.push(Object.assign(i,{type:"create"})):!l&&a&&e.push(Object.assign(i,{type:"delete"})),e}slideBestMatchedBlock(e,o,n){let r=0,s=null,i=0;for(let l=0;l<n;l++)this.oldTokens[e+l]===this.newTokens[o+l]?i++:i=0,i>r&&(r=i,s={newEnd:o+l+1,newStart:o+l-i+1,oldEnd:e+l+1,oldStart:e+l-i+1,size:i});return r>=this.config.minMatchedSize?s:null}tokenizeByCharacter(e){let o=[],n=0,r=/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>/gs,s;for(;(s=r.exec(e))!==null;){let l=e.substring(n,s.index);if(l)for(let a of l)o.push(a);o.push(s[0]),n=s.index+s[0].length}let i=e.substring(n);for(let l of i)o.push(l);return o}tokenizeByWord(e){return e.match(/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>|\w+\b|\s+|[^<>\w]/gs)||[]}getSideBySideContents(){if(this.sideBySideContents!==void 0)return this.sideBySideContents;let e="",o="",n=0;this.operationList.forEach(s=>{switch(s.type){case"create":{o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}case"delete":{let i=this.oldTokens.slice(s.oldStart,s.oldEnd);e+=this.dressUpDiffContent("delete",i);break}case"equal":{let i=this.newTokens.slice(s.newStart,s.newEnd),l="";for(let a of i){let c=a.match(jF);if(c){n+=1;let u=(c?.groups?.name?.length??0)+1;l+=`${a.slice(0,u)} data-seq="${n}"${a.slice(u)}`}else l+=a}e+=l,o+=l;break}case"replace":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(s.oldStart,s.oldEnd)),o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}default:console.error("Richtext diff error - invalid operation: "+String(s.type))}});let r=[e,o];return this.sideBySideContents=r,r}getUnifiedContent(){if(this.unifiedContent!==void 0)return this.unifiedContent;let e="";return this.operationList.forEach(o=>{switch(o.type){case"create":{e+=this.dressUpDiffContent("create",this.newTokens.slice(o.newStart,o.newEnd));break}case"delete":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(o.oldStart,o.oldEnd));break}case"equal":{for(let n of this.newTokens.slice(o.newStart,o.newEnd))e+=n;break}case"replace":{let n=this.oldTokens.slice(o.oldStart,o.oldEnd),r=this.newTokens.slice(o.newStart,o.newEnd);if(n.length===1&&r.length===1&&n[0]?.match(w0)&&r[0]?.match(w0)){e+=r[0];break}let s=[],i=[],l=o.newStart;for(let a=o.oldStart;a<o.oldEnd;a++){let c=this.oldTokens[a];if(!c)continue;let u=c?.match(MF);if(u){if([zH,BF].some(f=>c?.match(f))){s.push(c);continue}e+=this.dressUpDiffContent("delete",s),s.splice(0);let d=!1;for(let f=l;f<o.newEnd;f++){let m=this.newTokens[f];if(!m)continue;let h=m?.match(MF);if(h&&h.groups?.name===u.groups?.name&&h.groups?.isEnd===u.groups?.isEnd){d=!0,e+=this.dressUpDiffContent("create",i),e+=m,i.splice(0),l=f+1;break}else i.push(m)}d||(e+=c,i.splice(0))}else s.push(c)}l<o.newEnd&&i.push(...this.newTokens.slice(l,o.newEnd)),e+=this.dressUpDiffContent("delete",s),e+=this.dressUpDiffContent("create",i);break}default:console.error("Richtext diff error - invalid operation: "+String(o.type))}}),this.unifiedContent=e,e}};var VF="html-diff",WH=({fromHTML:t,toHTML:e,tokenizeByCharacter:o})=>{let n=new qp(t,e,{tokenizeByCharacter:o}),[r,s]=n.getSideBySideContents(),i=r?OF("div",{className:`${VF}__diff-old html-diff`,dangerouslySetInnerHTML:{__html:r}}):null,l=s?OF("div",{className:`${VF}__diff-new html-diff`,dangerouslySetInnerHTML:{__html:s}}):null;return{From:i,To:l}};import{useEffect as JH}from"react";import{jsx as HH}from"react/jsx-runtime";import{createContext as UH,use as XH,useEffect as ZH,useRef as YH}from"react";var GF=UH(null),zF=({children:t})=>{let e=YH(new Set);return ZH(()=>{let r=s=>{e.current.forEach(({handler:i,ref:l})=>{l.current&&!l.current.contains(s.target)&&i()})};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),HH(GF,{value:{register:r=>e.current.add(r),unregister:r=>e.current.delete(r)},children:t})},S0=()=>{let t=XH(GF);if(!t)throw new Error("useClickOutside must be used within a ClickOutsideProvider");return t};function qH(t,e,o=!0){let{register:n,unregister:r}=S0();JH(()=>{if(!o||!t.current)return;let s={handler:e,ref:t};return n(s),()=>r(s)},[t,e,o,n,r])}import{c as YF}from"react/compiler-runtime";import{jsx as cd,jsxs as lU}from"react/jsx-runtime";import{useState as cU}from"react";import{c as _0}from"react/compiler-runtime";import{jsx as wo,jsxs as Qp}from"react/jsx-runtime";import{getTranslation as QH}from"@payloadcms/translations";import{useRouter as KH,useSearchParams as eU}from"next/navigation.js";import{combineWhereConstraints as tU,mergeListSearchAndWhere as oU,unflatten as WF}from"payload/shared";import*as I0 from"qs-esm";import HF,{useCallback as UF,useEffect as rU,useMemo as XF,useState as nU}from"react";var sU=t=>{let e=_0(7),{action:o,disabled:n}=t,{submit:r}=ke(),{t:s}=L(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=wo(vr,{className:`${Uo}__save`,disabled:n,onClick:l,children:s("general:save")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},iU=t=>{let e=_0(7),{action:o,disabled:n}=t,{submit:r}=ke(),{t:s}=L(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=wo(vr,{className:`${Uo}__publish`,disabled:n,onClick:l,children:s("version:publishChanges")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},aU=t=>{let e=_0(7),{action:o,disabled:n}=t,{submit:r}=ke(),{t:s}=L(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=wo(vr,{buttonStyle:"secondary",className:`${Uo}__draft`,disabled:n,onClick:l,children:s("version:saveDraft")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},ZF=t=>{let{collection:e,collection:{fields:o,labels:{plural:n,singular:r}}={},count:s,drawerSlug:i,ids:l,onSuccess:a,selectAll:c,selectedFields:u,setSelectedFields:d}=t,{permissions:f,user:m}=_e(),{code:h}=we(),{closeModal:p}=ce(),{config:{routes:{api:g},serverURL:b}}=H(),{getFormState:x}=Rt(),{i18n:v,t:C}=L(),[y,S]=nU(!1),w=KH(),_=HF.useRef(null),{clearRouteCache:D}=qt(),R=f?.collections?.[e.slug],T=eU(),I=XF(()=>WF(u.reduce(($,j)=>($[j.value.path]=!0,$),{})),[u]),F=UF(async({formState:$,submitted:j})=>{let N=hr(_),{state:E}=await x({collectionSlug:e.slug,docPermissions:R,docPreferences:null,formState:$,operation:"update",schemaPath:e.slug,select:I,signal:N.signal,skipValidation:!j});return _.current=null,E},[x,e,R,I]);rU(()=>{let $=_.current;return()=>{pr($)}},[]);let P=XF(()=>{let $=[],j=oU({collectionConfig:e,search:T.get("search")});return j&&$.push(j),c?$.push(fo(T)?.where||{id:{exists:!0}}):$.push({id:{in:l||[]}}),I0.stringify({locale:h,where:tU($)},{addQueryPrefix:!0})},[e,T,c,l,h]),A=()=>{w.replace(I0.stringify({...fo(T),page:c?"1":void 0},{addQueryPrefix:!0})),D(),p(i),typeof a=="function"&&a()},k=UF(async({dispatchFields:$,formState:j,selected:N})=>{S(!0),d(N||[]);let{state:E}=await x({collectionSlug:e.slug,docPermissions:R,docPreferences:null,formState:j,operation:"update",schemaPath:e.slug,select:WF(N.reduce((O,M)=>(O[M.value.path]=!0,O),{})),skipValidation:!0});$({type:"UPDATE_MANY",formState:E}),S(!1)},[x,e.slug,R,d]);return wo(gc,{collectionSlug:e.slug,currentEditor:m,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:wo(Em,{value:"update",children:Qp("div",{className:`${Uo}__main`,children:[Qp("div",{className:`${Uo}__header`,children:[wo("h2",{className:`${Uo}__header__title`,children:C("general:editingLabel",{count:s,label:QH(s>1?n:r,v)})}),wo("button",{"aria-label":C("general:close"),className:`${Uo}__header__close`,id:`close-drawer__${i}`,onClick:()=>p(i),type:"button",children:wo(ct,{})})]}),Qp(Kn,{className:`${Uo}__form`,isInitializing:y,onChange:[F],onSuccess:A,children:[wo(sp,{fields:o,onChange:k,permissions:R.fields}),u.length===0?null:wo("div",{className:"render-fields",children:u.map(($,j)=>{let{value:{field:N,fieldPermissions:E,path:O}}=$;return wo(fl,{clientFieldConfig:N,indexPath:"",parentPath:"",parentSchemaPath:"",path:O,permissions:E},`${O}-${j}`)})}),wo("div",{className:`${Uo}__sidebar-wrap`,children:wo("div",{className:`${Uo}__sidebar`,children:wo("div",{className:`${Uo}__sidebar-sticky-wrap`,children:wo("div",{className:`${Uo}__document-actions`,children:e?.versions?.drafts?Qp(HF.Fragment,{children:[wo(aU,{action:`${b}${g}/${e.slug}${P}&draft=true`,disabled:u.length===0}),wo(iU,{action:`${b}${g}/${e.slug}${P}&draft=true`,disabled:u.length===0})]}):wo(sU,{action:`${b}${g}/${e.slug}${P}`,disabled:u.length===0})})})})})]})]})})})};var Uo="edit-many",uU=t=>{let e=YF(8),{count:o,selectAll:n,selected:r,toggleAll:s}=Fo(),i;if(e[0]!==o||e[1]!==t||e[2]!==n||e[3]!==r||e[4]!==s){let l;e[6]!==s?(l=()=>s(!1),e[6]=s,e[7]=l):l=e[7],i=cd(ud,{...t,count:o,ids:Array.from(r.keys()),onSuccess:l,selectAll:n===ao.AllAvailable}),e[0]=o,e[1]=t,e[2]=n,e[3]=r,e[4]=s,e[5]=i}else i=e[5];return i},ud=t=>{let e=YF(15),{collection:o,count:n,ids:r,onSuccess:s,selectAll:i}=t,{permissions:l}=_e(),{openModal:a}=ce(),{t:c}=L(),u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[0]=u):u=e[0];let[d,f]=cU(u),m=l?.collections?.[o.slug],h=`edit-${o.slug}`;if(n===0||!m?.update)return null;let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=[Uo,`${Uo}__toggle`].filter(Boolean),e[1]=p):p=e[1];let g;if(e[2]!==o||e[3]!==n||e[4]!==h||e[5]!==r||e[6]!==s||e[7]!==a||e[8]!==i||e[9]!==d||e[10]!==c){let b;e[12]!==h||e[13]!==a?(b=()=>{a(h),f([])},e[12]=h,e[13]=a,e[14]=b):b=e[14],g=lU("div",{className:p.join(" "),children:[cd(Wo,{"aria-label":c("general:edit"),onClick:b,children:c("general:edit")}),cd(kn,{children:cd(Nt,{Header:null,slug:h,children:cd(ZF,{collection:o,count:n,drawerSlug:h,ids:r,onSuccess:s,selectAll:i,selectedFields:d,setSelectedFields:f})})})]}),e[2]=o,e[3]=n,e[4]=h,e[5]=r,e[6]=s,e[7]=a,e[8]=i,e[9]=d,e[10]=c,e[11]=g}else g=e[11];return g};import{c as dU}from"react/compiler-runtime";import{jsx as mU}from"react/jsx-runtime";import"react";function fU(t){let e=dU(6),o=ot(),n;e[0]!==t.style?(n=t.style||{},e[0]=t.style,e[1]=n):n=e[1];let r=`calc(100 + ${o||0} + 1)`,s;return e[2]!==t||e[3]!==n||e[4]!==r?(s=mU(ir,{...t,style:{...n,zIndex:r}}),e[2]=t,e[3]=n,e[4]=r,e[5]=s):s=e[5],s}import{c as pU}from"react/compiler-runtime";import{jsx as Kp,jsxs as hU}from"react/jsx-runtime";import gU from"react";function D0(t){let e=pU(12),{highlightField:o,setKey:n}=t,{id:r}=Re(),{toggleModal:s}=ce(),{t:i}=L(),l=`generate-confirmation-${r}`,a;e[0]!==o||e[1]!==n||e[2]!==i?(a=()=>{n(),ue.success(i("authentication:newAPIKeyGenerated")),o(!0)},e[0]=o,e[1]=n,e[2]=i,e[3]=a):a=e[3];let c=a,u;e[4]!==l||e[5]!==s?(u=()=>{s(l)},e[4]=l,e[5]=s,e[6]=u):u=e[6];let d;return e[7]!==c||e[8]!==l||e[9]!==i||e[10]!==u?(d=hU(gU.Fragment,{children:[Kp(se,{buttonStyle:"secondary",onClick:u,size:"small",children:i("authentication:generateNewAPIKey")}),Kp(gt,{body:Kp(er,{elements:{1:bU},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:i}),confirmLabel:i("authentication:generate"),heading:i("authentication:confirmGeneration"),modalSlug:l,onConfirm:c})]}),e[7]=c,e[8]=l,e[9]=i,e[10]=u,e[11]=d):d=e[11],d}function bU(t){let{children:e}=t;return Kp("strong",{children:e})}import{c as vU}from"react/compiler-runtime";import{useEffect as xU}from"react";function CU(t){let e=vU(4),{permissions:o}=t,{setPermissions:n}=_e(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[o,n],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),xU(r,s),null}import{jsx as lo,jsxs as nh}from"react/jsx-runtime";import{getTranslation as Ll}from"@payloadcms/translations";import{validateWhereQuery as tX}from"payload/shared";import oX,{Fragment as ET,useEffect as NT,useRef as LT,useState as rX}from"react";import{jsx as F0,jsxs as yU}from"react/jsx-runtime";import"react";var T0="dots",eh=({ariaLabel:t,className:e,noBackground:o,orientation:n="vertical"})=>yU("div",{"aria-label":t,className:[e,T0,o&&`${T0}--no-background`,n&&`${T0}--${n}`].filter(Boolean).join(" "),children:[F0("div",{}),F0("div",{}),F0("div",{})]});import{jsx as JF}from"react/jsx-runtime";import{useEffect as qF,useRef as QF,useState as wU}from"react";import{usePathname as SU}from"next/navigation.js";var KF="search-filter",dd=t=>{let{handleChange:e,initialParams:o,label:n,searchQueryParam:r}=t,s=o?.search||r,i=SU(),[l,a]=wU(typeof s=="string"?s:void 0),c=QF(!0),u=QF(typeof s=="string"?s:void 0),d=lr(l,300);return qF(()=>{s!==u.current&&(c.current=!1,a(s),u.current=s)},[s,i]),qF(()=>{d!==u.current&&c.current&&(e&&e(d),u.current=d)},[d,e]),JF("div",{className:KF,children:JF("input",{"aria-label":n,className:`${KF}__input`,id:"search-filter-input",onChange:f=>{c.current=!0,a(f.target.value)},placeholder:n,type:"text",value:l||""})})};import{jsx as ms,jsxs as gd}from"react/jsx-runtime";import{getTranslation as XU}from"@payloadcms/translations";import{transformWhereQuery as ZU,validateWhereQuery as xT}from"payload/shared";import oh,{useMemo as CT}from"react";import{jsx as us,jsxs as M0}from"react/jsx-runtime";import{useCallback as pT,useEffect as BU,useState as OU}from"react";import{jsx as md}from"react/jsx-runtime";import"react";import{jsx as eT}from"react/jsx-runtime";import"react";var IU="condition-value-date",R0=({disabled:t,field:{admin:e},onChange:o,value:n})=>{let{date:r}=e||{};return eT("div",{className:IU,children:eT(Na,{...r,onChange:o,readOnly:t,value:n})})};import{c as _U}from"react/compiler-runtime";import{jsx as tT}from"react/jsx-runtime";import oT from"react";var DU="condition-value-number",P0=t=>{let e=_U(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=L(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=oT.useState(d),h;e[4]!==u||e[5]!==r?(h=v=>{let C;v?u&&(Array.isArray(v)?C=v.map(FU):C=[Number(v.value?.value||v.value)]):C=[],r(C)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map(TU)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),oT.useEffect(g,b);let x;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==f?(x=u?tT(pt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,numberOnly:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:f||[]}):tT("input",{className:DU,disabled:o,onChange:v=>r(v.target.value),placeholder:a("general:enterAValue"),type:"number",value:i}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=f,e[17]=x):x=e[17],x};function FU(t){return Number(t.value?.value||t.value)}function TU(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}import{jsx as A0}from"react/jsx-runtime";import*as cT from"qs-esm";import iT,{useCallback as th,useEffect as aT,useReducer as PU,useState as E0}from"react";import{getTranslation as rT}from"@payloadcms/translations";var nT=t=>t.reduce((e,o)=>o.options?[...e,...nT(o.options)]:[...e,o.id],[]),RU=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,data:n,hasMultipleRelations:r,i18n:s,relation:i}=e,l=o.admin.useAsTitle||"id",a=nT(t);if(!r)return[...t,...n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],value:m.id}]):f,[])];let c=[...t],u=c.find(f=>f.label===rT(o.labels.plural,s)),d=n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],relationTo:i,value:m.id}]):f,[]);return u?u.options=[...u.options,...d]:c.push({label:rT(o.labels.plural,s),options:d,value:void 0}),c}case"CLEAR":return e.required?[]:[{label:e.i18n.t("general:none"),value:"null"}];default:return t}},sT=RU;var lT="condition-value-relationship",AU=10,N0=t=>{let{disabled:e,field:{admin:{isSortable:o,placeholder:n}={},hasMany:r,relationTo:s},filterOptions:i,onChange:l,value:a}=t,{config:{routes:{api:c},serverURL:u},getEntityConfig:d}=H(),f=Array.isArray(s),[m,h]=PU(sT,[]),[p,g]=E0(""),b=lr(p,300),[x,v]=E0(""),[C,y]=E0(!1),{i18n:S,t:w}=L(),_=we(),D=f?s:[s],R=iT.useRef(new Map(D.map(N=>[N,{hasLoadedAll:!1,nextPage:1}]))),T=th((N,E)=>{let O=d({collectionSlug:E});h({type:"ADD",collection:O,data:N,hasMultipleRelations:f,i18n:S,relation:E})},[f,S,d]),I=Gt(async({abortController:N,relationSlug:E})=>{let O=R.current.get(E);if(E&&!O.hasLoadedAll){let B=d({collectionSlug:E})?.admin?.useAsTitle||"id",V={and:[]},G={depth:0,limit:AU,locale:_.code,page:O.nextPage,select:{[B]:!0},where:V};i&&i?.[E]&&G.where.and.push(i[E]),b&&G.where.and.push({[B]:{like:b}});try{let z=await fetch(`${u}${c}/${E}${cT.stringify(G,{addQueryPrefix:!0})}`,{credentials:"include",headers:{"Accept-Language":S.language},signal:N.signal});if(z.ok){let U=await z.json();U.docs.length>0&&(T(U,E),U.nextPage?R.current.set(E,{hasLoadedAll:!1,nextPage:U.nextPage}):R.current.set(E,{hasLoadedAll:!0,nextPage:null}))}else v(w("error:unspecific"))}catch(z){N.signal.aborted||console.error(z)}}y(!0)}),F=iT.useCallback(()=>{let N=R.current.entries().next().value;if(N[0]&&!N[1].hasLoadedAll){let E=new AbortController;I({abortController:E,relationSlug:N[0]})}},[]),P=th(()=>{if(a){if(r)return Array.isArray(a)?a.map(N=>{if(f){let E;return m.forEach(O=>{O.options&&O.options.some(M=>M?.value==N.value?(E=M,!0):!1)}),E}return m.find(E=>E.value==N)}):void 0;if(f){let N,E=a;return m.forEach(O=>{O?.options&&O.options.some(M=>M?.value==E.value?(N=M,!0):!1)}),N}return m.find(N=>N.value==a)}},[r,f,a,m]),A=th(N=>{if(N!==p){h({type:"CLEAR",i18n:S,required:!1});let E=Array.isArray(s)?s:[s];R.current=new Map(E.map(O=>[O,{hasLoadedAll:!1,nextPage:1}])),g(N)}},[S,s,p]),k=th(async(N,E)=>{if(!x&&N!=="null"&&N&&E){let O=await fetch(`${u}${c}/${E}/${N}?depth=0`,{credentials:"include",headers:{"Accept-Language":S.language}});if(O.ok){let M=await O.json();T({docs:[M]},E)}else console.error(w("error:loadingDocument",{id:N}))}},[S,T,c,x,u,w]);aT(()=>{let N=Array.isArray(s)?s:[s];R.current=new Map(N.map(O=>[O,{hasLoadedAll:!1,nextPage:1}])),h({type:"CLEAR",i18n:S,required:!1}),y(!1);let E=[];return N.forEach(O=>{let M=new AbortController;I({abortController:M,relationSlug:O}),E.push(M)}),()=>{E.forEach(O=>{if(O.signal)try{O.abort()}catch{}})}},[S,s,b,i]),aT(()=>{if(a&&C){if(r)(P()||[]).forEach((E,O)=>{E||(f?k(a[O].value,a[O].relationTo):k(a[O],s))});else if(!P())if(f){let E=a;k(E.value,E.relationTo)}else k(a,s)}},[k,P,r,f,s,a,C]);let $=["field-type",lT,x&&"error-loading"].filter(Boolean).join(" "),j=P()||a;return A0("div",{className:$,children:x?A0("div",{className:`${lT}__error-loading`,children:x}):A0(pt,{disabled:e,isMulti:r,isSortable:o,onChange:N=>{if(!N){l(null);return}r&&Array.isArray(N)?l(N?N.map(E=>f?{relationTo:E?.relationTo,value:E?.value}:E?.value):null):f&&!Array.isArray(N)?l({relationTo:N?.relationTo,value:N?.value}):Array.isArray(N)||l(N?.value)},onInputChange:A,onMenuScrollToBottom:F,options:m,placeholder:n,value:j})})};import{c as EU}from"react/compiler-runtime";import{jsx as NU}from"react/jsx-runtime";import{getTranslation as L0}from"@payloadcms/translations";import $0 from"react";var k0=t=>{let e=EU(26),{disabled:o,field:n,isClearable:r,onChange:s,operator:i,options:l,value:a}=t,{admin:c}=n,{placeholder:u}=c,{i18n:d}=L(),f;e[0]!==l?(f=Hc(l),e[0]=l,e[1]=f):f=e[1];let[m,h]=$0.useState(f),p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=["in","not_in"],e[2]=p):p=e[2];let g=p.includes(i),b;if(g&&Array.isArray(a)){let D;e[3]!==d||e[4]!==m?(D=R=>{let T=m.find(I=>I.value===R);return{label:T?L0(T.label,d):R,value:T?.value??R}},e[3]=d,e[4]=m,e[5]=D):D=e[5],b=a.map(D)}else if(a){let D,R;if(e[6]!==d||e[7]!==m||e[8]!==a){let T;e[11]!==a?(T=I=>I.value===a,e[11]=a,e[12]=T):T=e[12],D=m.find(T),R=D?L0(D.label,d):a,e[6]=d,e[7]=m,e[8]=a,e[9]=D,e[10]=R}else D=e[9],R=e[10];b={label:R,value:D?.value??a}}let x;e[13]!==g||e[14]!==s?(x=D=>{let R;D?g?Array.isArray(D)?R=D.map(LU):R=[]:R=D.value:R=null,s(R)},e[13]=g,e[14]=s,e[15]=x):x=e[15];let v=x,C,y;e[16]!==l?(C=()=>{h(Hc(l))},y=[l],e[16]=l,e[17]=C,e[18]=y):(C=e[17],y=e[18]),$0.useEffect(C,y);let S,w;e[19]!==g||e[20]!==s||e[21]!==a?(S=()=>{!g&&Array.isArray(a)&&s(a[0])},w=[g,s,a],e[19]=g,e[20]=s,e[21]=a,e[22]=S,e[23]=w):(S=e[22],w=e[23]),$0.useEffect(S,w);let _;return e[24]!==d?(_=D=>({...D,label:L0(D.label,d)}),e[24]=d,e[25]=_):_=e[25],NU(pt,{disabled:o,isClearable:r,isMulti:g,onChange:v,options:m.map(_),placeholder:u,value:b})};function LU(t){return t.value}import{c as $U}from"react/compiler-runtime";import{jsx as uT}from"react/jsx-runtime";import dT from"react";var kU="condition-value-text",j0=t=>{let e=$U(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=L(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=dT.useState(d),h;e[4]!==u||e[5]!==r?(h=v=>{let C;v?u&&(Array.isArray(v)?C=v.map(jU):C=[v.value?.value||v.value]):C=[],r(C)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map(MU)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),dT.useEffect(g,b);let x;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==f?(x=u?uT(pt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:f||[]}):uT("input",{className:kU,disabled:o,onChange:v=>r(v.target.value),placeholder:a("general:enterAValue"),type:"text",value:i||""}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=f,e[17]=x):x=e[17],x};function jU(t){return t.value?.value||t.value}function MU(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}var mT=({booleanSelect:t,disabled:e,filterOptions:o,internalField:n,onChange:r,operator:s,options:i,value:l})=>{if(t||["radio","select"].includes(n?.field?.type))return md(k0,{disabled:e,field:n.field,isClearable:!t,onChange:r,operator:s,options:i,value:l});switch(n?.field?.type){case"date":return md(R0,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"number":return md(P0,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"relationship":return md(N0,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:l});default:return md(j0,{disabled:e,field:n?.field,onChange:r,operator:s,value:l})}};var fT=t=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:t==="date"?"object":"string",greater_than_equal:t==="date"?"object":"string",in:"any",intersects:"any",less_than:t==="date"?"object":"string",less_than_equal:t==="date"?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"});var ds="condition",hT=t=>{let{addCondition:e,andIndex:o,fieldName:n,filterOptions:r,operator:s,orIndex:i,reducedFields:l,removeCondition:a,RenderedFilter:c,updateCondition:u,value:d}=t,{t:f}=L(),m=l.find(w=>w.value===n),[h,p]=OU(d),g=lr(h,300),b=["exists"].includes(s)||m?.field?.type==="checkbox",x=[];b?x=[{label:f("general:true"),value:"true"},{label:f("general:false"),value:"false"}]:m?.field&&"options"in m.field&&(x=m.field.options);let v=Gt(async w=>{s&&await u({andIndex:o,field:m,operator:s,orIndex:i,value:w===null?"":w})});BU(()=>{v(g)},[g]);let C=!m?.value&&typeof m?.value!="number"||m?.field?.admin?.disableListFilter,y=pT(async w=>{p(void 0),await u({andIndex:o,field:l.find(_=>_.value===w.value),operator:s,orIndex:i,value:void 0})},[o,s,i,l,u]),S=pT(async w=>{let D=fT(m.field.type)[w.value]||"any",R=D==="any"||typeof d===D||D==="boolean"&&(d==="true"||d==="false");R||p(void 0),await u({andIndex:o,field:m,operator:w.value,orIndex:i,value:R?d:void 0})},[o,m,i,u,d]);return us("div",{className:ds,children:M0("div",{className:`${ds}__wrap`,children:[M0("div",{className:`${ds}__inputs`,children:[us("div",{className:`${ds}__field`,children:us(pt,{disabled:C,filterOption:(w,_)=>(w?.data?.plainTextLabel||w.label).toLowerCase().includes(_.toLowerCase()),isClearable:!1,onChange:y,options:l.filter(w=>!w.field.admin.disableListFilter),value:m||{value:m?.value}})}),us("div",{className:`${ds}__operator`,children:us(pt,{disabled:C,isClearable:!1,onChange:S,options:m?.operators,value:m?.operators.find(w=>s===w.value)||null})}),us("div",{className:`${ds}__value`,children:c||us(mT,{booleanSelect:b,disabled:!s||!m||m?.field?.admin?.disableListFilter,filterOptions:r,internalField:m,onChange:p,operator:s,options:x,value:h??""})})]}),M0("div",{className:`${ds}__actions`,children:[us(se,{buttonStyle:"icon-label",className:`${ds}__actions-remove`,icon:"x",iconStyle:"with-border",onClick:()=>a({andIndex:o,orIndex:i}),round:!0}),us(se,{buttonStyle:"icon-label",className:`${ds}__actions-add`,icon:"plus",iconStyle:"with-border",onClick:()=>e({andIndex:o+1,field:l.find(w=>!w.field.admin?.disableListFilter),orIndex:i,relation:"and"}),round:!0})]})]})})};var B0=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],O0=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],Cr=[...B0,...O0],gT=[...Cr,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],VU=[...B0,{label:"exists",value:"exists"},{label:"near",value:"near"}],bT={label:"within",value:"within"},vT={label:"intersects",value:"intersects"},fd={label:"isLike",value:"like"},pd={label:"isNotLike",value:"not_like"},Al={label:"contains",value:"contains"},GU={checkbox:{component:"Text",operators:B0},code:{component:"Text",operators:[...Cr,fd,pd,Al]},date:{component:"Date",operators:[...Cr,...gT]},email:{component:"Text",operators:[...Cr,Al]},json:{component:"Text",operators:[...Cr,fd,Al,pd,bT,vT]},number:{component:"Number",operators:[...Cr,...gT]},point:{component:"Point",operators:[...VU,bT,vT]},radio:{component:"Select",operators:[...Cr]},relationship:{component:"Relationship",operators:[...Cr]},richText:{component:"Text",operators:[...Cr,fd,pd,Al]},select:{component:"Select",operators:[...Cr]},text:{component:"Text",operators:[...Cr,fd,pd,Al]},textarea:{component:"Text",operators:[...Cr,fd,pd,Al]},upload:{component:"Text",operators:[...Cr]}},aa=GU;import{getTranslation as hd}from"@payloadcms/translations";import{fieldAffectsData as zU,fieldIsHiddenOrDisabled as WU,fieldIsID as HU,tabHasName as UU}from"payload/shared";var ti=({fields:t,i18n:e,labelPrefix:o,pathPrefix:n})=>t.reduce((r,s)=>{if(WU(s)&&!HU(s))return r;if(s.type==="tabs"&&"tabs"in s)return s.tabs.forEach(l=>{if(typeof l.label!="boolean"){let a=hd(l.label,e),c=o?o+" > "+a:a,u=UU(l)&&l.name?n?n+"."+l.name:l.name:n;typeof a=="string"&&r.push(...ti({fields:l.fields,i18n:e,labelPrefix:c,pathPrefix:u}))}}),r;if(s.type==="row"&&"fields"in s)return r.push(...ti({fields:s.fields,i18n:e,labelPrefix:o,pathPrefix:n})),r;if(s.type==="collapsible"&&"fields"in s){let i=hd(s.label||"",e),l=o?o+" > "+i:i;return r.push(...ti({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:n})),r}if(s.type==="group"&&"fields"in s){let i=hd(s.label||"",e),l=o?i?o+" > "+i:o:i;if(zU(s)){let a=s.name?n?n+"."+s.name:s.name:n;r.push(...ti({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:a}))}else r.push(...ti({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:n}));return r}if(s.type==="array"&&"fields"in s){let i=hd(s.label||"",e),l=o?i?o+" > "+i:o:i,a=s.name?n?n+"."+s.name:s.name:n;return r.push(...ti({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:a})),r}if(typeof aa[s.type]=="object"){let i=new Set,a=("hasMany"in s&&s.hasMany?O0:aa[s.type].operators).reduce((m,h)=>{if(!i.has(h.value)){i.add(h.value);let p=`operators:${h.label}`;m.push({...h,label:e.t(p)})}return m},[]),c=hd(s.label||"",e),u=o?Iu({field:s,prefix:o}):c,d=n?ml(n,s):s.name,f={label:u,plainTextLabel:`${o?o+" > ":""}${c}`,value:d,...aa[s.type],field:s,operators:a};return r.push(f),r}return r},[]);var Dn="where-builder",yT=t=>{let{collectionPluralLabel:e,fields:o,renderedFilters:n,resolvedFilterOptions:r}=t,{i18n:s,t:i}=L(),l=CT(()=>ti({fields:o,i18n:s}),[o,s]),{handleWhereChange:a,query:c}=Lt(),u=CT(()=>{let h=c.where;if(h){if(xT(h))return h.or;let p=ZU(h);if(xT(p))return p.or;console.warn(`Invalid where query in URL: ${JSON.stringify(h)}`)}return[]},[c.where]),d=oh.useCallback(async({andIndex:h,field:p,orIndex:g,relation:b})=>{let x=[...u],v=aa[p.field.type].operators[0].value;b==="and"?x[g].and.splice(h,0,{[String(p.value)]:{[v]:void 0}}):x.push({and:[{[String(p.value)]:{[v]:void 0}}]}),await a({or:x})},[u,a]),f=oh.useCallback(async({andIndex:h,field:p,operator:g,orIndex:b,value:x})=>{let v=u[b].and[h],C=aa[p.field.type],y=g||C.operators[0].value;if(typeof v=="object"&&p.value){let S=x??v?.[y],w=S!==v?.[String(p.value)]?.[String(y)],_=y!==Object.keys(v?.[String(p.value)]||{})?.[0];if(w||_){let D={[String(p.value)]:{[y]:S}},R=[...u];R[b].and[h]=D,await a({or:R})}}},[u,a]),m=oh.useCallback(async({andIndex:h,orIndex:p})=>{let g=[...u];g[p].and.splice(h,1),g[p].and.length===0&&g.splice(p,1),await a({or:g})},[u,a]);return gd("div",{className:Dn,children:[u.length>0&&gd(oh.Fragment,{children:[ms("div",{className:`${Dn}__label`,children:i("general:filterWhere",{label:XU(e,s)})}),ms("ul",{className:`${Dn}__or-filters`,children:u.map((h,p)=>{let g=`${p}_${Array.isArray(h?.and)?h.and.length:""}`;return gd("li",{children:[p!==0&&ms("div",{className:`${Dn}__label`,children:i("general:or")}),ms("ul",{className:`${Dn}__and-filters`,children:Array.isArray(h?.and)&&h.and.map((b,x)=>{let v=u[p].and[x],C=Object.keys(v)[0],y=Object.keys(v?.[C]||{})?.[0]||void 0,S=v?.[C]?.[y]||void 0;return gd("li",{children:[x!==0&&ms("div",{className:`${Dn}__label`,children:i("general:and")}),ms(hT,{addCondition:d,andIndex:x,fieldName:C,filterOptions:r?.get(C),operator:y,orIndex:p,reducedFields:l,removeCondition:m,RenderedFilter:n?.get(C),updateCondition:f,value:S})]},x)})})]},g)})}),ms(se,{buttonStyle:"icon-label",className:`${Dn}__add-or`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await d({andIndex:0,field:l.find(h=>!h.field.admin?.disableListFilter),orIndex:u.length,relation:"or"})},children:i("general:or")})]}),u.length===0&&gd("div",{className:`${Dn}__no-filters`,children:[ms("div",{className:`${Dn}__label`,children:i("general:noFiltersSet")}),ms(se,{buttonStyle:"icon-label",className:`${Dn}__add-first-filter`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{l.length>0&&await d({andIndex:0,field:l.find(h=>!h.field.admin?.disableListFilter),orIndex:u.length,relation:"or"})},children:i("general:addFilter")})]})]})};import{c as YU}from"react/compiler-runtime";import{jsx as bd,jsxs as JU}from"react/jsx-runtime";import{getTranslation as qU}from"@payloadcms/translations";import{jsx as wT}from"react/jsx-runtime";import"react";var ST=({className:t})=>wT("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:wT("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})});var El="active-query-preset";function IT(t){let e=YU(44),{activePreset:o,openPresetListDrawer:n,resetPreset:r}=t,{i18n:s,t:i}=L(),{getEntityConfig:l}=H(),a,c,u,d,f,m,h,p,g,b,x,v,C,y,S;if(e[0]!==o||e[1]!==l||e[2]!==s||e[3]!==n||e[4]!==i){let _=l({collectionSlug:"payload-query-presets"});m=JU,h=mt;let D=o&&`${El}--active`,R;e[20]!==D?(R=[El,D].filter(Boolean),e[20]=D,e[21]=R):R=e[21],S=R.join(" "),c="select-preset",e[22]!==n?(u=()=>{n()},e[22]=n,e[23]=u):u=e[23],d=o?"always-white":"light",f="small",e[24]!==o?.isShared?(y=o?.isShared&&bd(ST,{className:`${El}__shared`}),e[24]=o?.isShared,e[25]=y):y=e[25],v=bd,C="div",x=`${El}__label-text-max-width`,g=bd,b="div",a=`${El}__label-text`,p=o?.title||i("general:selectLabel",{label:qU(_.labels.singular,s)}),e[0]=o,e[1]=l,e[2]=s,e[3]=n,e[4]=i,e[5]=a,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=m,e[11]=h,e[12]=p,e[13]=g,e[14]=b,e[15]=x,e[16]=v,e[17]=C,e[18]=y,e[19]=S}else a=e[5],c=e[6],u=e[7],d=e[8],f=e[9],m=e[10],h=e[11],p=e[12],g=e[13],b=e[14],x=e[15],v=e[16],C=e[17],y=e[18],S=e[19];let w;return e[26]!==o||e[27]!==r||e[28]!==a||e[29]!==c||e[30]!==u||e[31]!==d||e[32]!==f||e[33]!==m||e[34]!==h||e[35]!==p||e[36]!==g||e[37]!==b||e[38]!==x||e[39]!==v||e[40]!==C||e[41]!==y||e[42]!==S?(w=m(h,{className:S,id:c,onClick:u,pillStyle:d,size:f,children:[y,v(C,{className:x,children:g(b,{className:a,children:p})}),o?bd("div",{className:`${El}__clear`,id:"clear-preset",onClick:async _=>{_.stopPropagation(),await r()},onKeyDown:async _=>{(_.key==="Enter"||_.key===" ")&&(_.stopPropagation(),await r())},role:"button",tabIndex:0,children:bd(ct,{})}):null]}),e[26]=o,e[27]=r,e[28]=a,e[29]=c,e[30]=u,e[31]=d,e[32]=f,e[33]=m,e[34]=h,e[35]=p,e[36]=g,e[37]=b,e[38]=x,e[39]=v,e[40]=C,e[41]=y,e[42]=S,e[43]=w):w=e[43],w}import{fieldAffectsData as QU,flattenTopLevelFields as KU}from"payload/shared";var _T=(t,e,o)=>t?KU(e,{i18n:o,moveSubFieldsToTop:!0}).filter(r=>QU(r)&&t.includes(r.name)):null;import{jsx as Gr,jsxs as DT,Fragment as eX}from"react/jsx-runtime";import{getTranslation as V0}from"@payloadcms/translations";import{transformColumnsToPreferences as FT,transformColumnsToSearchParams as TT}from"payload/shared";import{useCallback as rh,useMemo as RT}from"react";var PT="confirm-delete-preset",Nl="payload-query-presets",AT=({activePreset:t,collectionSlug:e,queryPresetPermissions:o})=>{let{modified:n,query:r,refineListData:s,setModified:i}=Lt(),{i18n:l,t:a}=L(),{openModal:c}=ce(),{config:{routes:{api:u}},getEntityConfig:d}=H(),f=d({collectionSlug:Nl}),[m,,{openDrawer:h}]=vt({id:t?.id,collectionSlug:Nl}),[p,,{closeDrawer:g,openDrawer:b}]=vt({collectionSlug:Nl}),x=RT(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:e}}}),[e]),[v,,{closeDrawer:C,openDrawer:y}]=Gi({collectionSlugs:[Nl],filterOptions:x,selectedCollection:Nl}),S=rh(async T=>{await s({columns:T.columns?TT(T.columns):void 0,preset:T.id,where:T.where},!1)},[s]),w=rh(async()=>{await s({columns:void 0,preset:void 0,where:void 0},!1)},[s]),_=rh(async()=>{try{await fetch(`${u}/${Nl}/${t.id}`,{method:"DELETE"}).then(async T=>{try{let I=await T.json();T.status<400?(ue.success(a("general:titleDeleted",{label:V0(f?.labels?.singular,l),title:t.title})),await w()):I.errors?I.errors.forEach(F=>ue.error(F.message)):ue.error(a("error:deletingTitle",{title:t.title}))}catch{ue.error(a("error:deletingTitle",{title:t.title}))}})}catch{ue.error(a("error:deletingTitle",{title:t.title}))}},[u,t?.id,t?.title,a,f,l,w]),D=rh(async()=>{try{await fetch(`${u}/payload-query-presets/${t.id}`,{body:JSON.stringify({columns:FT(r.columns),where:r.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async T=>{try{let I=await T.json();T.status<400?(ue.success(a("general:updatedLabelSuccessfully",{label:V0(f?.labels?.singular,l)})),i(!1)):I.errors?I.errors.forEach(F=>ue.error(F.message)):ue.error(a("error:unknown"))}catch{ue.error(a("error:unknown"))}})}catch{ue.error(a("error:unknown"))}},[u,t?.id,r.columns,r.where,a,f?.labels?.singular,l,i]),R=RT(()=>{let T=t&&n;return[Gr(Yd,{label:V0(f?.labels?.plural,l)},"preset-group-label"),DT(Ce.ButtonGroup,{children:[T&&Gr(Ce.Button,{onClick:async()=>{await s({columns:TT(t.columns),where:t.where},!1)},children:a("general:reset")}),T&&o.update&&Gr(Ce.Button,{onClick:async()=>{await D()},children:t?.isShared?a("general:updateForEveryone"):a("general:save")}),Gr(Ce.Button,{onClick:()=>{b()},children:a("general:createNew")}),t&&o?.delete&&DT(eX,{children:[Gr(Ce.Button,{onClick:()=>c(PT),children:a("general:delete")}),Gr(Ce.Button,{onClick:()=>{h()},children:a("general:edit")})]})]},"preset-group-buttons")]},[t,o?.delete,o?.update,b,h,c,D,a,s,n,f?.labels?.plural,l]);return{CreateNewPresetDrawer:Gr(p,{initialData:{columns:FT(r.columns),relatedCollection:e,where:r.where},onSave:async({doc:T})=>{g(),await S(T)},redirectAfterCreate:!1}),DeletePresetModal:Gr(gt,{body:Gr(er,{elements:{1:({children:T})=>Gr("strong",{children:T})},i18nKey:"general:aboutToDelete",t:a,variables:{label:f?.labels?.singular,title:t?.title}}),confirmingLabel:a("general:deleting"),heading:a("general:confirmDeletion"),modalSlug:PT,onConfirm:_}),EditPresetDrawer:Gr(m,{onDelete:()=>{},onDuplicate:async({doc:T})=>{await S(T)},onSave:async({doc:T})=>{await S(T)}}),hasModifiedPreset:n,openPresetListDrawer:y,PresetListDrawer:Gr(v,{allowCreate:!1,disableQueryPresets:!0,onSelect:async({doc:T})=>{C(),await S(T)}}),queryPresetMenuItems:R,resetPreset:w}};var ko="list-controls",G0=t=>{let{beforeActions:e,collectionConfig:o,collectionSlug:n,disableQueryPresets:r,enableColumns:s=!0,enableFilters:i=!0,enableSort:l=!1,listMenuItems:a,queryPreset:c,queryPresetPermissions:u,renderedFilters:d,resolvedFilterOptions:f}=t,{handleSearchChange:m,query:h}=Lt(),{CreateNewPresetDrawer:p,DeletePresetModal:g,EditPresetDrawer:b,hasModifiedPreset:x,openPresetListDrawer:v,PresetListDrawer:C,queryPresetMenuItems:y,resetPreset:S}=AT({activePreset:c,collectionSlug:n,queryPresetPermissions:u}),w=Lv(o),{i18n:_,t:D}=L(),{breakpoints:{s:R}}=Ao(),T=(w&&Ll("label"in w&&(typeof w.label=="string"||typeof w.label=="object")?w.label:"name"in w?w.name:null,_))??"ID",I=_T(o.admin.listSearchableFields,o.fields,_),F=LT(D("general:searchBy",{label:Ll(T,_)})),P=LT(!!h?.where),A=tX(h?.where),[k,$]=rX(A?"where":void 0);NT(()=>{P.current&&!h?.where?P.current=!1:h?.where&&(P.current=!0)},[$,h?.where]),NT(()=>{I?.length>0?F.current=I.reduce((N,E,O)=>{let M="label"in E&&E.label?E.label:"name"in E?E.name:null;return O===0?`${D("general:searchBy",{label:Ll(M,_)})}`:O===I.length-1?`${N} ${D("general:or")} ${Ll(M,_)}`:`${N}, ${Ll(M,_)}`},""):F.current=D("general:searchBy",{label:Ll(T,_)})},[D,I,_,T]);let j=a;return o?.enableQueryPresets&&!r&&y?.length>0&&(j=[...y,a?.length>0?lo(Ce.Divider,{},"divider"):null,...a||[]]),nh(ET,{children:[nh("div",{className:ko,children:[nh("div",{className:`${ko}__wrap`,children:[lo(_i,{}),lo(dd,{handleChange:m,label:F.current,searchQueryParam:h?.search},n),c&&x?lo("div",{className:`${ko}__modified`,children:"Modified"}):null,lo("div",{className:`${ko}__buttons`,children:nh("div",{className:`${ko}__buttons-wrap`,children:[!R&&lo(oX.Fragment,{children:e&&e}),s&&lo(mt,{"aria-controls":`${ko}-columns`,"aria-expanded":k==="columns",className:`${ko}__toggle-columns`,icon:lo(Ve,{direction:k==="columns"?"up":"down"}),onClick:()=>$(k!=="columns"?"columns":void 0),pillStyle:"light",size:"small",children:D("general:columns")}),i&&lo(mt,{"aria-controls":`${ko}-where`,"aria-expanded":k==="where",className:`${ko}__toggle-where`,icon:lo(Ve,{direction:k==="where"?"up":"down"}),onClick:()=>$(k!=="where"?"where":void 0),pillStyle:"light",size:"small",children:D("general:filters")}),l&&lo(mt,{"aria-controls":`${ko}-sort`,"aria-expanded":k==="sort",className:`${ko}__toggle-sort`,icon:lo(Ve,{}),onClick:()=>$(k!=="sort"?"sort":void 0),pillStyle:"light",size:"small",children:D("general:sort")}),!r&&lo(IT,{activePreset:c,openPresetListDrawer:v,resetPreset:S}),j&&Array.isArray(j)&&j.length>0&&lo(ut,{button:lo(eh,{ariaLabel:D("general:moreOptions")}),className:`${ko}__popup`,horizontalAlign:"right",id:"list-menu",size:"medium",verticalAlign:"bottom",children:j.map((N,E)=>lo(ET,{children:N},`list-menu-item-${E}`))})]})})]}),s&&lo(Ar,{className:`${ko}__columns`,height:k==="columns"?"auto":0,id:`${ko}-columns`,children:lo(If,{collectionSlug:o.slug})}),lo(Ar,{className:`${ko}__where`,height:k==="where"?"auto":0,id:`${ko}-where`,children:lo(yT,{collectionPluralLabel:o?.labels?.plural,collectionSlug:o.slug,fields:o?.fields,renderedFilters:d,resolvedFilterOptions:f})})]}),C,b,p,g]})};import{c as wX}from"react/compiler-runtime";import{jsx as $l,jsxs as SX}from"react/jsx-runtime";import{Fragment as IX}from"react";import{c as MT}from"react/compiler-runtime";import{jsx as W0,jsxs as uX}from"react/jsx-runtime";import dX from"react";import{jsx as nX}from"react/jsx-runtime";import{getTranslation as $T}from"@payloadcms/translations";import{useRouter as sX,useSearchParams as iX}from"next/navigation.js";import{combineWhereConstraints as aX,mergeListSearchAndWhere as lX}from"payload/shared";import*as z0 from"qs-esm";import cX,{useCallback as kT}from"react";function jT(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:l,selectAll:a}=t,{clearRouteCache:c}=qt(),{config:{routes:{api:u},serverURL:d}}=H(),{code:f}=we(),m=sX(),h=iX(),{i18n:p,t:g}=L(),b=kT(()=>{ue.error(g("error:unknown"))},[g]),x=cX.useMemo(()=>{let C=[{_status:{not_equals:"published"}}],y=lX({collectionConfig:e,search:h.get("search")});return y&&C.push(y),a?C.push(fo(h)?.where||{id:{exists:!0}}):C.push({id:{in:i||[]}}),z0.stringify({locale:f,where:aX(C)},{addQueryPrefix:!0})},[e,h,a,i,f]),v=kT(async()=>{await Je.patch(`${d}${u}/${o}${x}&draft=true`,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}).then(async C=>{try{let y=await C.json(),S=y?.docs.length||0,w=S>1?n:r;return C.status<400||S>0?(ue.success(g("general:updatedCountSuccessfully",{count:S,label:$T(w,p)})),y?.errors.length>0&&ue.error(y.message,{description:y.errors.map(_=>_.message).join(`
`)}),m.replace(z0.stringify({...fo(h),page:a?"1":void 0},{addQueryPrefix:!0})),c(),typeof l=="function"&&l(),null):(y.errors?y.errors.forEach(_=>ue.error(_.message)):b(),!1)}catch{return b()}})},[d,u,o,x,p,n,r,g,m,h,a,c,b,l]);return nX(gt,{body:g("version:aboutToPublishSelection",{label:$T(n,p)}),cancelLabel:g("general:cancel"),confirmingLabel:g("version:publishing"),confirmLabel:g("general:confirm"),heading:g("version:confirmPublish"),modalSlug:s,onConfirm:v})}var mX=t=>{let e=MT(8),{count:o,selectAll:n,selected:r,toggleAll:s}=Fo(),i;if(e[0]!==o||e[1]!==t||e[2]!==n||e[3]!==r||e[4]!==s){let l;e[6]!==s?(l=()=>s(!1),e[6]=s,e[7]=l):l=e[7],i=W0(vd,{...t,count:o,ids:Array.from(r.keys()),onSuccess:l,selectAll:n===ao.AllAvailable}),e[0]=o,e[1]=t,e[2]=n,e[3]=r,e[4]=s,e[5]=i}else i=e[5];return i},vd=t=>{let e=MT(11),{collection:o,collection:n,count:r,ids:s,onSuccess:i,selectAll:l}=t,{slug:a,versions:c}=n===void 0?{}:n,{permissions:u}=_e(),{t:d}=L(),{openModal:f}=ce(),h=u?.collections?.[a]?.update,p=`publish-${a}`;if(!c?.drafts||r===0||!h)return null;let g;if(e[0]!==o||e[1]!==p||e[2]!==s||e[3]!==i||e[4]!==f||e[5]!==l||e[6]!==d){let b;e[8]!==p||e[9]!==f?(b=()=>{f(p)},e[8]=p,e[9]=f,e[10]=b):b=e[10],g=uX(dX.Fragment,{children:[W0(Wo,{"aria-label":d("version:publish"),onClick:b,children:d("version:publish")}),W0(jT,{collection:o,drawerSlug:p,ids:s,onSuccess:i,selectAll:l})]}),e[0]=o,e[1]=p,e[2]=s,e[3]=i,e[4]=f,e[5]=l,e[6]=d,e[7]=g}else g=e[7];return g};import{c as GT}from"react/compiler-runtime";import{jsx as U0,jsxs as xX}from"react/jsx-runtime";import CX from"react";import{jsx as fX}from"react/jsx-runtime";import{getTranslation as BT}from"@payloadcms/translations";import{useRouter as pX,useSearchParams as hX}from"next/navigation.js";import{combineWhereConstraints as gX,mergeListSearchAndWhere as bX}from"payload/shared";import*as H0 from"qs-esm";import vX,{useCallback as OT}from"react";function VT(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:l,selectAll:a}=t,{config:{routes:{api:c},serverURL:u}}=H(),{code:d}=we(),{i18n:f,t:m}=L(),h=hX(),p=pX(),{clearRouteCache:g}=qt(),b=OT(()=>{ue.error(m("error:unknown"))},[m]),x=vX.useMemo(()=>{let C=[{_status:{not_equals:"draft"}}],y=bX({collectionConfig:e,search:h.get("search")});return y&&C.push(y),a||C.push({id:{in:i||[]}}),H0.stringify({locale:d,where:gX(C)},{addQueryPrefix:!0})},[e,h,a,i,d]),v=OT(async()=>{await Je.patch(`${u}${c}/${o}${x}`,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":f.language,"Content-Type":"application/json"}}).then(async C=>{try{let y=await C.json(),S=y?.docs.length||0,w=S>1?n:r;return C.status<400||S>0?(ue.success(m("general:updatedCountSuccessfully",{count:S,label:BT(w,f)})),y?.errors.length>0&&ue.error(y.message,{description:y.errors.map(_=>_.message).join(`
`)}),p.replace(H0.stringify({...fo(h),page:a?"1":void 0},{addQueryPrefix:!0})),g(),typeof l=="function"&&l(),null):(y.errors?y.errors.forEach(_=>ue.error(_.message)):b(),!1)}catch{return b()}})},[u,c,o,x,f,n,r,m,p,h,a,g,b,l]);return fX(gt,{body:m("version:aboutToUnpublishSelection",{label:BT(n,f)}),confirmingLabel:m("version:unpublishing"),heading:m("version:confirmUnpublish"),modalSlug:s,onConfirm:v})}var yX=t=>{let e=GT(8),{count:o,selectAll:n,selected:r,toggleAll:s}=Fo(),i;if(e[0]!==o||e[1]!==t||e[2]!==n||e[3]!==r||e[4]!==s){let l;e[6]!==s?(l=()=>s(!1),e[6]=s,e[7]=l):l=e[7],i=U0(xd,{...t,count:o,ids:Array.from(r.keys()),onSuccess:l,selectAll:n===ao.AllAvailable}),e[0]=o,e[1]=t,e[2]=n,e[3]=r,e[4]=s,e[5]=i}else i=e[5];return i},xd=t=>{let e=GT(11),{collection:o,collection:n,count:r,ids:s,onSuccess:i,selectAll:l}=t,{slug:a,versions:c}=n===void 0?{}:n,{t:u}=L(),{permissions:d}=_e(),{toggleModal:f}=ce(),h=d?.collections?.[a]?.update,p=`unpublish-${a}`;if(!c?.drafts||r===0||!h)return null;let g;if(e[0]!==o||e[1]!==p||e[2]!==s||e[3]!==i||e[4]!==l||e[5]!==u||e[6]!==f){let b;e[8]!==p||e[9]!==f?(b=()=>{f(p)},e[8]=p,e[9]=f,e[10]=b):b=e[10],g=xX(CX.Fragment,{children:[U0(Wo,{"aria-label":u("version:unpublish"),onClick:b,children:u("version:unpublish")}),U0(VT,{collection:o,drawerSlug:p,ids:s,onSuccess:i,selectAll:l})]}),e[0]=o,e[1]=p,e[2]=s,e[3]=i,e[4]=l,e[5]=u,e[6]=f,e[7]=g}else g=e[7];return g};var Cd=t=>{let e=wX(14),{collectionConfig:o,disableBulkDelete:n,disableBulkEdit:r,label:s}=t,{count:i,getSelectedIds:l,selectAll:a,toggleAll:c,totalDocs:u}=Fo(),{t:d}=L(),f;e[0]!==c?(f=()=>c(!1),e[0]=c,e[1]=f):f=e[1];let m=f;if(i===0)return null;let h;return e[2]!==o||e[3]!==i||e[4]!==n||e[5]!==r||e[6]!==l||e[7]!==s||e[8]!==m||e[9]!==a||e[10]!==d||e[11]!==c||e[12]!==u?(h=$l(Xp,{count:i,ListActions:[a!==ao.AllAvailable&&i<u?$l(Wo,{"aria-label":d("general:selectAll",{count:`(${u})`,label:s}),id:"select-all-across-pages",onClick:()=>c(!0),children:d("general:selectAll",{count:`(${u})`,label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!r&&SX(IX,{children:[$l(ud,{collection:o,count:i,ids:l(),onSuccess:m,selectAll:a===ao.AllAvailable}),$l(vd,{collection:o,count:i,ids:l(),onSuccess:m,selectAll:a===ao.AllAvailable}),$l(xd,{collection:o,count:i,ids:l(),onSuccess:m,selectAll:a===ao.AllAvailable})]},"bulk-actions"),!n&&$l(u0,{collection:o},"bulk-delete")].filter(Boolean)}),e[2]=o,e[3]=i,e[4]=n,e[5]=r,e[6]=l,e[7]=s,e[8]=m,e[9]=a,e[10]=d,e[11]=c,e[12]=u,e[13]=h):h=e[13],h};import{jsx as ps,jsxs as VX,Fragment as GX}from"react/jsx-runtime";import{getTranslation as J0}from"@payloadcms/translations";import"react";import{jsx as zT}from"react/jsx-runtime";var _X="close-modal-button";function WT({slug:t,className:e}){let{closeModal:o}=ce(),{t:n}=L();return zT("button",{"aria-label":n("general:close"),className:[_X,e].filter(Boolean).join(" "),onClick:()=>{o(t)},type:"button",children:zT(ct,{})},"close-button")}import{c as DX}from"react/compiler-runtime";import{jsx as FX,jsxs as HT}from"react/jsx-runtime";import{getTranslation as TX}from"@payloadcms/translations";import{formatAdminURL as UT}from"payload/shared";var yd="list-folder-pills";function sh(t){let e=DX(16),{collectionConfig:o,folderCollectionSlug:n,viewType:r}=t,{i18n:s,t:i}=L(),{config:l}=H();if(!n)return null;let a=r==="folders"&&`${yd}__button--active`,c;e[0]!==a?(c=[`${yd}__button`,a].filter(Boolean),e[0]=a,e[1]=c):c=e[1];let u=c.join(" "),d=r==="folders",f=r==="list"?"link":"div",m=`/collections/${o.slug}/${n}`,h;if(e[2]!==o.labels?.plural||e[3]!==o.slug||e[4]!==l.routes.admin||e[5]!==l.serverURL||e[6]!==s||e[7]!==i||e[8]!==u||e[9]!==d||e[10]!==f||e[11]!==m||e[12]!==r){let p=FX(se,{buttonStyle:"tab",className:u,disabled:d,el:f,to:UT({adminRoute:l.routes.admin,path:m,serverURL:l.serverURL}),children:i("folder:byFolder")}),g=r==="list"&&`${yd}__button--active`,b;e[14]!==g?(b=[`${yd}__button`,g].filter(Boolean),e[14]=g,e[15]=b):b=e[15],h=HT("div",{className:yd,children:[p,HT(se,{buttonStyle:"tab",className:b.join(" "),disabled:r==="list",el:r==="folders"?"link":"div",to:UT({adminRoute:l.routes.admin,path:`/collections/${o.slug}`,serverURL:l.serverURL}),children:[i("general:all")," ",TX(o?.labels?.plural,s)]})]}),e[2]=o.labels?.plural,e[3]=o.slug,e[4]=l.routes.admin,e[5]=l.serverURL,e[6]=s,e[7]=i,e[8]=u,e[9]=d,e[10]=f,e[11]=m,e[12]=r,e[13]=h}else h=e[13];return h}import{c as RX}from"react/compiler-runtime";import{jsx as XT,jsxs as PX}from"react/jsx-runtime";import{getTranslation as ZT}from"@payloadcms/translations";import{jsx as ih,jsxs as X0}from"react/jsx-runtime";import"react";var fs="list-header",la=t=>X0("header",{className:[fs,t.className].filter(Boolean).join(" "),children:[X0("div",{className:`${fs}__content`,children:[X0("div",{className:`${fs}__title-and-actions`,children:[ih("h1",{className:`${fs}__title`,children:t.title}),t.TitleActions.length?ih("div",{className:`${fs}__title-actions`,children:t.TitleActions}):null]}),t.Actions.length?ih("div",{className:`${fs}__actions`,children:t.Actions}):null]}),t.AfterListHeaderContent?ih("div",{className:`${fs}__after-header-content`,children:t.AfterListHeaderContent}):null]});var AX="list-drawer",YT=()=>{let t=RX(12),{i18n:e,t:o}=L(),{config:n,getEntityConfig:r}=H(),{collections:s}=n,{enabledCollections:i,selectedOption:l,setSelectedOption:a}=fr(),c;if(t[0]!==s||t[1]!==i||t[2]!==r||t[3]!==e||t[4]!==l||t[5]!==a||t[6]!==o){c=Symbol.for("react.early_return_sentinel");e:{let u;t[8]!==i?(u=f=>{let{slug:m}=f;return i.includes(m)},t[8]=i,t[9]=u):u=t[9];let d=s.filter(u);if(d.length>1){let f=r({collectionSlug:l.value}),m;t[10]!==e?(m=h=>({label:ZT(h.labels.singular,e),value:h.slug}),t[10]=e,t[11]=m):m=t[11],c=PX("div",{className:`${AX}__select-collection-wrap`,children:[XT(Se,{label:o("upload:selectCollectionToBrowse")}),XT(pt,{className:`${fs}__select-collection`,isClearable:!1,onChange:a,options:d.map(m),value:{label:ZT(f?.labels.singular,e),value:f?.slug}})]});break e}}t[0]=s,t[1]=i,t[2]=r,t[3]=e,t[4]=l,t[5]=a,t[6]=o,t[7]=c}else c=t[7];return c!==Symbol.for("react.early_return_sentinel")?c:null};import{c as EX}from"react/compiler-runtime";import{jsx as JT}from"react/jsx-runtime";var NX="list-header";function Z0(t){let e=EX(3),{hasCreatePermission:o}=t,{DocumentDrawerToggler:n}=fr(),{t:r}=L();if(!o)return null;let s;return e[0]!==n||e[1]!==r?(s=JT(n,{className:`${NX}__create-new-button`,children:JT(mt,{size:"small",children:r("general:createNew")})},"create-new-button-toggler"),e[0]=n,e[1]=r,e[2]=s):s=e[2],s}import{c as LX}from"react/compiler-runtime";import{jsx as $X}from"react/jsx-runtime";import{useRouter as kX}from"next/navigation.js";import"react";function wd(t){let e=LX(12),{collectionSlug:o,hasCreatePermission:n,isBulkUploadEnabled:r,onBulkUploadSuccess:s,openBulkUpload:i}=t,{drawerSlug:l,setCollectionSlug:a,setOnSuccess:c}=Go(),{t:u}=L(),{openModal:d}=ce(),f=kX(),m;e[0]!==l||e[1]!==o||e[2]!==s||e[3]!==i||e[4]!==d||e[5]!==f||e[6]!==a||e[7]!==c?(m=()=>{typeof i=="function"?i():(a(o),d(l),c(()=>{typeof s=="function"?s():f.refresh()}))},e[0]=l,e[1]=o,e[2]=s,e[3]=i,e[4]=d,e[5]=f,e[6]=a,e[7]=c,e[8]=m):m=e[8];let h=m;if(!n||!r)return null;let p;return e[9]!==h||e[10]!==u?(p=$X(se,{"aria-label":u("upload:bulkUpload"),buttonStyle:"pill",onClick:h,size:"small",children:u("upload:bulkUpload")},"bulk-upload-button"),e[9]=h,e[10]=u,e[11]=p):p=e[11],p}import{c as jX}from"react/compiler-runtime";import{jsx as MX}from"react/jsx-runtime";import{getTranslation as BX}from"@payloadcms/translations";import"react";var OX="list-create-new-doc";function Y0(t){let e=jX(5),{collectionConfig:o,hasCreatePermission:n,newDocumentURL:r}=t,{i18n:s,t:i}=L();if(!n)return null;let l=o?.labels?.singular,a;return e[0]!==s||e[1]!==r||e[2]!==i||e[3]!==l?(a=MX(se,{"aria-label":i("general:createNewLabel",{label:BX(l,s)}),buttonStyle:"pill",className:`${OX}__create-new-button`,el:"link",size:"small",to:r,children:i("general:createNew")},"create-new-button"),e[0]=s,e[1]=r,e[2]=i,e[3]=l,e[4]=a):a=e[4],a}var qT="list-drawer",q0=({className:t,collectionConfig:e,Description:o,disableBulkDelete:n,disableBulkEdit:r,hasCreatePermission:s,i18n:i,isBulkUploadEnabled:l,newDocumentURL:a,onBulkUploadSuccess:c,openBulkUpload:u,smallBreak:d,viewType:f})=>{let{config:m,getEntityConfig:h}=H(),{drawerSlug:p,isInDrawer:g,selectedOption:b}=fr();return g?ps(la,{Actions:[ps(WT,{className:`${qT}__header-close`,slug:p},"close-button")],AfterListHeaderContent:VX(GX,{children:[o,ps(YT,{})]}),className:`${qT}__header`,title:J0(h({collectionSlug:b.value})?.labels?.plural,i),TitleActions:[ps(Z0,{hasCreatePermission:s},"list-drawer-create-new-doc")].filter(Boolean)}):ps(la,{Actions:[!d&&ps(Cd,{collectionConfig:e,disableBulkDelete:n,disableBulkEdit:r,label:J0(e?.labels?.plural,i)},"list-selection"),e.folders&&m.folders&&ps(sh,{collectionConfig:e,folderCollectionSlug:m.folders.slug,viewType:f},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:o,className:t,title:J0(e?.labels?.plural,i),TitleActions:[s&&ps(Y0,{collectionConfig:e,hasCreatePermission:s,newDocumentURL:a},"list-header-create-new-doc"),s&&l&&ps(wd,{collectionSlug:e.slug,hasCreatePermission:s,isBulkUploadEnabled:l,onBulkUploadSuccess:c,openBulkUpload:u},"list-header-bulk-upload")].filter(Boolean)})};import{c as zX}from"react/compiler-runtime";import{jsx as KT}from"react/jsx-runtime";import{formatAdminURL as WX}from"payload/shared";import"react";import{jsx as QT}from"react/jsx-runtime";import"react";var Q0=()=>QT("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:QT("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})});var HX="nav",UX=t=>{let e=zX(5),{tabIndex:o}=t,n=o===void 0?0:o,{t:r}=L(),{config:s}=H(),{admin:i,routes:l}=s,{routes:a}=i,{logout:c}=a,{admin:u}=l,d;return e[0]!==u||e[1]!==c||e[2]!==r||e[3]!==n?(d=KT(Vt,{"aria-label":r("authentication:logOut"),className:`${HX}__log-out`,href:WX({adminRoute:u,path:c}),prefetch:!1,tabIndex:n,title:r("authentication:logOut"),children:KT(Q0,{})}),e[0]=u,e[1]=c,e[2]=r,e[3]=n,e[4]=d):d=e[4],d};import{c as XX}from"react/compiler-runtime";import{jsx as kl,jsxs as eR}from"react/jsx-runtime";import ZX,{useState as tR}from"react";var oi="nav-group",YX="nav",JX=t=>{let e=XX(21),{children:o,isOpen:n,label:r}=t,[s,i]=tR(typeof n<"u"?!n:!1),[l,a]=tR(!1),{setPreference:c}=Zt(),{navOpen:u}=sa();if(r){let f;e[0]!==s||e[1]!==r||e[2]!==c?(f=()=>{a(!0);let _={};_?.[r]?_[r].open=!!s:_[r]={open:!!s},c(YX,{groups:_},!0),i(!s)},e[0]=s,e[1]=r,e[2]=c,e[3]=f):f=e[3];let m=f,h=`${r}`,p=s&&`${oi}--collapsed`,g;e[4]!==h||e[5]!==p?(g=[`${oi}`,h,p].filter(Boolean),e[4]=h,e[5]=p,e[6]=g):g=e[6];let b=g.join(" "),x=`nav-group-${r}`,v=`${oi}__toggle--${s?"collapsed":"open"}`,C;e[7]!==v?(C=[`${oi}__toggle`,v].filter(Boolean),e[7]=v,e[8]=C):C=e[8];let y=C.join(" "),S=u?0:-1,w;return e[9]!==l||e[10]!==o||e[11]!==s||e[12]!==r||e[13]!==S||e[14]!==b||e[15]!==x||e[16]!==y||e[17]!==m?(w=eR("div",{className:b,id:x,children:[eR("button",{className:y,onClick:m,tabIndex:S,type:"button",children:[kl("div",{className:`${oi}__label`,children:r}),kl("div",{className:`${oi}__indicator`,children:kl(Ve,{className:`${oi}__indicator`,direction:s?void 0:"up"})})]}),kl(Ar,{duration:l?200:0,height:s?0:"auto",children:kl("div",{className:`${oi}__content`,children:o})})]}),e[9]=l,e[10]=o,e[11]=s,e[12]=r,e[13]=S,e[14]=b,e[15]=x,e[16]=y,e[17]=m,e[18]=w):w=e[18],w}let d;return e[19]!==o?(d=kl(ZX.Fragment,{children:o}),e[19]=o,e[20]=d):d=e[20],d};import{c as qX}from"react/compiler-runtime";import{jsx as ri,jsxs as oR}from"react/jsx-runtime";import{collectionDefaults as QX,isNumber as KX}from"payload/shared";import"react";var jl="per-page",eZ=QX.admin.pagination.limits,K0=t=>{let e=qX(9),{defaultLimit:o,handleChange:n,limit:r,limits:s}=t,i=o===void 0?10:o,l=s===void 0?eZ:s,{t:a}=L(),c=KX(r)?r:i,u;if(e[0]!==n||e[1]!==c||e[2]!==l||e[3]!==a){let d;e[5]!==n||e[6]!==c||e[7]!==l?(d=f=>{let{close:m}=f;return ri(Ce.ButtonGroup,{children:l.map((h,p)=>oR(Ce.Button,{className:[`${jl}__button`,h===c&&`${jl}__button-active`].filter(Boolean).join(" "),onClick:()=>{m(),n&&n(h)},children:[h===c&&ri("div",{className:`${jl}__chevron`,children:ri(Ve,{direction:"right",size:"small"})}),"\xA0",ri("span",{children:h})]},p))})},e[5]=n,e[6]=c,e[7]=l,e[8]=d):d=e[8],u=ri("div",{className:jl,children:ri(ut,{button:oR("div",{className:`${jl}__base-button`,children:[ri("span",{children:a("general:perPage",{limit:c})}),"\xA0",ri(Ve,{className:`${jl}__icon`})]}),horizontalAlign:"right",render:d,size:"small"})}),e[0]=n,e[1]=c,e[2]=l,e[3]=a,e[4]=u}else u=e[4];return u};import{jsx as tZ,jsxs as oZ}from"react/jsx-runtime";import{formatAdminURL as rZ}from"payload/shared";import"react";var nZ="browse-by-folder-button";function sZ({active:t}){let{t:e}=L(),{config:o}=H(),{admin:{routes:{browseByFolder:n}},routes:{admin:r}}=o;return oZ(Vt,{className:[nZ,t&&"active"].filter(Boolean).join(" "),href:rZ({adminRoute:r,path:n}),id:"browse-by-folder",prefetch:!1,children:[tZ(tr,{}),e("folder:browseByFolder")]})}import{jsx as ox,jsxs as mZ,Fragment as fZ}from"react/jsx-runtime";import"react";import{c as uZ}from"react/compiler-runtime";import{jsx as wr,jsxs as iR}from"react/jsx-runtime";import{useDroppable as dZ}from"@dnd-kit/core";import aR from"react";import{jsx as rR}from"react/jsx-runtime";import"react";var Ml=()=>rR("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:rR("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})});import{jsx as ex,jsxs as iZ}from"react/jsx-runtime";import"react";function nR({className:t=""}){return iZ("div",{className:`icon icon--dots ${t}`.trim(),children:[ex("div",{}),ex("div",{}),ex("div",{})]})}import{jsx as aZ}from"react/jsx-runtime";import{useDraggable as lZ}from"@dnd-kit/core";import{useRef as sR}from"react";var cZ="draggable-with-click",ah=({id:t,as:e="div",children:o,className:n,onClick:r,onKeyDown:s,ref:i,thresholdPixels:l=3})=>{let{attributes:a,listeners:c,setNodeRef:u}=lZ({id:t}),d=sR({x:0,y:0}),f=sR(!1),m=p=>{d.current={x:p.clientX,y:p.clientY},f.current=!1;let g=v=>{let C=Math.abs(v.clientX-d.current.x),y=Math.abs(v.clientY-d.current.y);(C>l||y>l)&&(f.current=!0,c?.onPointerDown&&(c.onPointerDown(p),r(v)),window.removeEventListener("pointermove",g))},b=()=>{window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",x)},x=v=>{b(),f.current||r(v)};window.addEventListener("pointermove",g),window.addEventListener("pointerup",x)};return aZ(e||"div",{role:"button",tabIndex:0,...a,className:`${cZ} ${n||""}`.trim(),onKeyDown:s,onPointerDown:r?m:void 0,ref:p=>{u(p),i&&(i.current=p)},children:o})};var yr="folder-file-card";function tx({id:t,type:e,className:o="",disabled:n=!1,isDeleting:r=!1,isFocused:s=!1,isSelected:i=!1,itemKey:l,onClick:a,onKeyDown:c,PopupActions:u,previewUrl:d,selectedCount:f=0,title:m}){let h=!t||n||e!=="folder",{isOver:p,setNodeRef:g}=dZ({id:l,data:{id:t,type:e},disabled:h}),b=aR.useRef(null);return aR.useEffect(()=>{let x=b.current;return s&&b.current?b.current.focus():!s&&b.current&&b.current.blur(),()=>{x&&x.blur()}},[s]),iR("div",{className:[yr,o,i&&`${yr}--selected`,n&&`${yr}--disabled`,r&&`${yr}--deleting`,s&&`${yr}--focused`,p&&`${yr}--over`,`${yr}--${e}`].filter(Boolean).join(" "),children:[!n&&(a||c)&&wr(ah,{className:`${yr}__drag-handle`,id:l,onClick:a,onKeyDown:c,ref:b},l),h?null:wr("div",{className:`${yr}__drop-area`,ref:g}),e==="file"?wr("div",{className:`${yr}__preview-area`,children:d?wr(gr,{fileSrc:d}):wr(Ml,{})}):null,iR("div",{className:`${yr}__titlebar-area`,children:[wr("div",{className:`${yr}__icon-wrap`,children:e==="file"?wr(Ml,{}):wr(tr,{})}),wr("p",{className:`${yr}__name`,title:m,children:wr("span",{children:m})}),u?wr(ut,{button:wr(nR,{}),disabled:f>1||f===1&&!i,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:u}):null]})]},l)}function lR(t){let e=uZ(19),{type:o,className:n,index:r,item:s}=t,{focusedRowIndex:i,isDragging:l,itemKeysToMove:a,onItemClick:c,onItemKeyPress:u,selectedItemKeys:d}=Wt(),f;if(e[0]!==n||e[1]!==i||e[2]!==r||e[3]!==l||e[4]!==s||e[5]!==a||e[6]!==c||e[7]!==u||e[8]!==d||e[9]!==o){let m=d.has(s.itemKey),h;e[11]!==r||e[12]!==s||e[13]!==c?(h=g=>{c({event:g,index:r,item:s})},e[11]=r,e[12]=s,e[13]=c,e[14]=h):h=e[14];let p;e[15]!==r||e[16]!==s||e[17]!==u?(p=g=>{u({event:g,index:r,item:s})},e[15]=r,e[16]=s,e[17]=u,e[18]=p):p=e[18],f=wr(tx,{className:n,disabled:l&&m||a.has(s.itemKey),id:s.value.id,isFocused:i===r,isSelected:m,itemKey:s.itemKey,onClick:h,onKeyDown:p,previewUrl:s.value.url,title:s.value._folderOrDocumentTitle,type:o}),e[0]=n,e[1]=i,e[2]=r,e[3]=l,e[4]=s,e[5]=a,e[6]=c,e[7]=u,e[8]=d,e[9]=o,e[10]=f}else f=e[10];return f}var cR="item-card-grid";function lh({type:t,items:e,subfolderCount:o,title:n}){return mZ(fZ,{children:[n&&ox("p",{className:`${cR}__title`,children:n}),ox("div",{className:cR,children:!e||e?.length===0?null:e.map((r,s)=>{let i=s+(o||0),{itemKey:l}=r;return ox(lR,{index:i,item:r,type:t},l)})})]})}import{c as CZ}from"react/compiler-runtime";import{jsx as Bl,jsxs as hR}from"react/jsx-runtime";import{getTranslation as yZ}from"@payloadcms/translations";import{extractID as gR}from"payload/shared";import bR from"react";import{jsx as rx,jsxs as vZ}from"react/jsx-runtime";import{useDroppable as xZ}from"@dnd-kit/core";import pR from"react";import{jsx as Fn,jsxs as pZ}from"react/jsx-runtime";import"react";var hs="simple-table",uR=({appearance:t,className:e,headerCells:o,tableRows:n})=>Fn("div",{className:[e,hs,t&&`${hs}--appearance-${t}`].filter(Boolean).join(" "),children:pZ("table",{cellPadding:0,cellSpacing:0,className:`${hs}__table`,children:[Fn(hZ,{children:Fn(bZ,{children:o})}),Fn(gZ,{children:n})]})}),hZ=({children:t,className:e,...o})=>Fn("thead",{className:`${hs}__thead ${e||""}`.trim(),...o,children:t}),gZ=({children:t,className:e,...o})=>Fn("tbody",{className:`${hs}__tbody ${e||""}`.trim(),...o,children:t}),bZ=({children:t,className:e,...o})=>Fn("tr",{className:`${hs}__tr ${e||""}`.trim(),...o,children:t}),dR=({children:t,className:e,...o})=>Fn("td",{className:`${hs}__td ${e||""}`.trim(),...o,children:t}),mR=({children:t,className:e,...o})=>Fn("th",{className:`${hs}__th ${e||""}`.trim(),...o,children:t}),fR=({children:t,className:e,...o})=>Fn("td",{className:`${hs}__hidden-cell ${e||""}`.trim(),...o,children:t});var Tn="draggable-table-row";function nx({id:t,columns:e,disabled:o=!1,dragData:n,isDroppable:r,isFocused:s,isSelected:i,isSelecting:l,itemKey:a,onClick:c,onKeyDown:u}){let d=!o&&r&&!i,{isOver:f,setNodeRef:m}=xZ({id:t,data:n,disabled:!d}),h=pR.useRef(null);return pR.useEffect(()=>{let p=h.current;return s&&h.current?h.current.focus():!s&&h.current&&h.current.blur(),()=>{p&&p.blur()}},[s]),vZ(ah,{as:"tr",className:[Tn,i&&`${Tn}--selected`,l&&`${Tn}--selecting`,o&&`${Tn}--disabled`,s&&`${Tn}--focused`,f&&`${Tn}--over`].filter(Boolean).join(" "),id:a,onClick:c,onKeyDown:u,ref:h,children:[e.map((p,g)=>rx(dR,{className:[`${Tn}__cell-content`,g===0&&`${Tn}__first-td`,g===e.length-1&&`${Tn}__last-td`].filter(Boolean).join(" "),children:p},`${a}-${g}`)),d?rx(fR,{children:rx("div",{className:`${Tn}__drop-area`,ref:m})}):null]},a)}var vR="folder-file-table";function sx(t){let e=CZ(39),{showRelationCell:o}=t,n=o===void 0?!0:o,{documents:r,focusedRowIndex:s,isDragging:i,onItemClick:l,onItemKeyPress:a,selectedItemKeys:c,subfolders:u}=Wt(),{config:d}=H(),{i18n:f,t:m}=L(),h;e[0]!==d||e[1]!==f?(h=()=>{let v={};return d.collections.forEach(C=>{v[C.slug]=yZ(C.labels?.singular,f)}),v},e[0]=d,e[1]=f,e[2]=h):h=e[2];let[p]=bR.useState(h),g;e[3]!==n||e[4]!==m?(g=()=>{let v=[{name:"name",label:m("general:name")},{name:"createdAt",label:m("general:createdAt")},{name:"updatedAt",label:m("general:updatedAt")}];return n&&v.push({name:"type",label:m("version:type")}),v},e[3]=n,e[4]=m,e[5]=g):g=e[5];let[b]=bR.useState(g),x;if(e[6]!==b||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==f||e[11]!==i||e[12]!==l||e[13]!==a||e[14]!==p||e[15]!==c||e[16]!==u){let v;e[18]!==b||e[19]!==d||e[20]!==s||e[21]!==f||e[22]!==i||e[23]!==l||e[24]!==a||e[25]!==p||e[26]!==c?(v=(y,S)=>{let{itemKey:w,relationTo:_,value:D}=y,R=gR(D);return Bl(nx,{columns:b.map((T,I)=>{let{name:F}=T,P="\u2014";return F==="name"&&D._folderOrDocumentTitle!==void 0&&(P=D._folderOrDocumentTitle),(F==="createdAt"||F==="updatedAt")&&D[F]&&(P=Rr({date:D[F],i18n:f,pattern:d.admin.dateFormat})),F==="type"&&(P=p[_]||_),I===0?hR("span",{className:`${vR}__cell-with-icon`,children:[Bl(tr,{}),P]},`${w}-${F}`):P}),disabled:i&&c?.has(w),dragData:{id:R,type:"folder"},id:R,isDroppable:!0,isFocused:s===S,isSelected:c.has(w),isSelecting:c.size>0,itemKey:w,onClick:T=>{l({event:T,index:S,item:y})},onKeyDown:T=>{a({event:T,index:S,item:y})}},`${S}-${w}`)},e[18]=b,e[19]=d,e[20]=s,e[21]=f,e[22]=i,e[23]=l,e[24]=a,e[25]=p,e[26]=c,e[27]=v):v=e[27];let C;e[28]!==b||e[29]!==d||e[30]!==s||e[31]!==f||e[32]!==i||e[33]!==l||e[34]!==a||e[35]!==p||e[36]!==c||e[37]!==u.length?(C=(y,S)=>{let{itemKey:w,relationTo:_,value:D}=y,R=gR(D),T=S+u.length;return Bl(nx,{columns:b.map((I,F)=>{let{name:P}=I,A="\u2014";return P==="name"&&D._folderOrDocumentTitle!==void 0&&(A=D._folderOrDocumentTitle),(P==="createdAt"||P==="updatedAt")&&D[P]&&(A=Rr({date:D[P],i18n:f,pattern:d.admin.dateFormat})),P==="type"&&(A=p[_]||_),F===0?hR("span",{className:`${vR}__cell-with-icon`,children:[Bl(Ml,{}),A]},`${w}-${P}`):A}),disabled:i||c?.has(w),dragData:{id:R,type:"document"},id:R,isFocused:s===T,isSelected:c.has(w),isSelecting:c.size>0,itemKey:w,onClick:I=>{l({event:I,index:T,item:y})},onKeyDown:I=>{a({event:I,index:T,item:y})}},`${T}-${w}`)},e[28]=b,e[29]=d,e[30]=s,e[31]=f,e[32]=i,e[33]=l,e[34]=a,e[35]=p,e[36]=c,e[37]=u.length,e[38]=C):C=e[38],x=Bl(uR,{headerCells:b.map(wZ),tableRows:[...u.map(v),...r.map(C)]}),e[6]=b,e[7]=d,e[8]=r,e[9]=s,e[10]=f,e[11]=i,e[12]=l,e[13]=a,e[14]=p,e[15]=c,e[16]=u,e[17]=x}else x=e[17];return x}function wZ(t){let{name:e,label:o}=t;return Bl(mR,{children:o},e)}import{c as FZ}from"react/compiler-runtime";import{jsx as uh}from"react/jsx-runtime";import{Fragment as xR}from"react";import{c as SZ}from"react/compiler-runtime";import{jsx as IZ,jsxs as _Z}from"react/jsx-runtime";import"react";function ix(t){return t===void 0||typeof t=="number"?t:decodeURIComponent(t)}var DZ="id-label",ch=t=>{let e=SZ(9),{id:o,className:n,prefix:r}=t,s=r===void 0?"ID:":r,{config:i}=H(),{routes:l}=i,{admin:a}=l,{collectionSlug:c,globalSlug:u}=Re(),d=Tr(),f=`/${c?`collections/${c}`:`globals/${u}`}/${o}`,m;if(e[0]!==a||e[1]!==n||e[2]!==d||e[3]!==o||e[4]!==s||e[5]!==f){let h=Tf({adminRoute:a,path:f}),p;e[7]!==n?(p=[DZ,n].filter(Boolean),e[7]=n,e[8]=p):p=e[8],m=_Z("div",{className:p.join(" "),title:o,children:[s,"\xA0",d>1?IZ(Vt,{href:h,children:ix(o)}):ix(o)]}),e[0]=a,e[1]=n,e[2]=d,e[3]=o,e[4]=s,e[5]=f,e[6]=m}else m=e[6];return m};var ax="render-title",lx=t=>{let e=FZ(10),{className:o,element:n,fallback:r,title:s}=t,i=n===void 0?"h1":n,{id:l,isInitializing:a}=Re(),{title:c}=cr(),u=s||c||r,d=u===l,f=i,m;if(e[0]!==f||e[1]!==o||e[2]!==l||e[3]!==d||e[4]!==a||e[5]!==u){let h=uh(xR,{children:"\xA0"}),p=d&&`${ax}--has-id`,g;e[7]!==o||e[8]!==p?(g=[o,ax,p].filter(Boolean),e[7]=o,e[8]=p,e[9]=g):g=e[9],m=uh(f,{className:g.join(" "),title:u,children:a?h:uh(xR,{children:d?uh(ch,{className:`${ax}__id`,id:l}):u||h})}),e[0]=f,e[1]=o,e[2]=l,e[3]=d,e[4]=a,e[5]=u,e[6]=m}else m=e[6];return m};import{c as TZ}from"react/compiler-runtime";import{jsx as Ol,jsxs as CR}from"react/jsx-runtime";import"react";var Rn="sort-column",RZ=t=>{let e=TZ(22),{name:o,appearance:n,disable:r,Label:s,label:i}=t,l=r===void 0?!1:r,{handleSortChange:a,query:c}=Lt(),{t:u}=L(),{sort:d}=c,f=`-${o}`,m=o,h;e[0]!==m||e[1]!==d?(h=[`${Rn}__asc`],d===m&&h.push(`${Rn}--active`),e[0]=m,e[1]=d,e[2]=h):h=e[2];let p;e[3]!==f||e[4]!==d?(p=[`${Rn}__desc`],d===f&&p.push(`${Rn}--active`),e[3]=f,e[4]=d,e[5]=p):p=e[5];let g=n&&`${Rn}--appearance-${n}`,b;e[6]!==g?(b=[Rn,g].filter(Boolean),e[6]=g,e[7]=b):b=e[7];let x=b.join(" "),v;e[8]!==s||e[9]!==i?(v=s??Ol(Se,{hideLocale:!0,label:i,unstyled:!0}),e[8]=s,e[9]=i,e[10]=v):v=e[10];let C;return e[11]!==m||e[12]!==h||e[13]!==f||e[14]!==p||e[15]!==l||e[16]!==a||e[17]!==i||e[18]!==u||e[19]!==x||e[20]!==v?(C=CR("div",{className:x,children:[Ol("span",{className:`${Rn}__label`,children:v}),!l&&CR("div",{className:`${Rn}__buttons`,children:[Ol("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:ascending"),label:i}),className:[...h,`${Rn}__button`].filter(Boolean).join(" "),onClick:()=>void a(m),type:"button",children:Ol(Ve,{direction:"up"})}),Ol("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:descending"),label:i}),className:[...p,`${Rn}__button`].filter(Boolean).join(" "),onClick:()=>void a(f),type:"button",children:Ol(Ve,{})})]})]}),e[11]=m,e[12]=h,e[13]=f,e[14]=p,e[15]=l,e[16]=a,e[17]=i,e[18]=u,e[19]=x,e[20]=v,e[21]=C):C=e[21],C};import{jsx as yR}from"react/jsx-runtime";import"react";var PZ=()=>yR("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:yR("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})});import{jsx as cx}from"react/jsx-runtime";import"react";var ux="minimize-maximize",AZ=({className:t,isMinimized:e})=>{let o=[ux,e?`${ux}--minimized`:`${ux}--maximized`,t].filter(Boolean).join(" ");return cx("svg",{className:o,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:e?cx("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):cx("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};import{jsx as Sd,jsxs as EZ}from"react/jsx-runtime";import"react";function NZ(){return EZ("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Sd("g",{filter:"url(#filter0_d_278_1086)",children:Sd("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),Sd("defs",{children:Sd("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:Sd("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}import{jsx as dh,jsxs as LZ}from"react/jsx-runtime";import"react";var dx=()=>LZ("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[dh("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),dh("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),dh("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),dh("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as wR}from"react/jsx-runtime";import"react";var mx=()=>wR("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:wR("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})});import{jsx as SR,jsxs as $Z}from"react/jsx-runtime";import"react";var fx=()=>$Z("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[SR("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),SR("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as IR,jsxs as kZ}from"react/jsx-runtime";import"react";var px=()=>kZ("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[IR("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),IR("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as _R,jsxs as jZ}from"react/jsx-runtime";import"react";var hx=()=>jZ("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[_R("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),_R("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as DR,jsxs as MZ}from"react/jsx-runtime";import"react";var gx=()=>MZ("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[DR("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),DR("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{c as TR}from"react/compiler-runtime";import{jsx as FR}from"react/jsx-runtime";import Vl from"react";var RR=Vl.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),PR=Vl.createContext({}),bx=t=>{let e=TR(6),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=Vl.useState(n),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=d=>{s(f=>{let m={...f};return m[d.key]=d.func,m})},e[1]=i):i=e[1];let l=i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=d=>{s(f=>{let m={...f};return delete m[d.key],m})},e[2]=a):a=e[2];let c=a,u;return e[3]!==o||e[4]!==r?(u=FR(RR,{value:{addClientFunction:l,removeClientFunction:c},children:FR(PR,{value:r,children:o})}),e[3]=o,e[4]=r,e[5]=u):u=e[5],u},BZ=(t,e)=>{let o=TR(6),{addClientFunction:n,removeClientFunction:r}=Vl.use(RR),s,i;o[0]!==n||o[1]!==e||o[2]!==t||o[3]!==r?(s=()=>(n({func:e,key:t}),()=>{r({func:e,key:t})}),i=[e,t,n,r],o[0]=n,o[1]=e,o[2]=t,o[3]=r,o[4]=s,o[5]=i):(s=o[4],i=o[5]),Vl.useEffect(s,i)},OZ=()=>Vl.use(PR);import{jsx as kR}from"react/jsx-runtime";import{DndContext as WZ}from"@dnd-kit/core";import{fieldSchemaToJSON as HZ}from"payload/shared";import vx,{useCallback as xx,useEffect as Id,useMemo as UZ,useRef as XZ,useState as Pn}from"react";import{c as VZ}from"react/compiler-runtime";import{useEffect as AR,useRef as ER,useState as GZ}from"react";var NR=t=>{let e=VZ(15),{eventType:o,onMessage:n,url:r}=t,s=ER(!1),[i,l]=GZ(!1),{config:a}=H(),{serverURL:c}=a,u=ER(null),d,f;e[0]!==o||e[1]!==i||e[2]!==n||e[3]!==c||e[4]!==r?(d=()=>{let x=async v=>{v.origin!==window.location.origin||v.origin!==r||v.origin!==c||typeof n=="function"&&v.data?.type===o&&!s.current&&(s.current=!0,await n(v.data?.searchParams),s.current=!1)};return i&&u.current&&window.addEventListener("message",x,!1),()=>{window.removeEventListener("message",x)}},f=[n,o,r,c,i],e[0]=o,e[1]=i,e[2]=n,e[3]=c,e[4]=r,e[5]=d,e[6]=f):(d=e[5],f=e[6]),AR(d,f);let m;e[7]!==r?(m=x=>{x&&x.preventDefault();let v={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},C=Object.entries(v).reduce((S,w)=>{let[_,D]=w,R=S;if(D==="auto"){if(_==="top"){let T=Math.round(window.innerHeight/2-v.height/2);R=R+`top=${T},`}else if(_==="left"){let T=Math.round(window.innerWidth/2-v.width/2);R=R+`left=${T},`}return R}return R=R+`${_}=${D},`,R},"").slice(0,-1),y=window.open(r,"_blank",C);u.current=y,l(!0)},e[7]=r,e[8]=m):m=e[8];let h=m,p,g;e[9]!==i?(p=()=>{let x;return i?x=setInterval(function(){u.current.closed&&(clearInterval(x),l(!1))},1e3):clearInterval(x),()=>{x&&clearInterval(x)}},g=[i,u],e[9]=i,e[10]=p,e[11]=g):(p=e[10],g=e[11]),AR(p,g);let b;return e[12]!==i||e[13]!==h?(b={isPopupOpen:i,openPopupWindow:h,popupRef:u},e[12]=i,e[13]=h,e[14]=b):b=e[14],b};import{rectIntersection as zZ}from"@dnd-kit/core";var LR=({collisionRect:t,droppableContainers:e,...o})=>{let n=e.find(({id:l})=>l==="live-preview-area"),r=zZ({...o,collisionRect:t,droppableContainers:[n]});if(r.length===0)return r;let s=n?.rect?.current;if(t.top>=s.top&&t.left>=s.left&&t.bottom<=s.bottom&&t.right<=s.right)return r};var $R=(t,e)=>{switch(e.type){case"height":return{...t,height:e.value};case"width":return{...t,width:e.value};default:return{...t,...e?.value||{}}}};var ZZ=t=>{try{return new URL(t,window.location.origin).href}catch{return t}},YZ=({breakpoints:t,children:e,isLivePreviewing:o,operation:n,url:r})=>{let[s,i]=Pn("iframe"),[l,a]=Pn(o),c=UZ(()=>[...t||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[t]),[u,d]=Pn("");Id(()=>d(r?.startsWith("http://")||r?.startsWith("https://")?r:ZZ(r)),[r]);let{isPopupOpen:f,openPopupWindow:m,popupRef:h}=NR({eventType:"payload-live-preview",url:u}),[p,g]=Pn(!1),[b,x]=Pn(!1),{collectionSlug:v,globalSlug:C}=Re(),y=XZ(!0),{setPreference:S}=Zt(),w=vx.useRef(null),[_,D]=Pn(!1),{config:R,getEntityConfig:T}=H(),[I,F]=Pn(1),[P,A]=Pn({x:0,y:0}),[k,$]=vx.useReducer($R,{height:0,width:0}),[j,N]=Pn({height:0,width:0}),E=T({collectionSlug:v,globalSlug:C}),[O,M]=vx.useState("responsive"),[B]=Pn(()=>HZ(E?.fields||[],R)),V=X=>{if(X.over&&X.over.id==="live-preview-area"){let Y={x:P.x+X.delta.x,y:P.y+X.delta.y};A(Y)}},G=xx(X=>{$({type:"width",value:X})},[$]),z=xx(X=>{$({type:"height",value:X})},[$]);Id(()=>{let X=c?.find(Y=>Y.name===O);X&&O!=="responsive"&&O!=="custom"&&typeof X?.width=="number"&&typeof X?.height=="number"&&$({type:"reset",value:{height:X.height,width:X.width}})},[O,c]),Id(()=>{let X=Y=>{u?.startsWith(Y.origin)&&Y.data&&typeof Y.data=="object"&&Y.data.type==="payload-live-preview"&&Y.data.ready&&g(!0)};return window.addEventListener("message",X),x(!0),()=>{window.removeEventListener("message",X)}},[u,b]);let U=xx(X=>{g(!1),i(X),X==="popup"&&m()},[m]);Id(()=>{(f?"popup":"iframe")!==s&&U("iframe")},[s,f,U]),Id(()=>{if(y.current){y.current=!1;return}S(v?`collection-${v}`:`global-${C}`,{editViewType:l?"live-preview":"default"},!0)},[l,S,v,C]);let oe=!!(n!=="create"&&(v&&R?.admin?.livePreview?.collections?.includes(v)||C&&R.admin?.livePreview?.globals?.includes(C)||E?.admin?.livePreview));return kR(m0,{value:{appIsReady:p,breakpoint:O,breakpoints:c,fieldSchemaJSON:B,iframeHasLoaded:_,iframeRef:w,isLivePreviewEnabled:oe,isLivePreviewing:l,isPopupOpen:f,listeningForMessages:b,measuredDeviceSize:j,openPopupWindow:m,popupRef:h,previewWindowType:s,setAppIsReady:g,setBreakpoint:M,setHeight:z,setIframeHasLoaded:D,setIsLivePreviewing:a,setMeasuredDeviceSize:N,setPreviewWindowType:U,setSize:$,setToolbarPosition:A,setWidth:G,setZoom:F,size:k,toolbarPosition:P,url:u,zoom:I},children:kR(WZ,{collisionDetection:LR,onDragEnd:V,children:e})})};import{c as JZ}from"react/compiler-runtime";import{jsx as jR}from"react/jsx-runtime";import qZ,{useEffect as QZ,useRef as KZ}from"react";var MR=200,Cx="progress-bar",eY=150,tY=()=>{let t=JZ(9),{isTransitioning:e,transitionProgress:o}=Ue(),[n,r]=qZ.useState(null),s=KZ(!0),i,l;if(t[0]!==e||t[1]!==o?(i=()=>{let a,c;return e?s.current?c=setTimeout(()=>{r(o),s.current=!1},eY):r(o):(s.current=!0,r(1),a=setTimeout(()=>{r(null)},MR*2)),()=>{clearTimeout(a),clearTimeout(c)}},l=[e,o],t[0]=e,t[1]=o,t[2]=i,t[3]=l):(i=t[2],l=t[3]),QZ(i,l),typeof n=="number"){let a=n===1&&`${Cx}--fade-out`,c;t[4]!==a?(c=[Cx,a].filter(Boolean),t[4]=a,t[5]=c):c=t[5];let u=c.join(" "),d;return t[6]!==n||t[7]!==u?(d=jR("div",{className:u,style:{"--transition-duration":`${MR}ms`},children:jR("div",{className:`${Cx}__progress`,style:{width:`${(n||0)*100}%`}})}),t[6]=n,t[7]=u,t[8]=d):d=t[8],d}return null};import{c as oY}from"react/compiler-runtime";import{jsx as rY}from"react/jsx-runtime";import{createContext as nY,use as sY}from"react";var BR=nY({}),iY=t=>{let e=oY(6),{children:o,visibleEntities:n}=t,r;e[0]!==n?(r=l=>{let{collectionSlug:a,globalSlug:c}=l;return a?n.collections.includes(a):c?n.globals.includes(c):!1},e[0]=n,e[1]=r):r=e[1];let s=r,i;return e[2]!==o||e[3]!==s||e[4]!==n?(i=rY(BR,{value:{isEntityVisible:s,visibleEntities:n},children:o}),e[2]=o,e[3]=s,e[4]=n,e[5]=i):i=e[5],i},yx=()=>sY(BR);import{c as aY}from"react/compiler-runtime";import{jsx as lY}from"react/jsx-runtime";import{useParams as cY}from"next/navigation.js";import{createContext as uY,use as dY}from"react";var OR=uY({}),wx=t=>{let e=aY(3),{children:o}=t,n=cY(),r;return e[0]!==o||e[1]!==n?(r=lY(OR,{value:n,children:o}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r},mY=()=>dY(OR);import{c as FY}from"react/compiler-runtime";import{jsx as Ot,jsxs as WR}from"react/jsx-runtime";import{DndContext as TY,pointerWithin as RY}from"@dnd-kit/core";import Pqe,{Fragment as Aqe}from"react";import{useContext as pY}from"react";import{createContext as fY}from"react";var _d=fY({});var Dd=()=>pY(_d);import hY,{useCallback as gY,useEffect as bY,useReducer as vY,useRef as xY}from"react";var CY=(t,e)=>{let{timestamp:o,animationRef:n}=e;n.current=null;let{x:r,y:s,xDirection:i,yDirection:l,eventsFired:a,hasScrolled:c}=t,u=c||!!o,d=u?window.pageXOffset:0,f=u?window.pageYOffset:0,m=u?a+1:a,h=d-r,p=f-s,g=d/(document.body.scrollWidth-window.innerWidth)*100,b=f/(document.body.scrollHeight-window.innerHeight)*100,x=(g+b)/2,v=h>0?"right":h<0?"left":i,C=p>0?"down":p<0?"up":l;return{x:d,y:f,xDifference:h,yDifference:p,xDirection:v,yDirection:C,xPercentage:g,yPercentage:b,totalPercentage:x,eventsFired:m,hasScrolled:u}},Fd=t=>{let{children:e}=t,o=xY(null),[n,r]=vY(CY,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),s=gY(i=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(l=>{r({e:i,timestamp:l,animationRef:o})})},[]);return bY(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[s]),hY.createElement(_d.Provider,{value:Object.assign({},n)},e&&e)};import Mqe from"react";import PY from"react";var{WindowInfoProvider:Sx}=Ss&&"WindowInfoProvider"in Ss?Ss:{WindowInfoProvider:void 0},{useWindowInfo:ca}=Ss&&"useWindowInfo"in Ss?Ss:{useWindowInfo:void 0};import{jsx as yY}from"react/jsx-runtime";import{useSearchParams as wY}from"next/navigation.js";import*as mh from"qs-esm";import VR,{createContext as SY,use as IY}from"react";var _Y={searchParams:{},stringifyParams:()=>""},GR=SY(_Y),Ix=({children:t})=>{let o=wY().toString(),n=VR.useMemo(()=>mh.parse(o,{depth:10,ignoreQueryPrefix:!0}),[o]),r=VR.useCallback(({params:s,replace:i=!1})=>mh.stringify({...i?{}:n,...s},{addQueryPrefix:!0}),[n]);return yY(GR,{value:{searchParams:n,stringifyParams:r},children:t})},DY=()=>IY(GR);import{jsx as Td}from"react/jsx-runtime";import"react";var zR=()=>Td(Ay,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:Td(fx,{}),info:Td(px,{}),success:Td(hx,{}),warning:Td(gx,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5});var AY=t=>{let e=FY(16),{children:o,config:n,dateFNSKey:r,fallbackLang:s,isNavOpen:i,languageCode:l,languageOptions:a,locale:c,permissions:u,serverFunction:d,switchLanguageServerAction:f,theme:m,translations:h,user:p}=t,g=PY.useId(),b;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==g||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==a||e[8]!==c||e[9]!==u||e[10]!==d||e[11]!==f||e[12]!==m||e[13]!==h||e[14]!==p?(b=WR(zF,{children:[Ot(ab,{serverFunction:d,children:Ot(Qh,{children:Ot(fv,{cachingEnabled:process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH==="true",children:Ot(Lh,{config:n,children:Ot(bx,{children:Ot(Nh,{dateFNSKey:r,fallbackLang:s,language:l,languageOptions:a,switchLanguageServerAction:f,translations:h,children:Ot(Sx,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:Ot(Fd,{children:Ot(Ix,{children:Ot(_g,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:WR(Eg,{permissions:u,user:p,children:[Ot($g,{children:Ot(kh,{theme:m,children:Ot(wx,{children:Ot(kg,{locale:c,children:Ot(o0,{children:Ot(ZI,{children:Ot(dv,{children:Ot(V6,{initialIsOpen:i,children:Ot(qb,{children:Ot(TY,{collisionDetection:RY,id:g,children:o})})})})})})})})})}),Ot(wg,{}),Ot(Ny,{})]})})})})})})})})})})}),Ot(zR,{})]}),e[0]=o,e[1]=n,e[2]=r,e[3]=g,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c,e[9]=u,e[10]=d,e[11]=f,e[12]=m,e[13]=h,e[14]=p,e[15]=b):b=e[15],b};import{jsx as HR,jsxs as EY}from"react/jsx-runtime";import{email as NY,getFieldPermissions as LY,username as $Y}from"payload/shared";import"react";var kY="login-fields";function _x(t){let{className:e,loginWithUsername:o,operation:n,permissions:r,readOnly:s,t:i}=t;function l(h,p){return LY({field:{name:h,type:"text"},operation:n==="create"?"create":p,parentName:"",permissions:r}).operation}let a=typeof r=="object"&&"email"in r&&r.email,c=typeof r=="object"&&"username"in r&&r.username,u=a?{read:l("email","read"),update:l("email","update")}:{read:!0,update:!0},d=c?{read:l("username","read"),update:l("username","update")}:{read:!0,update:!0},f=(!o||o?.requireEmail||o?.allowEmailLogin)&&u.read,m=!!o&&d.read;if(f||m)return EY("div",{className:[kY,e&&e].filter(Boolean).join(" "),children:[f?HR($i,{field:{name:"email",admin:{autoComplete:"off"},label:i("general:email"),required:!o||o&&o.requireEmail},path:"email",readOnly:s||!u.update,schemaPath:"email",validate:NY}):null,m&&HR(Ui,{field:{name:"username",admin:{autoComplete:"off"},label:i("authentication:username"),required:o&&o.requireUsername},path:"username",readOnly:s||!d.update,schemaPath:"username",validate:$Y})]})}import{c as jY}from"react/compiler-runtime";import{jsx as MY}from"react/jsx-runtime";import"react";var UR="select-all",BY=()=>{let t=jY(7),{selectAll:e,toggleAll:o}=Fo(),{i18n:n}=L(),r;if(t[0]!==n||t[1]!==e||t[2]!==o){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[UR,`${UR}__checkbox`],t[4]=s):s=t[4];let i;t[5]!==o?(i=()=>o(),t[5]=o,t[6]=i):i=t[6],r=MY(Hn,{"aria-label":e===ao.None?n.t("general:selectAllRows"):n.t("general:deselectAllRows"),checked:e===ao.AllInPage||e===ao.AllAvailable,className:s.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:e===ao.Some}),t[0]=n,t[1]=e,t[2]=o,t[3]=r}else r=t[3];return r};import{c as OY}from"react/compiler-runtime";import{jsx as XR}from"react/jsx-runtime";import"react";var ZR="select-row",VY=t=>{let e=OY(14),{rowData:o}=t,{user:n}=_e(),{selected:r,setSelection:s}=Fo(),i;e[0]!==o?(i=o||{},e[0]=o,e[1]=i):i=e[1];let{_isLocked:l,_userEditing:a}=i;if(l&&a&&a.id!==n?.id){let p;return e[2]!==a?(p=XR(id,{user:a}),e[2]=a,e[3]=p):p=e[3],p}let u;e[4]!==o.id||e[5]!==r?(u=r.get(o.id),e[4]=o.id,e[5]=r,e[6]=u):u=e[6];let d=!!u,f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=[ZR,`${ZR}__checkbox`],e[7]=f):f=e[7];let m;e[8]!==o.id||e[9]!==s?(m=()=>s(o.id),e[8]=o.id,e[9]=s,e[10]=m):m=e[10];let h;return e[11]!==d||e[12]!==m?(h=XR(Hn,{checked:d,className:f.join(" "),onToggle:m}),e[11]=d,e[12]=m,e[13]=h):h=e[13],h};import{jsx as GY}from"react/jsx-runtime";import"react";var Gl=t=>{let{onClick:e}=t,{count:o,selected:n}=Fo();return!n||!o?null:GY(mt,{onClick:()=>{typeof e=="function"&&e(n)},pillStyle:"white",size:"small",children:`Select ${o}`})};import{c as zY}from"react/compiler-runtime";import{jsx as eo,jsxs as ua}from"react/jsx-runtime";import{getTranslation as fh}from"@payloadcms/translations";import{useRouter as WY}from"next/navigation.js";import{formatFilesize as HY,isNumber as UY}from"payload/shared";import{Fragment as Dx,useEffect as YR,useState as XY}from"react";var gs="collection-list";function ZY(t){let e=zY(16),{AfterList:o,AfterListTable:n,beforeActions:r,BeforeList:s,BeforeListTable:i,collectionSlug:l,columnState:a,Description:c,disableBulkDelete:u,disableBulkEdit:d,disableQueryPresets:f,enableRowSelections:m,hasCreatePermission:h,listMenuItems:p,newDocumentURL:g,queryPreset:b,queryPresetPermissions:x,renderedFilters:v,resolvedFilterOptions:C,Table:y}=t,[S,w]=XY(y),{allowCreate:_,createNewDrawerSlug:D,isInDrawer:R,onBulkSelect:T}=fr(),I=_!==void 0?_&&h:h,F,P;e[0]!==y?(F=()=>{y&&w(y)},P=[y],e[0]=y,e[1]=F,e[2]=P):(F=e[1],P=e[2]),YR(F,P);let{user:A}=_e(),{getEntityConfig:k}=H(),$=WY(),{data:j,defaultLimit:N,handlePageChange:E,handlePerPageChange:O,query:M}=Lt(),{openModal:B}=ce(),{drawerSlug:V,setCollectionSlug:G,setOnSuccess:z}=Go(),U=k({collectionSlug:l}),{labels:oe,upload:X}=U,Y=!!X,re=Y&&U.upload.bulkUpload,{i18n:W}=L(),{setStepNav:ee}=xr(),{breakpoints:ie}=ca(),{s:de}=ie,xe;if(Y){let J;e[3]!==j.docs?(J=j.docs.map(YY),e[3]=j.docs,e[4]=J):J=e[4],xe=J}else xe=j.docs;let Q=xe,ae;e[5]!==V||e[6]!==l||e[7]!==B||e[8]!==$||e[9]!==G||e[10]!==z?(ae=()=>{G(l),B(V),z(()=>$.refresh())},e[5]=V,e[6]=l,e[7]=B,e[8]=$,e[9]=G,e[10]=z,e[11]=ae):ae=e[11];let be=ae;YR(()=>{R||ee([{label:oe?.plural}])},[ee,oe,R]);let ye;return e[12]!==r||e[13]!==m||e[14]!==T?(ye=m&&typeof T=="function"?r?[...r,eo(Gl,{onClick:T},"select-many")]:[eo(Gl,{onClick:T},"select-many")]:r,e[12]=r,e[13]=m,e[14]=T,e[15]=ye):ye=e[15],eo(Dx,{children:eo(qc,{collectionSlug:l,columnState:a,children:eo("div",{className:`${gs} ${gs}--${l}`,children:ua(i0,{docs:Q,totalDocs:j.totalDocs,user:A,children:[s,ua(go,{className:`${gs}__wrap`,children:[eo(q0,{collectionConfig:U,Description:eo("div",{className:`${gs}__sub-header`,children:eo(me,{CustomComponent:c,Fallback:eo(zv,{collectionSlug:l,description:U?.admin?.description})})}),disableBulkDelete:u,disableBulkEdit:d,hasCreatePermission:I,i18n:W,isBulkUploadEnabled:re&&!X.hideFileInputOnCreate,newDocumentURL:g,openBulkUpload:be,smallBreak:de,viewType:"list"}),eo(G0,{beforeActions:ye,collectionConfig:U,collectionSlug:l,disableQueryPresets:U?.enableQueryPresets!==!0||f,listMenuItems:p,queryPreset:b,queryPresetPermissions:x,renderedFilters:v,resolvedFilterOptions:C}),i,Q.length>0&&eo(eu,{children:S}),Q.length===0&&ua("div",{className:`${gs}__no-results`,children:[eo("p",{children:W.t("general:noResults",{label:fh(oe?.plural,W)})}),I&&g&&eo(Dx,{children:R?eo(se,{el:"button",onClick:()=>B(D),children:W.t("general:createNewLabel",{label:fh(oe?.singular,W)})}):eo(se,{el:"link",to:g,children:W.t("general:createNewLabel",{label:fh(oe?.singular,W)})})})]}),n,Q.length>0&&ua("div",{className:`${gs}__page-controls`,children:[eo(ou,{hasNextPage:j.hasNextPage,hasPrevPage:j.hasPrevPage,limit:j.limit,nextPage:j.nextPage,numberOfNeighbors:1,onChange:J=>void E(J),page:j.page,prevPage:j.prevPage,totalPages:j.totalPages}),j.totalDocs>0&&ua(Dx,{children:[ua("div",{className:`${gs}__page-info`,children:[j.page*j.limit-(j.limit-1),"-",j.totalPages>1&&j.totalPages!==j.page?j.limit*j.page:j.totalDocs," ",W.t("general:of")," ",j.totalDocs]}),eo(K0,{handleChange:J=>void O(J),limit:UY(M?.limit)?Number(M.limit):N,limits:U?.admin?.pagination?.limits,resetPage:j.totalDocs<=j.pagingCounter}),de&&ua("div",{className:`${gs}__list-selection`,children:[eo(Cd,{collectionConfig:U,disableBulkDelete:u,disableBulkEdit:d,label:fh(U.labels.plural,W)}),eo("div",{className:`${gs}__list-selection-actions`,children:m&&typeof T=="function"?r?[...r,eo(Gl,{onClick:T},"select-many")]:[eo(Gl,{onClick:T},"select-many")]:r})]})]})]})]}),o]})})})})}function YY(t){return{...t,filesize:HY(t.filesize)}}import{c as a5}from"react/compiler-runtime";import{jsx as co,jsxs as Pd}from"react/jsx-runtime";import{useDndMonitor as mJ}from"@dnd-kit/core";import{getTranslation as zl}from"@payloadcms/translations";import{useRouter as fJ}from"next/navigation.js";import{formatAdminURL as i5}from"payload/shared";import pJ,{Fragment as hJ}from"react";import{jsx as An,jsxs as JR,Fragment as JY}from"react/jsx-runtime";import{getTranslation as qR}from"@payloadcms/translations";import{useRouter as qY}from"next/navigation.js";import QY from"react";var Fx="move-to-folder--current-folder",QR="confirm-many-delete",KY="current-folder-actions";function ph({className:t}){let e=qY(),{startRouteTransition:o}=Ue(),{breadcrumbs:n,currentFolder:r,folderCollectionConfig:s,folderCollectionSlug:i,folderFieldName:l,folderID:a,getFolderRoute:c,moveToFolder:u}=Wt(),[d,,{closeDrawer:f,openDrawer:m}]=vt({id:a,collectionSlug:i}),{clearRouteCache:h}=qt(),{config:p}=H(),{routes:g,serverURL:b}=p,{closeModal:x,openModal:v}=ce(),{i18n:C,t:y}=L(),S=QY.useCallback(async()=>{await fetch(`${b}${g.api}/${i}/${a}?depth=0`,{credentials:"include",method:"DELETE"}),o(()=>{e.push(c(n[n.length-2]?.id||null))})},[n,i,a,c,e,b,g.api,o]);return a?JR(JY,{children:[An(ut,{button:An(eh,{}),className:[KY,t].filter(Boolean).join(" "),render:()=>JR(Ce.ButtonGroup,{children:[An(Ce.Button,{onClick:()=>{m()},children:y("general:editLabel",{label:qR(s.labels.singular,C)})}),An(Ce.Button,{onClick:()=>{v(Fx)},children:y("folder:moveFolder")}),An(Ce.Button,{onClick:()=>{v(QR)},children:y("folder:deleteFolder")})]})}),An(gl,{action:"moveItemToFolder",drawerSlug:Fx,folderCollectionSlug:i,folderFieldName:l,fromFolderID:r?.value.id,fromFolderName:r?.value._folderOrDocumentTitle,itemsToMove:[r],onConfirm:async({id:w,name:_})=>{await u({itemsToMove:[r],toFolderID:w}),w?ue.success(y("folder:itemHasBeenMoved",{folderName:`"${_}"`,title:r.value._folderOrDocumentTitle})):ue.success(y("folder:itemHasBeenMovedToRoot",{title:r.value._folderOrDocumentTitle})),x(Fx)},title:r.value._folderOrDocumentTitle}),An(gt,{body:An(er,{elements:{1:({children:w})=>An("strong",{children:w})},i18nKey:"general:aboutToDelete",t:y,variables:{label:qR(s.labels.singular,C),title:r.value._folderOrDocumentTitle}}),confirmingLabel:y("general:deleting"),heading:y("general:confirmDeletion"),modalSlug:QR,onConfirm:S}),An(d,{onSave:()=>{f(),h()}})]}):null}import{jsx as hh,jsxs as eJ}from"react/jsx-runtime";import{DragOverlay as tJ}from"@dnd-kit/core";var Tx="drag-overlay-selection";function gh({allItems:t,lastSelected:e,selectedCount:o}){let n=t?.[e||0];return!o||!n?null:hh(tJ,{dropAnimation:null,modifiers:[oJ],style:{height:"unset",maxWidth:"220px"},children:eJ("div",{className:`${Tx}__cards`,children:[Array.from({length:o>1?2:1}).map((r,s)=>hh("div",{className:`${Tx}__card`,style:{right:`${s*3}px`,top:`-${s*3}px`},children:hh(tx,{id:null,isSelected:!0,itemKey:"overlay-card",title:n.value._folderOrDocumentTitle,type:"folder"})},s)),o>1?hh("span",{className:`${Tx}__card-count`,children:o}):null]})})}var oJ=({activatorEvent:t,draggingNodeRect:e,transform:o})=>{if(e&&t){let n=HC(t);if(!n)return o;let r=n.x-e.left,s=n.y-e.top;return{...o,x:o.x+r+5,y:o.y+s+5}}return o};import{jsx as Sr,jsxs as bh,Fragment as Rx}from"react/jsx-runtime";import"react";var Rd="sort-by-pill",KR=[{label:t=>t("general:name"),value:"_folderOrDocumentTitle"},{label:t=>t("general:createdAt"),value:"createdAt"},{label:t=>t("general:updatedAt"),value:"updatedAt"}],e5=[{label:t=>bh(Rx,{children:[Sr(Yu,{}),t("general:ascending")]}),value:"asc"},{label:t=>bh(Rx,{children:[Sr(Zu,{}),t("general:descending")]}),value:"desc"}];function vh(){let{refineFolderData:t,sort:e}=Wt(),{t:o}=L(),n=e.startsWith("-")?"desc":"asc",[r]=KR.filter(({value:i})=>i===(e.startsWith("-")?e.slice(1):e)),[s]=e5.filter(({value:i})=>i===n);return Sr(ut,{button:bh(mt,{className:`${Rd}__trigger`,icon:Sr(Ve,{}),size:"small",children:[n==="asc"?Sr(Yu,{className:`${Rd}__sort-icon`}):Sr(Zu,{className:`${Rd}__sort-icon`}),r.label(o)]}),className:Rd,horizontalAlign:"right",render:({close:i})=>bh(Rx,{children:[Sr(Ce.GroupLabel,{label:"Sort by"}),Sr(Ce.ButtonGroup,{children:KR.map(({label:l,value:a})=>Sr(Ce.Button,{active:r.value===a,onClick:()=>{t({query:{sort:a},updateURL:!0}),i()},children:l(o)},a))}),Sr(Ce.Divider,{}),Sr(Ce.GroupLabel,{label:"Order"}),Sr(Ce.ButtonGroup,{children:e5.map(({label:l,value:a})=>Sr(Ce.Button,{active:s.value===a,className:`${Rd}__order-option`,onClick:()=>{a==="asc"&&t({query:{sort:a==="asc"?`-${e}`:e},updateURL:!0}),i()},children:l(o)},a))})]}),showScrollbar:!0,verticalAlign:"bottom"})}import{jsx as xh,jsxs as rJ,Fragment as nJ}from"react/jsx-runtime";var Ch="folder-view-toggle-button";function yh({activeView:t,setActiveView:e}){return rJ(nJ,{children:[xh(se,{buttonStyle:"pill",className:[Ch,t==="grid"&&`${Ch}--active`].filter(Boolean).join(" "),icon:xh(dx,{}),margin:!1,onClick:()=>{e("grid")}}),xh(se,{buttonStyle:"pill",className:[Ch,t==="list"&&`${Ch}--active`].filter(Boolean).join(" "),icon:xh(mx,{}),margin:!1,onClick:()=>{e("list")}})]})}import{jsx as Px,jsxs as sJ}from"react/jsx-runtime";var t5="search-bar";function wh({Actions:t,className:e,filterKey:o,label:n,onSearchChange:r,searchQueryParam:s}){return sJ("div",{className:[t5,e].filter(Boolean).join(" "),children:[Px(_i,{}),Px(dd,{handleChange:r,label:n,searchQueryParam:s},o||"search"),t&&t.length>0?Px("div",{className:`${t5}__actions`,children:t}):null]})}import{c as lJ}from"react/compiler-runtime";import{jsx as bs,jsxs as n5}from"react/jsx-runtime";import{extractID as s5}from"payload/shared";import cJ,{Fragment as uJ}from"react";import{jsx as o5,jsxs as iJ,Fragment as aJ}from"react/jsx-runtime";var r5=({id:t,folderCollectionSlug:e})=>{let{clearRouteCache:o}=qt(),{t:n}=L(),[r,,{closeDrawer:s,openDrawer:i}]=vt({id:t,collectionSlug:e});return t?iJ(aJ,{children:[o5(Wo,{onClick:i,type:"button",children:n("general:edit")}),o5(r,{onSave:()=>{s(),o()}})]}):null};var Sh="move-to-folder--list",Ih=t=>{let e=lJ(16),{disableBulkDelete:o,disableBulkEdit:n}=t,{clearSelections:r,currentFolder:s,folderCollectionSlug:i,folderFieldName:l,folderID:a,getSelectedItems:c,moveToFolder:u}=Wt(),{clearRouteCache:d}=qt(),{config:f}=H(),{t:m}=L(),{closeModal:h,openModal:p}=ce(),g,b;if(e[0]!==d||e[1]!==r||e[2]!==h||e[3]!==f||e[4]!==s?.value?._folderOrDocumentTitle||e[5]!==o||e[6]!==n||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==p||e[13]!==m){b=Symbol.for("react.early_return_sentinel");e:{let x=c(),v=x.reduce(dJ,{}),C=x.length,y=Object.keys(v).length===1&&Object.keys(v)[0]!==i,S=y?f.collections.find(_=>_.slug===Object.keys(v)[0]):null;if(C===0){b=null;break e}let w=y?v[Object.keys(v)[0]]?.ids||[]:[];g=bs(Xp,{count:C,ListActions:[C>0&&bs(Wo,{onClick:()=>r(),children:m("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!n&&w.length&&n5(uJ,{children:[bs(ud,{collection:S,count:C,ids:w,selectAll:!1}),bs(vd,{collection:S,count:C,ids:w,selectAll:!1}),bs(xd,{collection:S,count:C,ids:w,selectAll:!1})]},"bulk-actions"),C===1&&!y&&bs(r5,{folderCollectionSlug:i,id:v[i].ids[0]},"edit-folder-action"),C>0?n5(cJ.Fragment,{children:[bs(Wo,{onClick:()=>{p(Sh)},type:"button",children:m("general:move")}),bs(gl,{action:"moveItemsToFolder",drawerSlug:Sh,folderCollectionSlug:i,folderFieldName:l,fromFolderID:a,fromFolderName:s?.value?._folderOrDocumentTitle,itemsToMove:c(),onConfirm:async _=>{let{id:D,name:R}=_;await u({itemsToMove:c(),toFolderID:D}),D?ue.success(m("folder:itemsMovedToFolder",{folderName:`"${R}"`,title:`${C} ${C>1?m("general:items"):m("general:item")}`})):ue.success(m("folder:itemsMovedToRoot",{title:`${C} ${C>1?m("general:items"):m("general:item")}`})),h(Sh)}})]},Sh):null,!o&&bs(d0,{afterDelete:()=>{d(),r()},selections:v},"bulk-delete")].filter(Boolean)})}e[0]=d,e[1]=r,e[2]=h,e[3]=f,e[4]=s?.value?._folderOrDocumentTitle,e[5]=o,e[6]=n,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=p,e[13]=m,e[14]=g,e[15]=b}else g=e[14],b=e[15];return b!==Symbol.for("react.early_return_sentinel")?b:g};function dJ(t,e){return e&&(t[e.relationTo]?(t[e.relationTo].ids.push(s5(e.value)),t[e.relationTo].totalCount=t[e.relationTo].totalCount+1):t[e.relationTo]={ids:[s5(e.value)],totalCount:1}),t}var da="collection-folder-list";function gJ({allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,...d}){return co(Zi,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,children:co(bJ,{...d})})}function bJ(t){let e=a5(17),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,collectionSlug:i,Description:l,disableBulkDelete:a,disableBulkEdit:c,search:u,viewPreference:d}=t,{config:f,getEntityConfig:m}=H(),{i18n:h,t:p}=L(),g=ot(),{setStepNav:b}=xr(),{setPreference:x}=Zt(),{allowCreateCollectionSlugs:v,breadcrumbs:C,documents:y,folderCollectionConfig:S,folderCollectionSlug:w,FolderResultsComponent:_,getSelectedItems:D,lastSelectedIndex:R,moveToFolder:T,refineFolderData:I,selectedItemKeys:F,setIsDragging:P,subfolders:A}=Wt(),k=fJ(),{startRouteTransition:$}=Ue(),{clearRouteCache:j}=qt(),N=m({collectionSlug:i}),{labels:E,upload:O}=N,B=!!O&&N.upload.bulkUpload,{breakpoints:V}=ca(),{s:G}=V,z;e[0]!==j||e[1]!==D||e[2]!==T?(z=async ee=>{if(ee.over&&ee.over.data.current.type==="folder"&&"id"in ee.over.data.current){try{await T({itemsToMove:D(),toFolderID:ee.over.data.current.id})}catch(ie){console.error("Error moving items:",ie)}j()}},e[0]=j,e[1]=D,e[2]=T,e[3]=z):z=e[3];let U=z,oe=async ee=>{await x(`${i}-collection-folder`,{viewPreference:ee}),j()},X=E?.plural,Y;e[4]!==C||e[5]!==i||e[6]!==f.folders||e[7]!==f.routes.admin||e[8]!==g||e[9]!==h||e[10]!==k||e[11]!==b||e[12]!==$||e[13]!==X?(Y=[C,i,f.folders,f.routes.admin,g,h,X,k,b,$],e[4]=C,e[5]=i,e[6]=f.folders,e[7]=f.routes.admin,e[8]=g,e[9]=h,e[10]=k,e[11]=b,e[12]=$,e[13]=X,e[14]=Y):Y=e[14],pJ.useEffect(()=>{g||b([C.length?{label:Pd(Ji,{className:[`${da}__step-nav-droppable`,`${da}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{$(()=>{f.folders&&k.push(i5({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}`}))})},children:[co(tr,{}),zl(E?.plural,h)]},"root")}:{label:Pd("div",{className:`${da}__step-nav-icon-label`,children:[co(tr,{}),zl(E?.plural,h)]},"root")},...C.map((ee,ie)=>({label:ie===C.length-1?ee.name:co(Ji,{className:`${da}__step-nav-droppable`,id:ee.id,onClick:()=>{$(()=>{f.folders&&k.push(i5({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}/${ee.id}`}))})},children:ee.name},ee.id)}))])},Y);let re=y.length+A.length,W;return e[15]!==I?(W=ee=>I({query:{search:ee},updateURL:!0}),e[15]=I,e[16]=W):W=e[16],Pd(hJ,{children:[co(vJ,{onDragEnd:U,setIsDragging:P}),Pd("div",{className:`${da} ${da}--${i}`,children:[r,Pd(go,{className:`${da}__wrap`,children:[co(la,{Actions:[!G&&co(Ih,{disableBulkDelete:a,disableBulkEdit:N.disableBulkEdit??c},"list-selection"),f.folders&&N.folders&&co(sh,{collectionConfig:N,folderCollectionSlug:w,viewType:"folders"},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:l,title:zl(E?.plural,h),TitleActions:[v.length&&co(cn,{buttonLabel:p("general:createNew"),collectionSlugs:v,onCreateSuccess:j,slugPrefix:"create-document--header-pill"},"create-new-button"),co(wd,{collectionSlug:i,hasCreatePermission:v.includes(i),isBulkUploadEnabled:B},"bulk-upload-button")].filter(Boolean)}),co(wh,{Actions:[co(vh,{},"sort-by-pill"),co(yh,{activeView:d,setActiveView:oe},"toggle-view-buttons"),co(ph,{},"current-folder-actions")].filter(Boolean),label:p("general:searchBy",{label:p("general:name")}),onSearchChange:W,searchQueryParam:u}),s,re>0&&_,re===0&&co(hl,{Actions:[v.includes(w)&&co(cn,{buttonLabel:`${p("general:create")} ${zl(S.labels?.singular,h).toLowerCase()}`,collectionSlugs:[S.slug],onCreateSuccess:j,slugPrefix:"create-folder--no-results"},"create-folder"),v.includes(i)&&co(cn,{buttonLabel:`${p("general:create")} ${p("general:document").toLowerCase()}`,collectionSlugs:[i],onCreateSuccess:j,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:co("p",{children:h.t("general:noResults",{label:`${zl(E?.plural,h)} ${p("general:or").toLowerCase()} ${zl(S.labels?.plural,h)}`})})}),n]}),o]}),co(gh,{allItems:[...A,...y],lastSelected:R,selectedCount:F.size})]})}function vJ(t){let e=a5(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],mJ(r),null}import{c as f5}from"react/compiler-runtime";import{jsx as Pt,jsxs as Wl,Fragment as Ex}from"react/jsx-runtime";import{useDndMonitor as SJ}from"@dnd-kit/core";import{getTranslation as Ad}from"@payloadcms/translations";import{useRouter as IJ}from"next/navigation.js";import Nx,{Fragment as _J}from"react";import{c as xJ}from"react/compiler-runtime";import{jsx as u5,jsxs as CJ}from"react/jsx-runtime";import{getTranslation as d5}from"@payloadcms/translations";import yJ from"react";import{jsx as Ax}from"react/jsx-runtime";var l5="checkbox-popup";function c5({Button:t,className:e,onChange:o,options:n,selectedValues:r,...s}){return Ax(ut,{button:t,className:[l5,e].filter(Boolean).join(" "),horizontalAlign:"right",render:({close:i})=>Ax("div",{className:`${l5}__options`,children:n.map(({label:l,value:a})=>Ax(Hn,{checked:r?.includes(a),label:l,onToggle:()=>{let c=r?.includes(a)?r.filter(u=>u!==a):[...r,a];o({close:i,selectedValues:c})}},a))}),showScrollbar:!0,verticalAlign:"bottom",...s})}var wJ="collection-type";function m5(){let t=xJ(13),{activeCollectionFolderSlugs:e,allCollectionFolderSlugs:o,folderCollectionSlug:n,refineFolderData:r}=Wt(),{i18n:s,t:i}=L(),{config:l,getEntityConfig:a}=H(),c;t[0]!==l||t[1]!==n||t[2]!==o||t[3]!==a||t[4]!==s?(c=()=>l.collections.reduce((f,m)=>(m.folders&&o.includes(m.slug)&&f.push({label:d5(m.labels?.plural,s),value:m.slug}),f),[{label:d5(a({collectionSlug:n}).labels?.plural,s),value:n}]),t[0]=l,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=c):c=t[5];let[u]=yJ.useState(c),d;if(t[6]!==u||t[7]!==r||t[8]!==i||t[9]!==e){let f;t[11]!==r?(f=m=>{let{selectedValues:h}=m;r({query:{relationTo:h},updateURL:!0})},t[11]=r,t[12]=f):f=t[12],d=u5(c5,{Button:CJ(se,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[e.length?u5("span",{className:`${wJ}__count`,children:e.length}):null,i("version:type")]}),onChange:f,options:u,selectedValues:e},"relation-to-selection-popup"),t[6]=u,t[7]=r,t[8]=i,t[9]=e,t[10]=d}else d=t[10];return d}var ma="folder-list";function DJ({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,...d}){return Pt(Zi,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,children:Pt(FJ,{...d})})}function FJ(t){let e=f5(27),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,Description:i,disableBulkDelete:l,disableBulkEdit:a,viewPreference:c}=t,u=IJ(),{getEntityConfig:d}=H(),{i18n:f,t:m}=L(),h=ot(),{setStepNav:p}=xr(),{startRouteTransition:g}=Ue(),{clearRouteCache:b}=qt(),{breakpoints:x}=ca(),{s:v}=x,{setPreference:C}=Zt(),{activeCollectionFolderSlugs:y,allowCreateCollectionSlugs:S,breadcrumbs:w,documents:_,folderCollectionConfig:D,folderID:R,getFolderRoute:T,getSelectedItems:I,lastSelectedIndex:F,moveToFolder:P,refineFolderData:A,search:k,selectedItemKeys:$,setIsDragging:j,subfolders:N}=Wt(),[E,O]=Nx.useState(c||"grid"),M;e[0]!==w||e[1]!==D||e[2]!==f||e[3]!==m?(M=()=>{let de=w.length===0?Ad(D.labels?.plural,f):w[w.length-1].name;return m("folder:searchByNameInFolder",{folderName:de})},e[0]=w,e[1]=D,e[2]=f,e[3]=m,e[4]=M):M=e[4];let[B]=Nx.useState(M),V;e[5]!==b||e[6]!==I||e[7]!==P?(V=async de=>{de.over&&de.over.data.current.type==="folder"&&"id"in de.over.data.current&&(await P({itemsToMove:I(),toFolderID:de.over.data.current.id||null}),b())},e[5]=b,e[6]=I,e[7]=P,e[8]=V):V=e[8];let G=V,z=_.length+N.length,U;e[9]!==w||e[10]!==m?(U=w.length?w[w.length-1].name:m("folder:browseByFolder"),e[9]=w,e[10]=m,e[11]=U):U=e[11];let oe=U,X;e[12]!==d||e[13]!==f||e[14]!==m?(X=(de,xe,Q,ae)=>{let be=d({collectionSlug:xe});return Q===0?Ad(be.labels?.plural,f):Q===ae.length-1?`${de} ${m("general:or").toLowerCase()} ${Ad(be.labels?.plural,f)}`:`${de}, ${Ad(be.labels?.plural,f)}`},e[12]=d,e[13]=f,e[14]=m,e[15]=X):X=e[15];let Y=y.reduce(X,""),re=de=>{C("browse-by-folder",{viewPreference:de}),O(de)},W,ee;e[16]!==w||e[17]!==h||e[18]!==T||e[19]!==u||e[20]!==p||e[21]!==g||e[22]!==m?(W=()=>{h||p([w.length?{label:Wl(Ji,{className:[`${ma}__step-nav-droppable`,`${ma}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{g(()=>{u.push(T(null))})},children:[Pt(tr,{}),m("folder:browseByFolder")]},"root")}:{label:Wl("div",{className:`${ma}__step-nav-icon-label`,children:[Pt(tr,{}),m("folder:browseByFolder")]},"root")},...w.map((de,xe)=>({label:xe===w.length-1?de.name:Pt(Ji,{className:`${ma}__step-nav-droppable`,id:de.id,onClick:()=>{g(()=>{u.push(T(de.id))})},children:de.name},de.id)}))])},ee=[w,h,T,u,p,g,m],e[16]=w,e[17]=h,e[18]=T,e[19]=u,e[20]=p,e[21]=g,e[22]=m,e[23]=W,e[24]=ee):(W=e[23],ee=e[24]),Nx.useEffect(W,ee);let ie;return e[25]!==A?(ie=de=>A({query:{search:de},updateURL:!0}),e[25]=A,e[26]=ie):ie=e[26],Wl(_J,{children:[Pt(TJ,{onDragEnd:G,setIsDragging:j}),Wl("div",{className:`${ma} ${ma}--folders`,children:[r,Wl(go,{className:`${ma}__wrap`,children:[Pt(la,{Actions:[!v&&Pt(Ih,{disableBulkDelete:l,disableBulkEdit:a},"list-selection")].filter(Boolean),AfterListHeaderContent:i,title:oe,TitleActions:[S.length&&Pt(cn,{buttonLabel:m("general:createNew"),collectionSlugs:S,onCreateSuccess:b,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),Pt(wh,{Actions:[Pt(vh,{},"sort-by-pill"),R&&Pt(m5,{},"collection-type"),Pt(yh,{activeView:E,setActiveView:re},"toggle-view-buttons"),Pt(ph,{},"current-folder-actions")].filter(Boolean),label:B,onSearchChange:ie,searchQueryParam:k}),s,z>0&&Pt(Ex,{children:E==="grid"?Wl("div",{children:[N.length?Pt(Ex,{children:Pt(lh,{items:N,title:"Folders",type:"folder"})}):null,_.length?Pt(Ex,{children:Pt(lh,{items:_,subfolderCount:N.length,title:"Documents",type:"file"})}):null]}):Pt(sx,{})}),z===0&&Pt(hl,{Actions:[S.includes(D.slug)&&Pt(cn,{buttonLabel:`${m("general:create")} ${Ad(D.labels?.singular,f).toLowerCase()}`,collectionSlugs:[D.slug],onCreateSuccess:b,slugPrefix:"create-folder--no-results"},"create-folder"),R&&S.filter(de=>de!==D.slug).length>0&&Pt(cn,{buttonLabel:`${m("general:create")} ${m("general:document").toLowerCase()}`,collectionSlugs:S.filter(de=>de!==D.slug),onCreateSuccess:b,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:Pt("p",{children:f.t("general:noResults",{label:Y})})}),n]}),o]}),Pt(gh,{allItems:[...N,..._],lastSelected:F,selectedCount:$.size})]})}function TJ(t){let e=f5(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],SJ(r),null}import{jsx as Xo,jsxs as Th}from"react/jsx-runtime";import{useRouter as gq,useSearchParams as bq}from"next/navigation.js";import{formatAdminURL as vq}from"payload/shared";import xq,{Fragment as Cq,useCallback as Gx,useEffect as A5,useMemo as yq,useRef as zx,useState as Rh}from"react";import{c as h5}from"react/compiler-runtime";import{jsx as Hl,jsxs as p5}from"react/jsx-runtime";var g5=t=>{let e=h5(10),{drawerSlug:o,showDocumentID:n}=t,r=n===void 0?!0:n,{closeModal:s}=ce(),{t:i}=L(),l;if(e[0]!==s||e[1]!==o||e[2]!==r||e[3]!==i){let a;e[5]!==s||e[6]!==o?(a=()=>s(o),e[5]=s,e[6]=o,e[7]=a):a=e[7];let c;e[8]!==r?(c=r&&Hl(RJ,{}),e[8]=r,e[9]=c):c=e[9],l=p5(go,{className:`${js}__header`,children:[p5("div",{className:`${js}__header-content`,children:[Hl("h2",{className:`${js}__header-text`,children:Hl(lx,{element:"span"})}),Hl("button",{"aria-label":i("general:close"),className:`${js}__header-close`,onClick:a,type:"button",children:Hl(ct,{})})]}),c]}),e[0]=s,e[1]=o,e[2]=r,e[3]=i,e[4]=l}else l=e[4];return l},RJ=()=>{let t=h5(3),{id:e}=Re(),{title:o}=cr(),n;return t[0]!==e||t[1]!==o?(n=e&&e!==o?Hl(ch,{id:e.toString()}):null,t[0]=e,t[1]=o,t[2]=n):n=t[2],n};import{c as HJ}from"react/compiler-runtime";import{jsx as Ul,jsxs as UJ}from"react/jsx-runtime";import{reduceFieldsToValues as XJ}from"payload/shared";import ZJ,{useEffect as w5}from"react";import{jsx as b5}from"react/jsx-runtime";import v5,{useEffect as PJ}from"react";var x5=t=>{let{children:e}=t,o=v5.useRef(null),n=v5.useRef(null),{breakpoint:r,setMeasuredDeviceSize:s,size:i,zoom:l}=yo(),{size:a}=Tp(o.current),{size:c}=Tp(n.current),u=!1;PJ(()=>{a&&s(a)},[a,s]);let d="0",f="0";if(r&&r!=="responsive"&&(d="-50%",i&&a&&typeof l=="number"&&typeof i.width=="number"&&typeof i.height=="number"&&typeof a.width=="number"&&typeof a.height=="number")){f="0 auto";let p=i.width/l,g=a.width*l,b=p-i.width;if(u=g>c.width,u)if(l>1){let x=a.width-c.width;x<0?d=`${x/2}px`:d="0"}else d="0";else l>=1?d=`${b/2}px`:(d=`${(c.width-g)/2}px`,f="0")}let m=l?`${100/l}%`:"100%",h=l?`${100/l}%`:"100%";return r!=="responsive"&&(m=`${i?.width/(typeof l=="number"?l:1)}px`,h=`${i?.height/(typeof l=="number"?l:1)}px`),b5("div",{ref:n,style:{height:"100%",width:"100%"},children:b5("div",{ref:o,style:{height:h,margin:f,transform:`translate3d(${d}, 0, 0)`,width:m},children:e})})};import{jsx as AJ}from"react/jsx-runtime";import"react";var EJ="live-preview-iframe",C5=t=>{let{ref:e,setIframeHasLoaded:o,url:n}=t,{zoom:r}=yo();return AJ("iframe",{className:EJ,onLoad:()=>{o(!0)},ref:e,src:n,style:{transform:typeof r=="number"?`scale(${r}) `:void 0},title:n})};import{c as OJ}from"react/compiler-runtime";import{jsx as pa,jsxs as VJ}from"react/jsx-runtime";import{useDraggable as GJ}from"@dnd-kit/core";import"react";import{c as MJ}from"react/compiler-runtime";import{jsx as jo,jsxs as fa}from"react/jsx-runtime";import _h from"react";import{c as NJ}from"react/compiler-runtime";import{jsx as LJ}from"react/jsx-runtime";import $J,{useEffect as kJ}from"react";var jJ="toolbar-input",Lx=t=>{let e=NJ(18),{axis:o}=t,{breakpoint:n,measuredDeviceSize:r,setBreakpoint:s,setSize:i,size:l,zoom:a}=yo(),[c,u]=$J.useState((o==="x"?r?.width:r?.height)||0),d;e[0]!==o||e[1]!==r?.height||e[2]!==r?.width||e[3]!==s||e[4]!==i||e[5]!==a?(d=x=>{let v=Number(x.target.value);v<0&&(v=0),u(v),s("custom"),i({type:"reset",value:{height:o==="y"?v:Number(r?.height.toFixed(0))*a,width:o==="x"?v:Number(r?.width.toFixed(0))*a}})},e[0]=o,e[1]=r?.height,e[2]=r?.width,e[3]=s,e[4]=i,e[5]=a,e[6]=d):d=e[6];let f=d,m,h;e[7]!==o||e[8]!==n||e[9]!==r||e[10]!==l||e[11]!==a?(m=()=>{n==="responsive"&&r&&u(o==="x"?Number(r.width.toFixed(0))*a:Number(r.height.toFixed(0))*a),n!=="responsive"&&l&&u(o==="x"?l.width:l.height)},h=[n,o,r,l,a],e[7]=o,e[8]=n,e[9]=r,e[10]=l,e[11]=a,e[12]=m,e[13]=h):(m=e[12],h=e[13]),kJ(m,h);let p=o==="x"?"live-preview-width":"live-preview-height",g=c||0,b;return e[14]!==f||e[15]!==p||e[16]!==g?(b=LJ("input",{className:jJ,min:0,name:p,onChange:f,step:1,type:"number",value:g}),e[14]=f,e[15]=p,e[16]=g,e[17]=b):b=e[17],b};var ni="live-preview-toolbar-controls",BJ=[50,75,100,125,150,200],$x=()=>{let t=MJ(14),{breakpoint:e,breakpoints:o,setBreakpoint:n,setPreviewWindowType:r,setZoom:s,url:i,zoom:l}=yo(),{t:a}=L(),c;if(t[0]!==e||t[1]!==o||t[2]!==n||t[3]!==r||t[4]!==s||t[5]!==a||t[6]!==i||t[7]!==l){let u={label:a("general:custom"),value:"custom"},d;t[9]!==s||t[10]!==l?(d=m=>{let{close:h}=m;return jo(Ce.ButtonGroup,{children:jo(_h.Fragment,{children:BJ.map(p=>fa(Ce.Button,{active:l*100==p,onClick:()=>{s(p/100),h()},children:[p,"%"]},p))})})},t[9]=s,t[10]=l,t[11]=d):d=t[11];let f;t[12]!==r?(f=m=>{m.preventDefault(),r("popup")},t[12]=r,t[13]=f):f=t[13],c=fa("div",{className:ni,children:[o?.length>0&&jo(ut,{button:fa(_h.Fragment,{children:[jo("span",{children:o.find(m=>m.name==e)?.label??u.label}),jo(Ve,{className:`${ni}__chevron`})]}),className:`${ni}__breakpoint`,horizontalAlign:"right",render:m=>{let{close:h}=m;return jo(Ce.ButtonGroup,{children:fa(_h.Fragment,{children:[o.map(p=>jo(Ce.Button,{active:p.name==e,onClick:()=>{n(p.name),h()},children:p.label},p.name)),e==="custom"&&jo(Ce.Button,{active:e==u.value,onClick:()=>{n(u.value),h()},children:u.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),fa("div",{className:`${ni}__device-size`,children:[jo(Lx,{axis:"x"}),jo("span",{className:`${ni}__size-divider`,children:jo(ct,{})}),jo(Lx,{axis:"y"})]}),jo(ut,{button:fa(_h.Fragment,{children:[fa("span",{children:[l*100,"%"]}),jo(Ve,{className:`${ni}__chevron`})]}),className:`${ni}__zoom`,horizontalAlign:"right",render:d,showScrollbar:!0,verticalAlign:"bottom"}),jo("a",{className:`${ni}__external`,href:i,onClick:f,target:"_blank",title:"Open in new window",type:"button",children:jo(ad,{})})]}),t[0]=e,t[1]=o,t[2]=n,t[3]=r,t[4]=s,t[5]=a,t[6]=i,t[7]=l,t[8]=c}else c=t[8];return c};var Ed="live-preview-toolbar",zJ=t=>{let e=OJ(10),{toolbarPosition:o}=yo(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={id:"live-preview-toolbar"},e[0]=n):n=e[0];let{attributes:r,listeners:s,setNodeRef:i,transform:l}=GJ(n),a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=[Ed,`${Ed}--draggable`],e[1]=a):a=e[1];let c=`${o.x}px`,u=`${o.y}px`,d;return e[2]!==r||e[3]!==s||e[4]!==t||e[5]!==i||e[6]!==c||e[7]!==u||e[8]!==l?(d=VJ("div",{className:a.join(" "),style:{left:c,top:u,...l?{transform:l?`translate3d(${l?.x||0}px, ${l?.y||0}px, 0)`:void 0}:{}},children:[pa("button",{...s,...r,className:`${Ed}__drag-handle`,ref:i,type:"button",children:pa(Jr,{})}),pa($x,{...t})]}),e[2]=r,e[3]=s,e[4]=t,e[5]=i,e[6]=c,e[7]=u,e[8]=l,e[9]=d):d=e[9],d},WJ=t=>pa("div",{className:[Ed,`${Ed}--static`].join(" "),children:pa($x,{...t})}),y5=t=>{let{draggable:e}=t;return e?pa(zJ,{...t}):pa(WJ,{...t})};var Nd="live-preview-window",S5=t=>{let e=HJ(46),{appIsReady:o,breakpoint:n,fieldSchemaJSON:r,iframeHasLoaded:s,iframeRef:i,isLivePreviewing:l,popupRef:a,previewWindowType:c,setIframeHasLoaded:u,url:d}=yo(),f=we(),{mostRecentUpdate:m}=os(),h=ZJ.useRef(void 0),[p]=ws(),g;e[0]!==o||e[1]!==r||e[2]!==p||e[3]!==i||e[4]!==l||e[5]!==f||e[6]!==m||e[7]!==a||e[8]!==c||e[9]!==d?(g=()=>{if(l&&p&&window&&"postMessage"in window&&o){let C=XJ(p,!0),y=!h.current||h.current!==c;h.current=c;let S={type:"payload-live-preview",data:C,externallyUpdatedRelationship:m,fieldSchemaJSON:y?r:void 0,locale:f.code};c==="popup"&&a.current&&a.current.postMessage(S,d),c==="iframe"&&i.current&&i.current.contentWindow?.postMessage(S,d)}},e[0]=o,e[1]=r,e[2]=p,e[3]=i,e[4]=l,e[5]=f,e[6]=m,e[7]=a,e[8]=c,e[9]=d,e[10]=g):g=e[10];let b;e[11]!==o||e[12]!==r||e[13]!==p||e[14]!==s||e[15]!==i||e[16]!==l||e[17]!==f||e[18]!==m||e[19]!==a||e[20]!==c||e[21]!==u||e[22]!==d?(b=[p,d,s,c,a,o,i,u,r,m,f,l],e[11]=o,e[12]=r,e[13]=p,e[14]=s,e[15]=i,e[16]=l,e[17]=f,e[18]=m,e[19]=a,e[20]=c,e[21]=u,e[22]=d,e[23]=b):b=e[23],w5(g,b);let x;e[24]!==i||e[25]!==l||e[26]!==a||e[27]!==c||e[28]!==d?(x=()=>{if(!l)return;let C={type:"payload-document-event"};c==="popup"&&a.current&&a.current.postMessage(C,d),c==="iframe"&&i.current&&i.current.contentWindow?.postMessage(C,d)},e[24]=i,e[25]=l,e[26]=a,e[27]=c,e[28]=d,e[29]=x):x=e[29];let v;if(e[30]!==i||e[31]!==l||e[32]!==m||e[33]!==a||e[34]!==c||e[35]!==d?(v=[m,i,a,c,d,l],e[30]=i,e[31]=l,e[32]=m,e[33]=a,e[34]=c,e[35]=d,e[36]=v):v=e[36],w5(x,v),c==="iframe"){let C=l&&`${Nd}--is-live-previewing`,y=n&&n!=="responsive"&&`${Nd}--has-breakpoint`,S;e[37]!==C||e[38]!==y?(S=[Nd,C,y].filter(Boolean),e[37]=C,e[38]=y,e[39]=S):S=e[39];let w=S.join(" "),_;return e[40]!==i||e[41]!==t||e[42]!==u||e[43]!==w||e[44]!==d?(_=Ul("div",{className:w,children:UJ("div",{className:`${Nd}__wrapper`,children:[Ul(y5,{...t}),Ul("div",{className:`${Nd}__main`,children:Ul(x5,{children:d?Ul(C5,{ref:i,setIframeHasLoaded:u,url:d}):Ul(yt,{height:"100%"})})})]})}),e[40]=i,e[41]=t,e[42]=u,e[43]=w,e[44]=d,e[45]=_):_=e[45],_}};import{formatAdminURL as YJ}from"payload/shared";var I5=({adminRoute:t,router:e})=>{let o=YJ({adminRoute:t,path:"/"});e.push(o)};import{formatAdminURL as JJ}from"payload/shared";var _5=({adminRoute:t,collectionSlug:e,router:o})=>{let n=JJ({adminRoute:t,path:e?`/collections/${e}`:"/"});o.push(n)};var kx=(t,e,o,n,r,s,i,l,a,c)=>{if(a)try{s(t,e??o,n),r||(l.current.hasShownLockedModal=!0),l.current={hasShownLockedModal:l.current?.hasShownLockedModal,isLocked:!0,user:n},i(n),r&&c&&c(!1)}catch(u){console.error("Error during document takeover:",u)}};import{c as rq}from"react/compiler-runtime";import{jsx as En,jsxs as Ld}from"react/jsx-runtime";import{getFieldPermissions as Mx}from"payload/shared";import nq,{Fragment as sq,useEffect as iq,useState as aq}from"react";import{jsx as Dh,jsxs as jx}from"react/jsx-runtime";import{getTranslation as qJ}from"@payloadcms/translations";import{text as QJ}from"payload/shared";import KJ,{useEffect as D5,useMemo as F5,useState as T5}from"react";var eq="apiKey",tq="api-key",oq="field-type",R5=({enabled:t,readOnly:e})=>{let[o]=T5(Xn()),[n,r]=T5(!1),{i18n:s,t:i}=L(),{config:l,getEntityConfig:a}=H(),{collectionSlug:c}=Re(),u=Tt(([C])=>C&&C[eq]||null),d=a({collectionSlug:c})?.fields?.find(C=>"name"in C&&C.name==="apiKey"),f=C=>QJ(C,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:l},t:i},siblingData:{}}),m=u?.value,h=F5(()=>{let C="API Key";return d?.label&&(C=d.label),qJ(C,s)},[d,s]),p=F5(()=>jx("div",{className:`${tq}__label`,children:[Dh("span",{children:h}),Dh(Au,{value:m})]}),[h,m]),g=Ne({path:"apiKey",validate:f}),b=()=>{n&&r(!1),setTimeout(()=>{r(!0)},1)},{setValue:x,value:v}=g;return D5(()=>{!m&&t&&x(o),!t&&m&&x(null)},[m,t,x,o]),D5(()=>{n&&setTimeout(()=>{r(!1)},1e4)},[n]),t?jx(KJ.Fragment,{children:[jx("div",{className:[oq,"api-key","read-only"].filter(Boolean).join(" "),children:[p,Dh("input",{"aria-label":h,className:n?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:"text",value:v||""})]}),!e&&Dh(D0,{highlightField:b,setKey:()=>x(Xn())})]}):null};var Fh="auth-fields",P5=t=>{let e=rq(34),{className:o,collectionSlug:n,disableLocalStrategy:r,email:s,loginWithUsername:i,operation:l,readOnly:a,requirePassword:c,setValidateBeforeSubmit:u,useAPIKey:d,username:f,verify:m}=t,{permissions:h}=_e(),[p,g]=aq(c),b=Tt(lq),x=Tt(cq),v=ro(),{i18n:C,t:y}=L(),{docPermissions:S,isEditing:w,isInitializing:_}=Re(),{config:D}=H(),{routes:R,serverURL:T}=D,{api:I}=R,F=!0,P=!0,A=typeof S.fields=="object"&&"password"in S.fields,k=typeof S.fields=="object"&&("username"in S.fields||"email"in S.fields);if(A){let{permissions:ie}=Mx({field:{name:"password",type:"text"},operation:l,parentName:"",permissions:S?.fields});l==="create"?F=ie===!0||typeof ie=="object"&&ie.create:F=ie===!0||typeof ie=="object"&&ie.update}if(k){let ie=i&&(i.requireEmail||i.allowEmailLogin),{operation:de}=Mx({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:S?.fields}),{operation:xe}=Mx({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:S?.fields});ie?P=xe||de:i&&!ie?P=xe:P=de}let $=(!r||typeof r=="object"&&r.enableFields===!0)&&(P||F),j=a||_,N=S?.fields===!0?!0:S?.fields?.enableAPIKey,E=a||N===!0||N&&typeof N=="object"&&!N?.update,O=a||N!==!0&&!N?.update,M=N===!0||N?.read,B;e:{let ie=h?.collections?.[n];if(ie){B=!!("unlock"in ie&&ie.unlock);break e}B=!1}let V=B,G;e[0]!==x||e[1]!==u||e[2]!==y?(G=ie=>{ie?(u(!0),x({type:"UPDATE",errorMessage:y("validation:required"),path:"password",valid:!1}),x({type:"UPDATE",errorMessage:y("validation:required"),path:"confirm-password",valid:!1})):(u(!1),x({type:"REMOVE",path:"password"}),x({type:"REMOVE",path:"confirm-password"})),g(ie)},e[0]=x,e[1]=u,e[2]=y,e[3]=G):G=e[3];let z=G,U;e[4]!==I||e[5]!==n||e[6]!==s||e[7]!==C||e[8]!==i||e[9]!==T||e[10]!==y||e[11]!==f?(U=async()=>{let ie=`${T}${I}/${n}/unlock`;(await fetch(ie,{body:JSON.stringify(i&&f?{username:f}:{email:s}),credentials:"include",headers:{"Accept-Language":C.language,"Content-Type":"application/json"},method:"post"})).status===200?ue.success(y("authentication:successfullyUnlocked")):ue.error(y("authentication:failedToUnlock"))},e[4]=I,e[5]=n,e[6]=s,e[7]=C,e[8]=i,e[9]=T,e[10]=y,e[11]=f,e[12]=U):U=e[12];let oe=U,X,Y;if(e[13]!==v?(X=()=>{v||g(!1)},Y=[v],e[13]=v,e[14]=X,e[15]=Y):(X=e[14],Y=e[15]),iq(X,Y),r&&!$&&!d)return null;let re;e[16]!==o?(re=[Fh,o].filter(Boolean),e[16]=o,e[17]=re):re=e[17];let W;e[18]!==E||e[19]!==M||e[20]!==n||e[21]!==j||e[22]!==b?.value||e[23]!==O||e[24]!==y||e[25]!==d?(W=d&&En("div",{className:`${Fh}__api-key`,children:M&&Ld(sq,{children:[En(Pr,{field:{name:"enableAPIKey",admin:{disabled:j,readOnly:O},label:y("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:`${n}.enableAPIKey`}),En(R5,{enabled:!!b?.value,readOnly:E})]})}),e[18]=E,e[19]=M,e[20]=n,e[21]=j,e[22]=b?.value,e[23]=O,e[24]=y,e[25]=d,e[26]=W):W=e[26];let ee;return e[27]!==n||e[28]!==j||e[29]!==w||e[30]!==a||e[31]!==y||e[32]!==m?(ee=m&&w&&En(Pr,{field:{name:"_verified",admin:{disabled:j,readOnly:a},label:y("authentication:verified")},path:"_verified",schemaPath:`${n}._verified`}),e[27]=n,e[28]=j,e[29]=w,e[30]=a,e[31]=y,e[32]=m,e[33]=ee):ee=e[33],Ld("div",{className:re.join(" "),children:[$&&Ld(nq.Fragment,{children:[En(_x,{loginWithUsername:i,operation:l,permissions:S?.fields,readOnly:a,t:y}),(p||c)&&(!r||!$)&&Ld("div",{className:`${Fh}__changing-password`,children:[En(Xu,{autoComplete:"new-password",field:{name:"password",label:y("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),En(Uu,{disabled:a})]}),Ld("div",{className:`${Fh}__controls`,children:[p&&!c&&En(se,{buttonStyle:"secondary",disabled:j,onClick:()=>z(!1),size:"medium",children:y("general:cancel")}),!p&&!c&&!r&&F&&En(se,{buttonStyle:"secondary",disabled:j,id:"change-password",onClick:()=>z(!0),size:"medium",children:y("authentication:changePassword")}),l==="update"&&V&&En(se,{buttonStyle:"secondary",disabled:j||!P,onClick:()=>void oe(),size:"medium",children:y("authentication:forceUnlock")})]})]}),W,ee]})};function lq(t){let[e]=t;return e&&e?.enableAPIKey||null}function cq(t){return t[1]}import{c as uq}from"react/compiler-runtime";import{getTranslation as dq}from"@payloadcms/translations";import{formatAdminURL as Bx}from"payload/shared";import{useEffect as mq}from"react";var Ox=t=>{let e=uq(20),{id:o,collectionSlug:n,globalSlug:r,pluralLabel:s,useAsTitle:i}=t,l=t?.view||void 0,{isEditing:a,isInitializing:c}=Re(),{title:u}=cr(),{isEntityVisible:d}=yx(),f;e[0]!==n||e[1]!==r||e[2]!==d?(f=d({collectionSlug:n,globalSlug:r}),e[0]=n,e[1]=r,e[2]=d,e[3]=f):f=e[3];let m=f,{setStepNav:h}=xr(),{i18n:p,t:g}=L(),{config:b}=H(),{routes:x}=b,{admin:v}=x,C,y;return e[4]!==v||e[5]!==n||e[6]!==r||e[7]!==p||e[8]!==o||e[9]!==a||e[10]!==c||e[11]!==m||e[12]!==s||e[13]!==h||e[14]!==g||e[15]!==u||e[16]!==i||e[17]!==l?(C=()=>{let S=[];c||(n?(S.push({label:dq(s,p),url:m?Bx({adminRoute:v,path:`/collections/${n}`}):void 0}),a?S.push({label:i&&i!=="id"&&u||`${o}`,url:m?Bx({adminRoute:v,path:`/collections/${n}/${o}`}):void 0}):S.push({label:g("general:createNew")})):r&&S.push({label:u,url:m?Bx({adminRoute:v,path:`/globals/${r}`}):void 0}),l&&S.push({label:l}),h(S))},y=[h,c,a,s,o,i,v,g,p,u,n,r,l,m],e[4]=v,e[5]=n,e[6]=r,e[7]=p,e[8]=o,e[9]=a,e[10]=c,e[11]=m,e[12]=s,e[13]=h,e[14]=g,e[15]=u,e[16]=i,e[17]=l,e[18]=C,e[19]=y):(C=e[18],y=e[19]),mq(C,y),null};import{c as fq}from"react/compiler-runtime";import{useEffect as pq,useRef as hq}from"react";var Vx=t=>{let e=fq(14),{collectionConfig:o,config:n,fallback:r,globalConfig:s}=t,i=o?.admin?.useAsTitle,l;e[0]!==i?(l=x=>{let[v]=x;return i&&v&&v?.[i]||null},e[0]=i,e[1]=l):l=e[1];let a=Tt(l),c=hq(!1),{i18n:u}=L(),{setDocumentTitle:d}=cr(),f=n?.admin?.dateFormat,m=a?.value||"",h;e[2]!==o||e[3]!==f||e[4]!==r||e[5]!==s||e[6]!==u||e[7]!==m||e[8]!==i?(h=Mo({collectionConfig:o,data:{id:"",[i]:m},dateFormat:f,fallback:r,globalConfig:s,i18n:u}),e[2]=o,e[3]=f,e[4]=r,e[5]=s,e[6]=u,e[7]=m,e[8]=i,e[9]=h):h=e[9];let p=h,g,b;return e[10]!==d||e[11]!==p?(g=()=>{if(!c.current){c.current=!0;return}d(p)},b=[d,p],e[10]=d,e[11]=p,e[12]=g,e[13]=b):(g=e[12],b=e[13]),pq(g,b),null};var vs="collection-edit";function wq({BeforeDocumentControls:t,Description:e,EditMenuItems:o,PreviewButton:n,PublishButton:r,SaveButton:s,SaveDraftButton:i,Upload:l,UploadControls:a}){let{id:c,action:u,AfterDocument:d,AfterFields:f,apiURL:m,BeforeFields:h,collectionSlug:p,currentEditor:g,disableActions:b,disableCreate:x,disableLeaveWithoutSaving:v,docPermissions:C,documentIsLocked:y,getDocPermissions:S,getDocPreferences:w,globalSlug:_,hasPublishPermission:D,hasSavePermission:R,incrementVersionCount:T,initialState:I,isEditing:F,isInitializing:P,lastUpdateTime:A,redirectAfterCreate:k,redirectAfterDelete:$,redirectAfterDuplicate:j,savedDocumentData:N,setCurrentEditor:E,setDocumentIsLocked:O,unlockDocument:M,updateDocumentEditor:B,updateSavedDocumentData:V}=Re(),{clearDoc:G,drawerSlug:z,onDelete:U,onDuplicate:oe,onSave:X}=Bi(),Y=!!z,{refreshCookieAsync:re,user:W}=_e(),{config:ee,config:{admin:{user:ie},routes:{admin:de}},getEntityConfig:xe}=H(),Q=xe({collectionSlug:p}),ae=xe({globalSlug:_}),be=ot(),ye=gq(),J=bq(),{reportUpdate:pe}=os(),{resetUploadEdits:te}=wi(),{getFormState:Z}=Rt(),{startRouteTransition:le}=Ue(),{isLivePreviewEnabled:K,isLivePreviewing:he,previewWindowType:Le}=yo(),He=zx(null),Ze=zx(null),Ye=J.get("locale"),At=Q?.slug||ae?.slug,lt=p&&!c?"create":"update",it=Q?Q.auth:void 0,Et=Q?Q.upload:void 0,Ut=Q||ae,We=Ut?.lockDocuments!==void 0?Ut?.lockDocuments:!0,Be=We!==!1,po=(typeof We=="object"?We.duration:300)*1e3,Ft=!!(Q?.versions?.drafts&&Q?.versions?.drafts?.autosave||ae?.versions?.drafts&&ae?.versions?.drafts?.autosave),et=typeof v<"u"?!v:!Ft,[ve,fe]=Rh(!1),[q,ne]=Rh(!1),[ge,Fe]=Rh(Date.now()),je=A+po,Oe=Date.now()>je,Ee=zx({hasShownLockedModal:!1,isLocked:!1,user:null}),$e=yq(()=>[At],[At]),[Ro,rr]=Rh(()=>!!(lt==="create"&&it&&!it.disableLocalStrategy)),nr=Gx(tt=>{O(!0);let to=typeof Ee.current?.user=="object"?Ee.current?.user?.id:Ee.current?.user;if(tt){let ht=typeof tt.user=="string"||typeof tt.user=="number"?tt.user:tt.user.id;(!Ee.current||ht!==to)&&(to===W.id&&ht!==W.id&&(ne(!0),Ee.current.hasShownLockedModal=!0),Ee.current={hasShownLockedModal:Ee.current?.hasShownLockedModal||!1,isLocked:!0,user:tt.user},E(tt.user))}},[E,O,W?.id]),si=Gx(async tt=>{let to=hr(Ze),ht=tt?.doc||tt?.result;if(pe({id:c,entitySlug:At,updatedAt:ht?.updatedAt||new Date().toISOString()}),W&&p===ie&&c===W.id&&re(),T(),typeof V=="function"&&V(ht||{}),typeof X=="function"){let Xt=c?"update":"create";X({...tt,operation:Xt,updatedAt:Xt==="update"?new Date().toISOString():ht?.updatedAt||new Date().toISOString()})}if(!F&&be<2&&k!==!1){let Xt=vq({adminRoute:de,path:`/collections/${p}/${ht?.id}${Ye?`?locale=${Ye}`:""}`});le(()=>ye.push(Xt))}else te();if(await S(tt),(c||_)&&!Ft){let Xt=await w(),{state:hn}=await Z({id:c,collectionSlug:p,data:ht,docPermissions:C,docPreferences:Xt,globalSlug:_,operation:lt,renderAllFields:!0,returnLockStatus:!1,schemaPath:$e.join("."),signal:to.signal,skipValidation:!0});return Be&&O(!1),Ze.current=null,hn}},[pe,c,At,W,p,ie,T,V,X,k,F,be,S,_,Ft,re,de,Ye,ye,te,w,Z,C,lt,$e,Be,O,le]),uo=Gx(async({formState:tt,submitted:to})=>{let ht=hr(He),Xt=Date.now(),hn=Xt-ge,Nn=Be&&hn>=1e4;Nn&&Fe(Xt);let ii=await w(),{lockedState:Ph,state:ha}=await Z({id:c,collectionSlug:p,docPermissions:C,docPreferences:ii,formState:tt,globalSlug:_,operation:lt,skipValidation:!to,renderAllFields:!1,returnLockStatus:Be,schemaPath:$e.join("."),signal:ht.signal,updateLastEdited:Nn});return Be&&nr(Ph),He.current=null,ha},[c,p,w,Z,_,nr,Be,lt,$e,C,ge]);A5(()=>()=>{Be&&y&&(c||_)&&!["preview","api","versions"].some(to=>window.location.pathname.includes(to))&&(typeof Ee.current?.user=="object"?Ee.current?.user?.id===W?.id:Ee.current?.user===W?.id)&&(M(c,p??_),O(!1),E(null)),ne(!1)},[p,_,c,M,W,E,Be,y,O]),A5(()=>{let tt=He.current,to=Ze.current;return()=>{pr(tt),pr(to)}},[]);let pn=y&&g&&(typeof g=="object"?g.id!==W?.id:g!==W?.id)&&!ve&&!q&&!Ee.current?.hasShownLockedModal&&!Oe,Xe=ee.folders&&p===ee.folders?.slug;return Xo("main",{className:[vs,(c||_)&&`${vs}--is-editing`,_&&`global-edit--${_}`,p&&`collection-edit--${p}`,he&&Le==="iframe"&&`${vs}--is-live-previewing`].filter(Boolean).join(" "),children:Xo(bc,{operation:lt,children:Th(Kn,{action:u,className:`${vs}__form`,disabled:ve||P||!R,disableValidationOnSubmit:!Ro,initialState:!P&&I,isDocumentForm:!0,isInitializing:P,method:c?"PATCH":"POST",onChange:[uo],onSuccess:si,children:[Y&&Xo(g5,{drawerSlug:z,showDocumentID:!Xe}),Be&&pn&&Xo(Gv,{handleGoBack:()=>_5({adminRoute:de,collectionSlug:p,router:ye}),isActive:pn,onReadOnly:()=>{fe(!0),ne(!1)},onTakeOver:()=>kx(c,p,_,W,!1,B,E,Ee,Be),updatedAt:A,user:g}),Be&&q&&Xo(Vv,{handleBackToDashboard:()=>I5({adminRoute:de,router:ye}),isActive:q,onReadOnly:()=>{fe(!0),ne(!1)}}),!ve&&et&&Xo(Ju,{}),!Y&&Xo(Ox,{collectionSlug:Q?.slug,globalSlug:ae?.slug,id:c,pluralLabel:Q?.labels?.plural,useAsTitle:Q?.admin?.useAsTitle}),Xo(Vx,{collectionConfig:Q,config:ee,fallback:be<=1?c?.toString():void 0,globalConfig:ae}),Xo(y0,{apiURL:m,BeforeDocumentControls:t,customComponents:{PreviewButton:n,PublishButton:r,SaveButton:s,SaveDraftButton:i},data:N,disableActions:b||Xe,disableCreate:x,EditMenuItems:o,hasPublishPermission:D,hasSavePermission:R,id:c,isEditing:F,isInDrawer:Y,onDelete:U,onDrawerCreateNew:G,onDuplicate:oe,onSave:si,onTakeOver:()=>kx(c,p,_,W,!0,B,E,Ee,Be,fe),permissions:C,readOnlyForIncomingUser:ve,redirectAfterDelete:$,redirectAfterDuplicate:j,slug:Q?.slug||ae?.slug,user:g}),Th("div",{className:[`${vs}__main-wrapper`,Le==="popup"&&`${vs}--detached`].filter(Boolean).join(" "),children:[Th("div",{className:[`${vs}__main`,Le==="popup"&&`${vs}__main--popup-open`].filter(Boolean).join(" "),children:[Xo(Fu,{AfterFields:f,BeforeFields:h||Th(Cq,{children:[it&&Xo(P5,{className:`${vs}__auth`,collectionSlug:Q.slug,disableLocalStrategy:Q.auth?.disableLocalStrategy,email:N?.email,loginWithUsername:it?.loginWithUsername,operation:lt,readOnly:!R,requirePassword:!c,setValidateBeforeSubmit:rr,useAPIKey:it.useAPIKey,username:N?.username,verify:it.verify}),Et&&Xo(xq.Fragment,{children:Xo(ul,{children:l||Xo(_v,{collectionSlug:Q.slug,initialState:I,uploadConfig:Et,UploadControls:a})})})]}),Description:e,docPermissions:C,fields:Ut.fields,forceSidebarWrap:he,readOnly:ve||!R,schemaPathSegments:$e}),d]}),K&&!Y&&Xo(S5,{collectionSlug:p,globalSlug:_})]})]})})})}import{jsx as Sq}from"react/jsx-runtime";import"react";var Iq="field-diff-label",Wx=({children:t})=>Sq("div",{className:Iq,children:t});import{jsx as _q,jsxs as Hx}from"react/jsx-runtime";import{getTranslation as Dq}from"@payloadcms/translations";var Ux="field-diff",Fq=t=>{let{className:e,From:o,i18n:n,label:{label:r,locale:s},nestingLevel:i=0,To:l}=t;return Hx("div",{className:`${Ux}-container${e?` ${e}`:""} nested-level-${i}`,style:i?{"--left-offset":`calc(50%  - (${i} * calc( calc(var(--base)* 0.5) - 2.5px  )))`}:{"--left-offset":"50%"},children:[Hx(Wx,{children:[s&&_q("span",{className:`${Ux}__locale-label`,children:s}),typeof r!="function"&&Dq(r||"",n)]}),Hx("div",{className:`${Ux}-content`,style:i?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[o,l]})]})};export{Xv as Account,sW as ActionsProvider,Ar as AnimateHeight,$W as AppHeader,Wu as ArrayField,Eg as AuthProvider,Hr as Banner,Dc as BlocksDrawer,Fc as BlocksField,sZ as BrowseByFolderButton,zD as BulkUploadDrawer,Tv as BulkUploadProvider,se as Button,M5 as CalendarIcon,jW as Card,Yg as CheckIcon,Pr as CheckboxField,Hn as CheckboxInput,Ve as ChevronIcon,bx as ClientFunctionProvider,Yv as CloseMenuIcon,PZ as CodeBlockIcon,k5 as CodeEdiftor,Tc as CodeEditorLazy,Rc as CodeField,Ii as Collapsible,Ac as CollapsibleField,Lh as ConfigProvider,Uu as ConfirmPasswordField,gt as ConfirmationModal,Sc as CopyIcon,n0 as CopyLocaleData,Au as CopyToClipboard,vb as DateCell,R0 as DateCondition,B5 as DatePicker,Xc as DateTimeField,i1 as DefaultBlockImage,DJ as DefaultBrowseByFolderView,tu as DefaultCell,gJ as DefaultCollectionFolderView,wq as DefaultEditView,ZY as DefaultListView,u0 as DeleteMany,y0 as DocumentControls,dv as DocumentEventsProvider,Fu as DocumentFields,Ml as DocumentIcon,gc as DocumentInfoProvider,Gv as DocumentLocked,Vv as DocumentTakeOver,Jr as DragHandleIcon,Nt as Drawer,pv as DrawerContentContainer,Vn as DrawerToggler,Xi as Dropzone,kn as EditDepthProvider,Ur as EditIcon,uU as EditMany,xv as EditUpload,_x as EmailAndUsernameFields,$i as EmailField,iY as EntityVisibilityProvider,fx as ErrorIcon,ho as ErrorPill,ad as ExternalLinkIcon,Ge as FieldDescription,Fq as FieldDiffContainer,Wx as FieldDiffLabel,ze as FieldError,Se as FieldLabel,Af as File,Sv as FileDetails,sx as FolderFileTable,Tu as FolderIcon,Zi as FolderProvider,Kn as Form,IM as FormLoadingOverlayToggle,vr as FormSubmit,fU as FullscreenModal,D0 as GenerateConfirmation,dx as GridViewIcon,Zc as GroupField,go as Gutter,Qv as Hamburger,Yc as HiddenField,CU as HydrateAuthProvider,px as InfoIcon,lh as ItemCardGrid,nu as JSONField,ru as JoinField,Ju as LeaveWithoutSaving,Jg as LineIcon,Vt as Link,eg as LinkIcon,G0 as ListControls,rb as ListDrawerContextProvider,q0 as ListHeader,ib as ListQueryProvider,Cd as ListSelection,mx as ListViewIcon,YZ as LivePreviewProvider,rn as LoadingOverlay,JI as LoadingOverlayToggle,kg as LocaleProvider,id as Locked,Q0 as LogOutIcon,UX as Logout,Jv as MenuIcon,AZ as MinimizeMaximizeIcon,ir as Modal,e1 as MoreIcon,Ru as MoveDocToFolder,pD as MoveDocToFolderButton,NZ as MoveFolderIcon,JX as NavGroup,t0 as NavToggler,wc as NullifyLocaleField,P0 as NumberCondition,su as NumberField,bc as OperationProvider,dz as OrderableTable,ou as Pagination,wx as ParamsProvider,Xu as PasswordField,Op as PayloadIcon,K0 as PerPage,mt as Pill,ub as PillSelector,Dr as PlusIcon,iu as PointField,ut as Popup,Ce as PopupList,$g as PreferencesProvider,f0 as PreviewButton,Iv as PreviewSizes,tY as ProgressBar,b0 as PublishButton,mX as PublishMany,Cz as QueryPresetsAccessCell,_z as QueryPresetsColumnField,hz as QueryPresetsColumnsCell,vz as QueryPresetsWhereCell,Rz as QueryPresetsWhereField,cu as RadioGroupField,pt as ReactSelect,N0 as RelationshipCondition,pu as RelationshipField,Gb as RelationshipInput,eu as RelationshipProvider,Rb as RelationshipTable,me as RenderCustomComponent,_B as RenderDefaultCell,_o as RenderFields,lx as RenderTitle,hu as RichTextField,AY as RootProvider,fv as RouteCacheProvider,Qh as RouteTransitionProvider,gu as RowField,Ln as RowLabel,Yh as RowLabelProvider,v0 as SaveButton,x0 as SaveDraftButton,Fd as ScrollInfoProvider,dd as SearchFilter,_i as SearchIcon,Ix as SearchParamsProvider,a1 as SectionTitle,pt as Select,BY as SelectAll,k0 as SelectCondition,bu as SelectField,il as SelectInput,Gl as SelectMany,VY as SelectRow,i0 as SelectionProvider,ab as ServerFunctionsProvider,Ox as SetDocumentStepNav,Vx as SetDocumentTitle,TW as SetStepNav,yt as ShimmerEffect,RZ as SortColumn,iz as SortHeader,lz as SortRow,N5 as StaggeredShimmers,hx as SuccessIcon,tg as SwapIcon,tv as TabComponent,p0 as Table,qc as TableColumnsProvider,yu as TabsField,eb as TabsProvider,j0 as TextCondition,Ui as TextField,rv as TextInput,wu as TextareaField,nv as TextareaInput,kh as ThemeProvider,gr as Thumbnail,Uc as TimezonePicker,So as Tooltip,er as Translation,Nh as TranslationProvider,Su as UIField,yX as UnpublishMany,_v as Upload,Ug as UploadEditsProvider,zu as UploadField,qb as UploadHandlersProvider,Dp as UploadInput,zv as ViewDescription,gx as WarningIcon,Fi as WatchChildErrors,Zg as WatchCondition,Sx as WindowInfoProvider,ct as XIcon,BG as allFieldComponents,L5 as defaultTheme,js as documentDrawerBaseClass,De as fieldBaseClass,s6 as fieldComponents,xu as fieldReducer,cc as formatDrawerSlug,zg as formatTimeToNow,WH as getHTMLDiffComponents,fo as parseSearchParams,ue as toast,Zv as useActions,BZ as useAddClientFunction,ws as useAllFormFields,_e as useAuth,Go as useBulkUpload,HD as useBulkUploadDrawerSlug,Ib as useCellProps,qH as useClickOutside,S0 as useClickOutsideContext,OZ as useClientFunctions,Ts as useCollapsible,H as useConfig,lr as useDebounce,jb as useDebouncedCallback,Jb as useDebouncedEffect,$h as useDelay,db as useDelayedRender,vt as useDocumentDrawer,Bi as useDocumentDrawerContext,os as useDocumentEvents,ba as useDocumentForm,Re as useDocumentInfo,cr as useDocumentTitle,lc as useDrawerSlug,ot as useEditDepth,Gt as useEffectEvent,yx as useEntityVisibility,Ne as useField,Wt as useFolder,ke as useForm,Zh as useFormBackgroundProcessing,Tt as useFormFields,ui as useFormInitializing,ro as useFormModified,_r as useFormProcessing,oo as useFormSubmitted,oa as useHotkey,$n as useIntersect,Gi as useListDrawer,fr as useListDrawerContext,Lt as useListQuery,gb as useListRelationships,we as useLocale,ce as useModal,sa as useNav,ur as useOperation,mY as useParams,qG as usePayloadAPI,Zt as usePreferences,Tp as useResize,qt as useRouteCache,Ue as useRouteTransition,tP as useRowLabel,Dd as useScrollInfo,DY as useSearchParams,Fo as useSelection,Rt as useServerFunctions,xr as useStepNav,Ya as useTableColumns,$5 as useTheme,xi as useThrottledEffect,L as useTranslation,iv as useUploadControls,wi as useUploadEdits,vu as useUploadHandlers,Lv as useUseTitleField,Zd as useWatchForm,ca as useWindowInfo,Me as withCondition};
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=index.js.map
